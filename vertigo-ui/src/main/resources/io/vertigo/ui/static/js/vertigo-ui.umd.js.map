{"version":3,"file":"vertigo-ui.umd.js","sources":["../src/components/VChatbot.vue","../src/components/VCommands.vue","../src/components/VComments.vue","../src/components/VExtensionsStore.vue","../src/components/VFacets.vue","../src/components/VGeopointInput.vue","../src/components/VHandles.vue","../src/components/VJsonEditor.vue","../src/components/VNotifications.vue","../node_modules/lodash.debounce/index.js","../src/components/VMap.vue","../src/components/VMapLayer.vue","../src/components/VTree.vue","../src/components/VFileUpload.vue","../src/components/VFileUploadQuasar.vue","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/hsl.js","../src/components/dashboard/dashboard-tools.js","../src/components/dashboard/VDashboardChart.vue","../src/directives/VAlertUnsavedUpdates.js","../src/directives/VAutofocus.js","../src/directives/VIfUnsavedUpdates.js","../node_modules/quasar/src/utils/throttle/throttle.js","../src/directives/VMinify.js","../src/utils/scroll.js","../src/directives/VScrollSpy.js","../node_modules/quasar/src/utils/private.sort/sort.js","../node_modules/quasar/src/utils/is/is.js","../src/methods.js","../src/main.js","../src/lang/vertigo-ui-lang-en-us.js","../src/lang/vertigo-ui-lang-fr.js"],"sourcesContent":["<template>\r\n    <div class=\"bot\">\r\n        <q-scroll-area class=\"bg-grey-2 col-grow row q-pa-sm\" ref=\"scroller\">\r\n            <div class=\"q-pr-md\">\r\n                <div v-for=\"(msg, index) in messages\" :key=\"index\">\r\n                    <q-chat-message v-if=\"msg.rating\" class= \"animate-fade\" :key=\"'msgRating-'+index\" :sent=\"msg.sent\" :bg-color= \"msg.bgColor\" :avatar = \"msg.avatar\" >\r\n                        <q-rating v-model=\"msg.rating\" :max=\"5\" style=\"font-size: 2rem;\" readonly ></q-rating>\r\n                    </q-chat-message>\r\n                    <q-chat-message v-if=\"msg.text\" class=\"animate-fade\" :key=\"'msg-'+index\" :label=\"msg.label\" :sent=\"msg.sent\" :text-color=\"msg.textColor\"\r\n                        :bg-color=\"msg.bgColor\" :name=\"msg.name\" :avatar=\"msg.avatar\" :text=\"msg.text\" :stamp=\"msg.stamp\" ></q-chat-message>\r\n                </div>\r\n                <div class=\"sys-chat\">\r\n                    <q-chat-message v-if=\"error\" class=\"animate-fade\" bg-color=\"orange-4\" text-color=\"black\" size=\"12\" >\r\n                        <div class=\"q-pb-sm\">\r\n                            {{$q.lang.vui.chatbot.errorMessage}}\r\n                        </div>\r\n                        <q-btn class=\"full-width\" @click=\"askBot(lastPayload)\" :label=\"$q.lang.vui.chatbot.tryAgain\" color=\"white\" text-color=\"black\" ></q-btn>\r\n                    </q-chat-message>\r\n                </div>\r\n                <div class=\"sys-chat non-selectable\">\r\n                    <q-chat-message v-if=\"inputConfig.buttons.length > 0\" class=\"animate-fade\" bg-color=\"primary\" size=\"12\">\r\n                        <div class=\"text-blue-2 q-caption\">\r\n                            {{$q.lang.vui.suggestedAnswers}}\r\n                        </div>\r\n                        <div class=\"row docs-btn\">\r\n                            <q-btn v-for=\"(btn, index) in inputConfig.buttons\" class=\"full-width\" :key=\"'repChatBtn-'+index\" @click=\"postAnswerBtn(btn)\" :label=\"btn.title\" color=\"white\" text-color=\"black\" ></q-btn>\r\n                        </div>\r\n                    </q-chat-message>\r\n                </div>\r\n                <div class=\"message-processing sys-chat non-selectable\" >\r\n                    <q-chat-message v-if=\"processing\" class=\"animate-fade\" bg-color=\"grey-4\">\r\n                        <q-spinner-dots size=\"2em\"></q-spinner-dots>\r\n                    </q-chat-message>\r\n                </div>\r\n                <div class=\"non-selectable\">\r\n                    <q-chat-message v-if=\"inputConfig.showRating\" class=\"animate-fade\" bg-color=\"primary\" sent >\r\n                        <q-rating v-model=\"rating\" :max=\"4\" style=\"font-size: 2rem;\" ></q-rating>\r\n                    </q-chat-message>\r\n                </div>\r\n            </div>\r\n        </q-scroll-area>\r\n        <div class=\"message-response row docs-btn q-pl-sm non-selectable\">\r\n            <q-input :type=\"inputConfig.modeTextarea ? 'textarea' : 'text'\"\r\n                     ref=\"input\"\r\n                     @keyup.enter=\"inputConfig.modeTextarea ? false : (inputConfig.responseText.trim() === '' && inputConfig.rating === 0) ? false : postAnswerText()\"\r\n                     :max-height=\"100\"\r\n                     class=\"col-grow\"\r\n                     v-model=\"inputConfig.responseText\"\r\n                     :placeholder=\"$q.lang.vui.chatbot.inputPlaceholder\"\r\n                     :disable=\"processing || error\"\r\n                     :loading=\"processing\"></q-input>\r\n        \r\n            <q-btn round color=\"primary\" icon=\"send\" @click=\"postAnswerText()\" :disable=\"processing || (inputConfig.responseText.trim() === '' && inputConfig.rating === 0)\"></q-btn>\r\n            <q-btn round color=\"red\" icon=\"refresh\" @click=\"restart\" v-if=\"devMode === true\"></q-btn>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    props : {\r\n            botUrl : { type: String, required:true },\r\n            devMode: { type: Boolean, 'default': false },\r\n            minTimeBetweenMessages: { type: Number, 'default': 1000 },\r\n            botAvatar: { type: String, required:true },\r\n            botName: { type: String, required:true }\r\n    },\r\n    data: function () {\r\n        return {\r\n            // config\r\n            convId: 42,\r\n            // technique\r\n            inputConfig: {\r\n                modeTextarea : false, // TODO, il exste d'autres modes, par ex email\r\n                responseText: \"\",\r\n                responsePattern : \"\",\r\n                showRating : false,\r\n                rating: 0,\r\n                buttons: [],\r\n            },\r\n            prevInputConfig: {},\r\n            lastPayload: null,\r\n            processing: false,\r\n            error: false,\r\n            messages: [],\r\n            keepAction: false,\r\n            menu: false,\r\n            lastUserInteraction: 0,\r\n            watingMessagesStack: []\r\n        }\r\n    },\r\n    created : function () {\r\n        this.askBot('/start'); // lancement de la phrase d'accueil\r\n        this.convId = Math.random();\r\n        \r\n    },\r\n    methods: {\r\n        postAnswerBtn: function (btn) {\r\n            this.messages.push({\r\n                text: [btn.title],\r\n                sent: true,\r\n                bgColor: \"primary\",\r\n                textColor: \"white\"\r\n            });\r\n\r\n            this._scrollToBottom();\r\n            \r\n            this.askBot(btn.payload);\r\n        },\r\n        postAnswerText: function () {\r\n            var sanitizedString = this.inputConfig.responseText.trim().replace(/(?:\\r\\n|\\r|\\n)/g, '<br>');\r\n            \r\n            this.messages.push({\r\n                text: sanitizedString !== '' ? [sanitizedString] : null,\r\n                rating: this.inputConfig.rating > 0 ? this.inputConfig.rating : null,\r\n                sent: true,\r\n                bgColor: \"primary\",\r\n                textColor: \"white\"\r\n            });\r\n\r\n            this._scrollToBottom();\r\n            \r\n            var response = this.inputConfig.responsePattern === \"\" ? sanitizedString.replace(/(\")/g, \"\\\"\")\r\n                                                            : this.inputConfig.responsePattern.replace(\"#\", sanitizedString.replace(/(\")/g, \"\\\\\\\"\"));\r\n            \r\n            this.askBot(response);\r\n        },\r\n        _scrollToBottom: function () {\r\n            if (this.$refs.scroller) {\r\n                this.$refs.scroller.setScrollPosition(this.$refs.scroller.scrollHeight, 400);\r\n            }\r\n        },\r\n        askBot: function (value) {\r\n            this.prevInputConfig = JSON.parse(JSON.stringify(this.inputConfig));\r\n            this.reinitInput();\r\n            this.lastPayload = value;\r\n            this.processing = true;\r\n            \r\n            this.lastUserInteraction = Date.now();\r\n            \r\n            this.$http.post(this.botUrl, {sender: this.convId, message: value})\r\n                .then(function(httpResponse) {\r\n                    // success\r\n                    httpResponse.data.forEach(function(value) {\r\n                        this.watingMessagesStack.push(value);\r\n                    }, this);\r\n                    \r\n                    this._displayMessages();\r\n                }.bind(this))\r\n                .catch(\r\n                function() {\r\n                    // error\r\n                    this.error = true;\r\n                    \r\n                    this.processing = false;\r\n                    this._scrollToBottom();\r\n                }.bind(this));\r\n                \r\n        },\r\n        _displayMessages: function () {\r\n            if (this.watingMessagesStack.length > 0) {\r\n                var currentMessage = this.watingMessagesStack.shift();\r\n                var watingTime = this.lastUserInteraction - Date.now() + this.minTimeBetweenMessages;\r\n                \r\n                this.sleep(watingTime).then(function() {\r\n                    this._processResponse(currentMessage);\r\n                    this.lastUserInteraction = Date.now();\r\n                    this._displayMessages();\r\n                }.bind(this));\r\n            } else {\r\n                this.processing = false;\r\n                if (this.keepAction) {\r\n                    this.inputConfig = this.prevInputConfig;\r\n                    this.inputConfig.responseText = \"\";\r\n                    this.keepAction = false;\r\n                }\r\n                \r\n                this.sleep(1).then(function() { // en différé le temps que la vue soit mise à jour\r\n                    this.$refs.input.focus();\r\n                }.bind(this));\r\n            }\r\n        },\r\n        _processResponse: function (response) {\r\n        var lastMsg = this.messages[this.messages.length-1];\r\n            if (lastMsg && !lastMsg.sent) {\r\n                // ajoute un message à un précédent message du bot\r\n                lastMsg.text.push(response.text);\r\n            } else {\r\n                // première réponse du bot\r\n                this.messages.push({\r\n                    avatar: this.botAvatar,\r\n                    text: [response.text],\r\n                    bgColor: \"grey-4\"\r\n                });\r\n            }\r\n            \r\n            if (response.buttons) {\r\n                response.buttons.forEach(function(value) {\r\n                    if (value.title.startsWith(\"#\")) {\r\n                        var cmd = value.title.substring(1);\r\n                        if (cmd === \"textarea\") this.inputConfig.modeTextarea = true;\r\n                        if (cmd === \"eval\") this.inputConfig.showRating = true;\r\n                        if (cmd === \"keep_action\") this.keepAction = true;\r\n                        if (value.payload) this.inputConfig.responsePattern = value.payload;\r\n                    } else {\r\n                        this.inputConfig.buttons.push(value);\r\n                    }\r\n                }, this);\r\n            }\r\n            \r\n            this._scrollToBottom();\r\n        },\r\n        restart: function () {\r\n            this.messages.push({\r\n                text: [this.$q.lang.vui.chatbot.restartMessage],\r\n                bgColor: \"orange\"\r\n            });\r\n            this._scrollToBottom();\r\n            \r\n            this.$http.post(this.botUrl, '{\"sender\":\"' + this.convId + '\",\"message\":\"/restart\"}')\r\n            .then(function() {\r\n                this.askBot(\"/start\"); // lancement de la phrase d'accueil\r\n            }.bind(this));\r\n        },\r\n        reinitInput: function () {\r\n            this.inputConfig.modeTextarea = false;\r\n            this.inputConfig.responsePattern = \"\";\r\n            this.inputConfig.responseText = \"\";\r\n            this.inputConfig.showRating = false;\r\n            this.inputConfig.rating = 0;\r\n            this.inputConfig.buttons = [];\r\n            this.error = false;\r\n        },\r\n        sleep : function(milliseconds) {\r\n            return new Promise(function(resolve) {setTimeout(resolve, milliseconds)});\r\n        }\r\n    }\r\n}\r\n</script>","<template>\r\n    <div>\r\n        <q-select v-if=\"!isCommandCommited\" :placeholder=\"$q.lang.vui.commands.globalPlaceholder\" outlined bg-color=\"white\" dense ref=\"commandInput\" autofocus dropdown-icon=\"search\" @blur=\"reset\"\r\n                use-input input-debounce=\"300\" hide-selected  v-on:keydown=\"commitCommand\"\r\n                :options=\"commandAutocompleteOptions\" @filter=\"searchCommands\" @update:model-value=\"selectCommand\">\r\n            <span v-if=\"text !== '' && selectedCommand.commandName && selectedCommand.commandName.startsWith(text)\" style=\"z-index= -1; line-height: 40px; opacity:0.5; position:fixed;\">{{selectedCommand.commandName}}</span>\r\n        </q-select>\r\n        <div v-else class=\"row col-12 justify-between bg-white round-borders overflow-hidden shadow-2 text-black\" v-on:keyup.enter=\"executeCommand\">\r\n            <div class=\"bg-grey-4 text-center vertical-middle text-bold q-px-md\" style=\"line-height: 40px;\">{{selectedCommand.commandName}}</div>\r\n            <div v-if=\"!isExecuted\" class=\"row col items-center q-py-xs\">\r\n                <template v-if=\"selectedCommand.commandParams && selectedCommand.commandParams.length > 0\" >\r\n                    <template v-for=\"(param, index) in selectedCommand.commandParams\" :key=\"param\" >\r\n                        <template v-if=\"param.paramType.rawType === 'io.vertigo.commons.command.GenericUID'\">\r\n                            <q-select class=\"col q-px-xs\" use-chips bg-color=\"white\" dense borderless use-input input-debounce=\"300\" :value=\"getParamValue(index)\" :options=\"paramsAutocompleteOptions[index]\" :autofocus=\"index === 0\" dropdown-icon=\"search\" \r\n                                  v-on:keydown.delete=\"function(event) {backIfNeeded(event, index === 0)}\" v-on:keyup.esc=\"function(event) {backIfNeeded(event, index === 0)}\"   \r\n                                  @filter=\"autocompleteParam(param, index, val, update, abort)\" @update:model-value=\"selectParam(newValue, index)\" style=\"height:32px;\">\r\n                            </q-select>\r\n                        </template>\r\n                        <template v-else>\r\n                            <q-input class=\"col q-px-xs\" color=\"secondary\" borderless v-model=\"commandParamsValues[index].value\" @keydown.delete=\"backIfNeeded(event, index === 0)\" @keyup.esc=\"backIfNeeded(event, index === 0)\" :autofocus=\"index === 0\" @keyup.enter=\"handleEnter(index)\" dense style=\"height:32px;\">\r\n                            </q-input>\r\n                        </template>\r\n                        <q-separator vertical></q-separator>\r\n                    </template>\r\n                </template>\r\n                <div class=\"col\" v-else>{{$q.lang.vui.commands.executeCommand}}</div>\r\n                <q-btn @click=\"executeCommand\" flat icon=\"play_arrow\" size=\"sm\" round></q-btn>\r\n            </div>\r\n            <div v-else class=\"row col items-center\" >\r\n                <div class=\"col shadow-2 bg-secondary text-white q-px-md\" style=\"line-height: 40px;\">{{commandResult.display}}</div>\r\n                <q-btn v-if=\"commandResult.targetUrl\" type=\"a\" :href=\"baseUrl + commandResult.targetUrl\" flat  >{{$q.lang.vui.commands.linkLabel}}</q-btn>\r\n                <q-btn @click=\"reset\" flat icon=\"cancel\" size=\"sm\" round></q-btn>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data: function() {\r\n        return {\r\n            text: \"\",\r\n            commandParamsValues: [],\r\n            commands : [],\r\n            commandAutocompleteOptions : [],\r\n            isCommandCommited: false,\r\n            selectedCommand: {},\r\n            isExecuted: false,\r\n            commandResult : {},\r\n            paramsAutocompleteOptions: []\r\n        }\r\n    },\r\n    props : {\r\n        baseUrl : { type: String, 'default': '/' },\r\n    },\r\n    methods : {\r\n        searchCommands : function(val, update, abort) {\r\n            this.$data.text = val;\r\n            this.$data.selectedCommand = {};\r\n            if (val.length < 1) {\r\n                abort();\r\n                return;\r\n            }\r\n            this.$http.post(this.baseUrl+'api/vertigo/commands/_search', {prefix: val} )\r\n                .then( function (response) { //Ok\r\n                    this.$data.commands = response.data;\r\n                    update(function() {\r\n                        this.$data.commandAutocompleteOptions = this.$data.commands.map(function(command) {\r\n                             return {\r\n                                 label: command.commandName,\r\n                                 sublabel: command.descpription,\r\n                                 value: command.commandName,\r\n                                 command : command\r\n                             }\r\n                        });\r\n                    }.bind(this));\r\n                    if (this.$data.commands.length > 0) {\r\n                        this.chooseCommand(this.$data.commands[0], false);\r\n                    }\r\n                }.bind(this));\r\n            \r\n        },\r\n        selectCommand : function (selection) {\r\n            this.chooseCommand(selection.command, true);\r\n        },\r\n        chooseCommand: function (command, commitCommand) {\r\n            this.$data.selectedCommand = command;\r\n            if (this.$data.selectedCommand.commandParams) {\r\n                // if we have params\r\n                this.$data.commandParamsValues = this.$data.selectedCommand.commandParams.map(function()  {\r\n                    // we prepare params\r\n                    return {\r\n                        value:\"\"\r\n                    };  \r\n                });\r\n            } else {\r\n                this.$data.commandParamsValues = [];\r\n            }\r\n            this.$data.isCommandCommited = commitCommand;\r\n        },\r\n        commitCommand : function(keyEvent) {\r\n            if (this.$data.selectedCommand && this.$data.selectedCommand.commandName) {\r\n                switch(keyEvent.keyCode) {\r\n                    case 9:\r\n                    case 13:\r\n                        this.$data.isCommandCommited = true;\r\n                        keyEvent.preventDefault();\r\n                }\r\n            }\r\n        },\r\n        executeCommand : function() {\r\n            if (this.$data.commandParamsValues.every(function(paramValue){ return paramValue;})) {\r\n                var actualParams = this.$data.commandParamsValues.map(function (param) {\r\n                    return param.value;\r\n                });\r\n                \r\n                this.$http.post(this.baseUrl+'api/vertigo/commands/_execute', {command: this.$data.selectedCommand.commandName, params: actualParams} )\r\n                    .then( function (response) { //Ok\r\n                        this.$data.isExecuted = true;\r\n                        this.$data.commandResult = response.data;\r\n                    }.bind(this));\r\n            } else {\r\n                return false;\r\n            }\r\n            \r\n        },\r\n        handleEnter: function (index) {\r\n            if (index === this.$data.selectedCommand.commandParams.length - 1 && this.$data.commandParamsValues[index].value) {\r\n                this.executeCommand();\r\n            }\r\n            // otherwise nothing particular\r\n        },\r\n        autocompleteParam : function(param, index, val, update, abort) {\r\n            if (val.length < 1) {\r\n                abort();\r\n                return;\r\n            }\r\n            this.$http.get(this.baseUrl+'api/vertigo/commands/params/_autocomplete', {params : {terms: val, entityClass: param.paramType.actualTypeArguments[0]}})\r\n                .then( function (response) {\r\n                    update(function() {\r\n                        var newOptions = this.$data.paramsAutocompleteOptions.slice();\r\n                        newOptions[index] = response.data.map(function(element) {\r\n                            return {\r\n                                label: element.label,\r\n                                value: element.urn,\r\n                            }\r\n                        });\r\n                        this.$data.paramsAutocompleteOptions = newOptions;\r\n                    }.bind(this));\r\n                }.bind(this));\r\n            \r\n        },\r\n        selectParam : function (selection, index) {\r\n            var newParams = this.$data.commandParamsValues.slice();\r\n            newParams[index] = selection;\r\n            this.$data.commandParamsValues = newParams;\r\n            \r\n        },\r\n        getParamValue(index) {\r\n            var actualValue = this.$data.commandParamsValues[index];\r\n            if (actualValue && actualValue.value) {\r\n                return actualValue;\r\n            }\r\n        },\r\n        backIfNeeded: function (index, isFirst) {\r\n            if (isFirst && !this.$data.commandParamsValues[0].value) {\r\n                this.back();\r\n            }\r\n            // otherwise nothing particular\r\n        },\r\n        back: function () {\r\n            this.$data.commandParamsValues = [];\r\n            this.$data.commands = [];\r\n            this.$data.isCommandCommited = false;\r\n            this.$data.selectedCommand = {};\r\n            this.$data.isExecuted = false;\r\n            this.$data.commandResult = {};\r\n            this.$data.paramsAutocompleteOptions = [];\r\n            this.$nextTick(function () {\r\n                this.$refs.commandInput.updateInputValue(this.$data.text);\r\n            });\r\n            \r\n        },\r\n        reset: function() {\r\n            this.back();\r\n            this.$data.text = \"\";\r\n        }\r\n    } \r\n\r\n}\r\n</script>","<template>\r\n    <span>\r\n        <q-btn round :flat=\"flat\" size=\"lg\" :color=\"color\" :text-color=\"textColor\" :icon=\"count>0?icon:iconNone\" @click=\"commentDrawer = !commentDrawer\" class=\"on-left\" :title=\"$q.lang.vui.comments.title\">\r\n            <q-badge floating small color=\"red\" v-if=\"count>0\" style=\"right:-.4em;top:-.4em;\">{{count}}</q-badge>\r\n        </q-btn>\r\n        <q-drawer overlay behavior=\"mobile\" :width=\"600\" v-model=\"commentDrawer\" side=\"right\" style=\"top:58px;\">\r\n            <q-list >\r\n                <q-item-label header><big>{{$q.lang.vui.comments.title}}</big></q-item-label>\r\n                <q-item>\r\n                <q-item-section><q-input class=\"col\" type=\"textarea\" autogrow v-model=\"commentTextArea\" :label=\"$q.lang.vui.comments.inputLabel\" stack-label></q-input></q-item-section>\r\n                    <q-item-section side><q-btn color=\"primary\" round icon=\"send\" :title=\"$q.lang.vui.comments.actionLabel\" :aria-label=\"$q.lang.vui.comments.actionLabel\" @click=\"publishComment\"></q-btn></q-item-section>\r\n            </q-item>\r\n                <q-separator />\r\n            <q-item v-for=\"comment in list\" :key=\"comment.uuid\" class=\"items-start\" v-bind:class=\"{'cursor-pointer': comment.author==connectedAccount}\">\r\n                    <q-item-section avatar> <q-avatar><img :src=\"baseUrl+'x/accounts/api/'+comment.author+'/photo'\"></q-avatar></q-item-section>\r\n                    <q-item-section>\r\n                        <q-item-label>{{comment.authorDisplayName}}</q-item-label>\r\n                        <div>\r\n                            {{comment.msg}}\r\n                        </div>\r\n                    </q-item-section>\r\n                    <q-item-section side>\r\n                        <q-item-label stamp>{{toDelay(new Date(comment.creationDate))}}</q-item-label>\r\n                        <q-icon name=\"edit\" v-if=\"comment.author==connectedAccount\"></q-icon>\r\n                    </q-item-section>\r\n                            <q-popup-edit v-if=\"comment.author==connectedAccount\" :buttons=\"true\" @save=\"updateComment(comment)\" :label-cancel=\"$q.lang.vui.comments.cancel\" :label-set=\"$q.lang.vui.comments.save\">\r\n                                <q-input type=\"textarea\" autogrow v-model=\"comment.msg\" dense ></q-input>\r\n                            </q-popup-edit>\r\n                </q-item>\r\n        </q-list>\r\n        </q-drawer>\r\n    </span>\r\n</template>\r\n<script>\r\nimport * as Quasar from \"quasar\"\r\n\r\nexport default {\r\n    props : {\r\n        concept : { type: String },\r\n        id : { type: String },\r\n        icon : { type: String, 'default': 'comment' },\r\n        iconNone : { type: String, 'default': 'add_comment' },\r\n        baseUrl : { type: String, 'default': '/api/', required:true },\r\n        connectedAccount : { type: String },\r\n        color : { type: String, 'default': 'primary'},\r\n        textColor : { type: String, 'default': 'white'},\r\n        flat : { type: Boolean, 'default': false}\r\n    },\r\n    data: function() {\r\n        return {\r\n            list: [],\r\n            count: 0,\r\n            commentDrawer: false,\r\n            commentTextArea :\"\"\t    \r\n        }\r\n    },\r\n    created: function() {\r\n        this.fetchCommentsList();\r\n\r\n    },\r\n    methods: {\r\n        fetchCommentsList: function() {\r\n            this.$http.get(this.baseUrl+'x/comment/api/comments?concept='+this.concept+'&id='+this.id)\r\n            .then( function (response) { //Ok\r\n                this.list = response.data;\r\n                this.count = this.list.length;\r\n            }.bind(this));\r\n        },\r\n        publishComment: function() {\r\n            var newComment = {\r\n                    msg : this.commentTextArea\r\n            };\r\n            if (newComment.msg){\r\n                newComment.concept = this.concept;\r\n                newComment.id = this.id;\r\n                this.$http.post(this.baseUrl+'x/comment/api/comments?concept='+this.concept+'&id='+this.id, newComment)\r\n                .then( function () { //Ok\r\n                    this.commentTextArea = '';\r\n                    this.fetchCommentsList();\r\n                }.bind(this));\r\n            }\r\n        },\r\n        updateComment: function(newComment) {\r\n            this.$http.put(this.baseUrl+'x/comment/api/comments/'+newComment.uuid, newComment)\r\n            .then( function () { //Ok\r\n                this.commentTextArea = '';\r\n                this.fetchCommentsList();\r\n            }.bind(this));\r\n        },\r\n        toDelay : function(creationDate) {\r\n            let diff = Quasar.date.getDateDiff(Date.now(),creationDate, 'days');\r\n            if(diff>0)\r\n                return diff+' days';\r\n            diff = Quasar.date.getDateDiff(Date.now(),creationDate, 'hours');\r\n            if(diff>0)\r\n                return diff+' hours';\r\n            diff = Quasar.date.getDateDiff(Date.now(),creationDate, 'minutes');\r\n            if(diff>0)\r\n                return diff+' min';\r\n            return 'Now';\t    \t\r\n        }\r\n    }\r\n\r\n}\r\n</script>","<template>\r\n    <div class=\"row q-col-gutter-md\">\r\n        <div v-for=\"extension in extensions\" class=\"col-xs-12 col-lg-6 col-xl-4\" :key=\"extension.name\"><q-card>\r\n            <q-item  class=\"bg-white\" style=\"height: 100px;\" >\r\n                <q-item-section avatar>\r\n                    <q-icon :name=\"extension.icon\" size=\"40px\" :style=\"getIconStyle(extension.color)\"></q-icon>\r\n                </q-item-section>\r\n                <q-item-section>\r\n                    <div class=\"row col items-center\"><div class=\"q-subheading text-bold\">{{extension.label}}</div><div class=\"col\"></div><div><q-toggle disable readonly color=\"positive\" v-model=\"extension.enabled\"></q-toggle></div></div>\r\n                    <div class=\"row col q-body-2 text-justify\">{{extension.description}}</div>\r\n                </q-item-section>\r\n            </q-item>\r\n        </q-card></div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    props : {\r\n        activeSkills : { type: Array, required : true }\r\n    },\r\n    data: function() {\r\n        return {\r\n            extensions: [],\r\n        }\r\n    },\r\n    created: function() {\r\n        var availableExtensions = [\r\n                {name : \"vertigo-audit\", label : \"Audit\", description:\"Trace every single aspect of your app through exhaustive logging capabilities.\", color:\"#F7578C\", icon : \"fas fa-clipboard-list\", enabled : false },\r\n                {name : \"vertigo-dashboard\", label : \"Dashboard\", description:\"Monitor you system to make sure your app meets the customer requirements.\", color:\"#742774\", icon : \"fas fa-chart-line\", enabled : false },\r\n                {name : \"vertigo-geo\", label : \"Geo\", description:\"Enhance your data by enabling geographic functions and tools.\" , icon : \"fas fa-globe\", color:\"#0E2947\", enabled : false },\r\n                {name : \"vertigo-ledger\", label : \"Ledger\", description:\"Use a blockchain to enforce secure transactions in your app !\" , icon : \"fas fa-link\", color:\"#00AC5C\", enabled : false },\r\n                {name : \"vertigo-orchestra\", label : \"Orchestra\", description:\"Manage jobs and monitor their status with this powerfull control tower.\", color:\"#FC636B\", icon : \"fas fa-tasks\", enabled : false },\r\n                {name : \"vertigo-quarto\", label : \"Quarto\", description:\"Generate slick documents and reports using the Quarto template engine.\", color:\"#0747A6\", icon : \"fas fa-file-invoice\", enabled : false },\r\n                {name : \"vertigo-social\", label : \"Social\", description:\"Ensure real time communication and collaboration between your app users.\", color:\"#FF3366\", icon : \"far fa-comments\", enabled : false },\r\n                {name : \"vertigo-stella\", label : \"Stella\", description:\"Enable multi-node task dispatching for your app and assign specific tasks to each node.\", color:\"#0066FF\", icon : \"fas fa-network-wired\", enabled : false }\r\n        ];\r\n        \r\n        availableExtensions.forEach(function (availableExtension) {\r\n            availableExtension.enabled = this.$props.activeSkills.indexOf(availableExtension.name) > -1 ;\r\n        }.bind(this));\r\n\r\n        this.extensions = availableExtensions;\r\n    },\r\n    methods :  {\r\n        getIconStyle : function (color) {\r\n            return 'border: 3px solid '+ color+'; background-color: '+color+'; color: white; padding: 5px; width: 70px; height: 70px;';\r\n        }\r\n    }\r\n\r\n}\r\n</script>","<template>\r\n    <template v-if=\"render === 'selects' \">\r\n        <div class=\"row col q-gutter-md\" :class=\"{ 'horizontal-facets' : layout === 'horizontal'}\" >\r\n            <template v-for=\"facet in facets.filter(facetFilter)\" :key=\"facet.code\">\r\n                <div class=\"facet-select\">\r\n                    <q-select v-if=\"facet.multiple\"  :label=\"facet.label\" :model-value=\"selectedFacets[facet.code]\" multiple @add=\"selected =>  $emit('toogle-facet', facet.code, selected.value.code, contextKey) \" @remove=\"removed => $emit('toogle-facet', facet.code, removed.value, contextKey)\"\r\n                        :options=\"selectedInvisibleFacets(facet.code).concat(facet.values)\" option-value=\"code\" use-chips outlined input-class=\"no-wrap\">\r\n                        <template v-slot:option=\"{ itemProps, opt, selected, toggleOption }\">\r\n                            <q-item v-bind=\"itemProps\" class=\"facet-selection-option\" dense>\r\n                                <q-item-section avatar>\r\n                                    <q-checkbox :model-value=\"selected\" @update:model-value=\"toggleOption(opt)\" size=\"sm\"/>\r\n                                </q-item-section>\r\n                                <q-item-section>\r\n                                 <q-item-label v-html=\"opt.label\" />\r\n                                </q-item-section>\r\n                                <q-item-section side>\r\n                                    <q-chip :label=\"opt.count\" size=\"sm\"></q-chip>\r\n                                </q-item-section>\r\n                            </q-item>\r\n                            </template>\r\n                    \r\n                    </q-select>\r\n\r\n                    <q-select v-else :label=\"facet.label\" :model-value=\"selectedFacets[facet.code].length > 0 ? selectedFacets[facet.code][0] : null\"  @update:modelValue=\"selected => $emit('toogle-facet', facet.code,  selected ? selected : selectedFacets[facet.code][0], contextKey)\"\r\n                        :options=\"selectedInvisibleFacets(facet.code).concat(facet.values)\" option-value=\"code\" clearable emit-value map-options outlined input-class=\"no-wrap\">\r\n                        <template v-slot:option=\"{ itemProps, opt, selected, toggleOption }\">\r\n                            <q-item v-bind=\"itemProps\" class=\"facet-selection-option\" dense>\r\n                                <q-item-section>\r\n                                 <q-item-label v-html=\"opt.label\" />\r\n                                </q-item-section>\r\n                                <q-item-section side>\r\n                                    <q-chip :label=\"opt.count\" size=\"sm\"></q-chip>\r\n                                </q-item-section>\r\n                            </q-item>\r\n                            </template>\r\n                    \r\n                    </q-select>\r\n\r\n\r\n                </div>\r\n            </template>\r\n        </div>\r\n    </template>\r\n    <template v-else>\r\n        <div class=\"facets\">\r\n            <div class=\"selectedFacets q-pb-md\" v-if=\"isAnyFacetValueSelected()\">\r\n                <div v-for=\"(selectedFacetValues, selectedFacet) in selectedFacets\" :key=\"selectedFacet\" >\r\n                    <template v-if=\"!facetMultipleByCode(selectedFacet)\">\r\n                        <q-chip clickable class=\"q-mb-sm\" v-for=\"selectedFacetValue in selectedFacetValues\" :key=\"selectedFacetValue.code\"\r\n                            @click=\"$emit('toogle-facet', selectedFacet, selectedFacetValue, contextKey)\" icon-right=\"cancel\">{{facetLabelByCode(selectedFacet)}}: {{facetValueLabelByCode(selectedFacet, selectedFacetValue)}}\r\n                        </q-chip>\r\n                    </template>\r\n                </div>\r\n            </div>\r\n            <q-list v-for=\"facet in facets.filter(facetFilter)\" :key=\"facet.code\" class=\"facetValues q-py-none\" dense >\r\n                <template v-if=\"facet.multiple || !isFacetSelected(facet.code)\">\r\n                    <q-item-label header>{{facet.label}}</q-item-label>\r\n                    <q-item v-for=\"(value) in selectedInvisibleFacets(facet.code)\" :key=\"value.code\" class=\"facetValue q-ml-md\" clickable @click=\"$emit('toogle-facet', facet.code, value.code, contextKey)\">\r\n                        <q-item-section side v-if=\"facet.multiple\" >\r\n                            <q-checkbox dense v-bind:modelValue=\"true\" @update:modelValue=\"$emit('toogle-facet', facet.code, value.code, contextKey)\" ></q-checkbox>\r\n                        </q-item-section>\r\n                        <q-item-section >{{facetValueLabelByCode(facet.code, value.code)}}</q-item-section> \r\n                        <q-item-section side>{{value.count}}</q-item-section>\r\n                    </q-item>\r\n                    \r\n                    <q-item v-for=\"(value) in visibleFacets(facet.code, facet.values)\" :key=\"value.code\" class=\"facetValue q-ml-md\" clickable @click=\"$emit('toogle-facet', facet.code, value.code, contextKey)\">\r\n                        <q-item-section side v-if=\"facet.multiple\" >\r\n                            <q-checkbox dense v-bind:modelValue=\"isFacetValueSelected(facet.code, value.code)\" @update:modelValue=\"$emit('toogle-facet', facet.code, value.code, contextKey)\" ></q-checkbox>\r\n                        </q-item-section>\r\n                        <q-item-section >{{facetValueLabelByCode(facet.code, value.code)}}</q-item-section> \r\n                        <q-item-section side>{{value.count}}</q-item-section>\r\n                    </q-item>\r\n                    <q-item>\r\n                    <q-btn flat v-if=\"facet.values.length > maxValues && !isFacetExpanded(facet.code)\" @click=\"expandFacet(facet.code)\" class=\"q-ma-none\">{{$q.lang.vui.facets.showAll}}</q-btn>\r\n                    <q-btn flat v-if=\"facet.values.length > maxValues && isFacetExpanded(facet.code)\" @click=\"reduceFacet(facet.code)\" class=\"q-ma-none\">{{$q.lang.vui.facets.showLess}}</q-btn>\r\n                    </q-item>\r\n                </template>\r\n            </q-list>\r\n        </div>\r\n    </template>\r\n</template>\r\n<script>\r\nexport default {\r\n    props: {\r\n        facets: Array,\r\n        selectedFacets: Object,\r\n        contextKey: String,\r\n        facetValueTranslatorProvider : Function,\r\n        layout : { type: String, 'default': 'vertical' },\r\n        render : { type: String, 'default': 'list' },\r\n        facetFilter : { type: Function, 'default': () => true },\r\n        maxValues: {\r\n            type : Number,\r\n            default : 5\r\n        }\r\n  },\r\n  emits: [\"toogle-facet\"],\r\n  computed: {\r\n  },\r\n  data : function() {\r\n      return {\r\n          expandedFacets:[],\r\n          codeToLabelTranslater:{} /** facetCode : function (facetCode, facetValueCode) return facetValueLabel */\r\n      }\r\n  },\r\n  created : function() {\r\n      if (this.facetValueTranslatorProvider !== undefined) this.facetValueTranslatorProvider(this);\r\n  },\r\n  methods: {\r\n      addFacetValueTranslator(facetCode, facetValueCodeTranslator) {\r\n         this.codeToLabelTranslater[facetCode] = facetValueCodeTranslator;\r\n      },\r\n      facetByCode(facetCode) {\r\n          return this.facets.filter(function (facet) {\r\n              return facet.code === facetCode;\r\n          })[0];\r\n      },\r\n      facetValueByCode(facetCode, facetValueCode) {\r\n          return this.facetByCode(facetCode).values.filter(function (facetValue) {\r\n              return facetValue.code === facetValueCode;\r\n          })[0];\r\n      },\r\n      facetLabelByCode(facetCode) {\r\n          return this.facetByCode(facetCode).label;\r\n      },      \r\n      facetMultipleByCode(facetCode) {\r\n          return this.facetByCode(facetCode).multiple;\r\n      },\r\n      facetValueLabelByCode(facetCode, facetValueCode) {\r\n          if(this.codeToLabelTranslater[facetCode]) {\r\n            return this.codeToLabelTranslater[facetCode](facetCode, facetValueCode);\r\n          }\r\n          var facetValueByCode = this.facetValueByCode(facetCode,facetValueCode);\r\n          return facetValueByCode?facetValueByCode.label:facetValueCode; //might be not found\r\n      },\r\n      isFacetValueSelected(facetCode, facetValueCode){\r\n          return this.selectedFacets[facetCode].includes(facetValueCode);\r\n      },\r\n      isFacetSelected(facetCode){\r\n          if (this.selectedFacets[facetCode]) {\r\n              return this.selectedFacets[facetCode].length > 0;\r\n          }\r\n          return false;\r\n      },\r\n      isAnyFacetValueSelected() {\r\n          return Object.keys(this.selectedFacets).some(function (facetCode) {\r\n              return !this.facetMultipleByCode(facetCode);\r\n          }.bind(this));\r\n      },\r\n      expandFacet(facetCode){\r\n          if (!this.isFacetExpanded(facetCode)) {\r\n              this.$data.expandedFacets.push(facetCode);\r\n          }\r\n      },\r\n      reduceFacet(facetCode){\r\n          if (this.isFacetExpanded(facetCode)) {\r\n              this.$data.expandedFacets.splice( this.$data.expandedFacets.indexOf(facetCode), 1);\r\n          }\r\n      },\r\n      isFacetExpanded(facetCode){\r\n         return this.$data.expandedFacets.includes(facetCode);\r\n      },\r\n      selectedInvisibleFacets(facetCode) {\r\n          return this.selectedFacets[facetCode]\r\n             .filter( facetValueCode => !this.facetValueByCode(facetCode, facetValueCode) )\r\n             .map(facetValueCode => { \r\n              var obj = {}; \r\n              obj.code=facetValueCode; \r\n              obj.label=facetValueCode; \r\n              obj.count=0; \r\n              return obj; \r\n          });\r\n      },\r\n      visibleFacets(facetCode, facetValues) {\r\n          if (!this.isFacetExpanded(facetCode)) {\r\n              return  facetValues.slice(0, this.maxValues);\r\n          }\r\n          return facetValues;\r\n      }\r\n  }\r\n}\r\n</script>","<template>\r\n    <slot :updateJson=\"updateJson\">\r\n        <div class=\"inputs\">\r\n            Longitude <input v-model.number=\"inputObject.lon\" @update:model-value=\"updateJson\" ></input>\r\n            Latitude <input v-model.number=\"inputObject.lat\" @update:model-value=\"updateJson\" ></input>\r\n        </div>\r\n    </slot>\r\n</template>\r\n<script>\r\nexport default {\r\n    props : {\r\n      modelValue: { type: Object}\r\n    },\r\n    emits: [\"update:modelValue\"],\r\n    data : function () {\r\n      return {\r\n        inputObject : this.$props.modelValue ? this.$props.modelValue : {}\r\n      }\r\n    },\r\n    watch: { \r\n      modelValue: function(newVal) {\r\n        this.$data.inputObject = newVal ? newVal : {};\r\n        this.updateJson();\r\n      }\r\n    },\r\n    beforeMount() {\r\n      this.updateJson();\r\n    },\r\n    methods: {\r\n      updateJson() {\r\n        var newInputValue;\r\n        if(this.$props.modelValue) {\r\n          newInputValue = JSON.stringify({  lon : this.$data.inputObject.lon, lat : this.$data.inputObject.lat});\r\n          this.$props.modelValue['_v_inputValue'] = newInputValue;\r\n        } else {\r\n          //this.$set(this.$props.value, null );\r\n        }\r\n        this.$emit('update:modelValue', this.$data.inputObject);        \r\n      }\r\n    }\r\n}\r\n</script>","<template>\r\n    <div>\r\n        <q-input :placeholder=\"$q.lang.vui.handles.placeholder\" v-model=\"text\"  :debounce=\"300\" @input=\"searchHandles\" autofocus outlined bg-color=\"white\" dense >\r\n            <template v-slot:prepend><q-icon name=\"search\" /></template>\r\n        </q-input>\r\n        <q-list bordered dense separator>\r\n            <q-item clickable v-ripple v-for=\"handle in handles\" @click=\"VUi.methods.goTo(baseUrl + 'hw/' + handle.code )\" :key=\"handle.code\" >\r\n                <q-item-section>\r\n                {{handle.code}}\r\n                </q-item-section>\r\n            </q-item>\r\n        </q-list>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    props : {\r\n        baseUrl : { type: String, 'default': '/' },\r\n    },\r\n    data: function() {\r\n        return {\r\n            text: \"\",\r\n            handles: []\r\n        }\r\n    },\r\n    methods : {\r\n        searchHandles : function(val) {\r\n            if(val) {\r\n                this.$http.post(this.baseUrl+'api/vertigo/handle/_search', {prefix: val} )\r\n                    .then( function (response) { //Ok\r\n                        this.$data.handles = response.data;\r\n                }.bind(this));\r\n            }\r\n        }\r\n    } \r\n}\r\n</script>","<template>\r\n    <div class=\"row\">\r\n        <div v-for=\"(value, key) in jsonAsObject\" :key=\"key\" :class=\"'col-'+(12/cols)\">\r\n            <q-input  v-if=\"!readonly\" :label=\"key\" orientation=\"vertical\" stack-label  v-model=\"jsonAsObject[key]\" @update:modelValue=\"updateJson\" ></q-input>\r\n            <q-field v-else :label=\"key\" orientation=\"vertical\" stack-label borderless readonly>\r\n                <span >{{value}}</span>\r\n            </q-field>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    props : {\r\n        modelValue: { type: String, required: true},\r\n        readonly : { type: Boolean, required: true },\r\n        cols : { type: Number, 'default': 2 }\r\n    },\r\n    emits: [\"update:modelValue\"],\r\n    data : function () {\r\n        return {\r\n            jsonAsObject : JSON.parse(this.$props.modelValue)\r\n        }\r\n    },\r\n    watch: { \r\n          modelValue: function(newVal) {\r\n              this.$data.jsonAsObject = JSON.parse(newVal);\r\n          }\r\n    },\r\n    methods: {\r\n        updateJson() {\r\n          this.$emit('update:modelValue', JSON.stringify(this.$data.jsonAsObject));\r\n        }\r\n      }\r\n}\r\n</script>","<template>\r\n    <q-btn round :flat=\"!hasNew\" dense :color=\"hasNew?colorNew:color\" :text-color=\"hasNew?textColorNew:textColor\"\r\n\t       :icon=\"wasError?iconError:count>0?icon:iconNone\" :title=\"wasError?$q.lang.vui.notifications.serverLost:''\">\r\n        <q-badge color=\"red\" text-color=\"white\" floating v-if=\"count>0\" >{{count}}</q-badge>\r\n        <q-menu class=\"notifications\">\r\n            <q-list style=\"width:300px\">\r\n                <q-item v-for=\"notif in list\" :key=\"notif.uuid\" tag=\"a\" :href=\"targetUrlPrefix + notif.targetUrl\" >\r\n                    <q-item-section avatar><q-icon :name=\"toIcon(notif.type)\" size=\"2rem\"></q-icon></q-item-section>\r\n                    <q-item-section><q-item-label>{{notif.title}}</q-item-label><q-item-label caption lines=\"3\">{{notif.content}}</q-item-label></q-item-section>\r\n                    <q-item-section side top>\r\n                        <q-item-label caption>{{toDelay(new Date(notif.creationDate))}}</q-item-label>\r\n                    </q-item-section>\r\n                </q-item>\r\n            </q-list>\r\n        </q-menu>\r\n    </q-btn>\r\n</template>\r\n<script>\r\nimport * as Quasar from \"quasar\"\r\n\r\nexport default {\r\n    props : {\r\n        icon : { type: String, 'default': 'notifications' },\r\n        iconNone : { type: String, 'default': 'notifications_none' },\r\n\t\ticonError : { type: String, 'default': 'warning' },\r\n        color : { type: String, 'default': 'secondary' },\r\n        colorNew : { type: String, 'default': 'accent' },\r\n        textColor : { type: String, 'default': 'secondary-inverted' },\r\n        textColorNew : { type: String, 'default': 'accent-inverted' },\r\n        typeIconMap : { type: Object, 'default': function() { return {} } },\r\n        baseUrl : { type: String, 'default': '/api/', required:true },\r\n        targetUrlPrefix : { type: String, 'default': '/', required:true }\r\n    },\r\n    data: function() {\r\n        return {\r\n            firstCall : true,\r\n            list: [],\r\n            hasNew : false,\r\n            wasError : false,\r\n            count: 0,\r\n            timer: ''\r\n        }\r\n    },\r\n    created: function() {\r\n        this.fetchNotificationsList();\r\n        this.timer = setInterval(this.fetchNotificationsList, 5000)\r\n\r\n    },\r\n    methods: {\r\n        fetchNotificationsList: function() {\r\n            this.$http.get(this.baseUrl+'x/notifications/api/messages', { timeout:5*1000, vNoDefaultErrorHandler:true})\r\n            .then( function (response) { //Ok\r\n                this.updateNotificationsData(response.data);\r\n                if(this.wasError) {\r\n                    clearInterval(this.timer);\r\n                    this.timer = setInterval(this.fetchNotificationsList, 5000);\r\n                }\r\n                this.wasError = false;\r\n            }.bind(this))\r\n            .catch(function  () { //Ko\r\n                if(!this.wasError) {\r\n                    clearInterval(this.timer);\r\n                    this.timer = setInterval(this.fetchNotificationsList, 60000);\r\n                }\r\n                this.wasError = true;\r\n            }.bind(this));\r\n        },\r\n        updateNotificationsData : function (newList) {\r\n            // Tri par ordre décroissant de date de création\r\n            const sortedList = newList.sort(function(a,b) {return  b.creationDate - a.creationDate});\r\n            var newElements = [];\t    \t\r\n            // Traverse both arrays simultaneously.\r\n            var lastOldElement = this.list[0];\r\n            if(!lastOldElement) {\r\n                newElements = sortedList;\r\n            } else {\r\n                for(var newIdx = 0; newIdx < sortedList.length; newIdx++) {\r\n                    if( sortedList[newIdx].uuid != lastOldElement.uuid) {\r\n                        if(sortedList[newIdx].creationDate < lastOldElement.creationDate) {\r\n                            break;\r\n                        } else {\r\n                            newElements.push(sortedList[newIdx]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // Mise à jour des notifications\r\n            this.list = sortedList;\r\n            // Met à jour le nombre total de notifications\r\n            this.count = sortedList.length;\r\n            if(!this.firstCall) {\r\n                this.hasNew = newElements.length>0;\r\n                newElements.forEach(function(notif) {\r\n                    this.$q.notify({ \r\n                        type : 'info',\r\n                        icon : this.toIcon(notif.type),\r\n                        message : notif.title,\r\n                        detail : notif.content,\r\n                        timeout : 3000,\r\n                        position : 'bottom-right'\r\n                    })\r\n                }.bind(this));\r\n            } else {\r\n                // firstcall hasnew is true only if last notif is recent enough (2 times the polling interval)\r\n                this.hasNew = newElements.length > 0 && Quasar.date.getDateDiff(Date.now(), newElements[0].creationDate, 'seconds') < 2 * 5  \r\n            }\r\n            \r\n            // Booléen indiquant s'il s'agit du premier appel à la MaJ des notifications\r\n            this.firstCall = false;\t    \t\r\n        },\t    \r\n        cancelAutoUpdate: function() { clearInterval(this.timer) },\r\n        toIcon : function(type) {\r\n            var typeIcon = this.typeIconMap[type];\r\n            return typeIcon?typeIcon:'mail';\r\n        },\r\n        toDelay : function(creationDate) {\r\n            let diff = Quasar.date.getDateDiff(Date.now(),creationDate, 'days');\r\n            if(diff>0)\r\n                return diff+' '+ this.$q.lang.vui.notifications.days;\r\n            diff = Quasar.date.getDateDiff(Date.now(),creationDate, 'hours');\r\n            if(diff>0)\r\n                return diff+' '+ this.$q.lang.vui.notifications.hours;\r\n            diff = Quasar.date.getDateDiff(Date.now(),creationDate, 'minutes');\r\n            if(diff>0)\r\n                return diff+' ' +this.$q.lang.vui.notifications.minutes;\r\n            diff = Quasar.date.getDateDiff(Date.now(),creationDate, 'seconds');\r\n            return diff+' '+this.$q.lang.vui.notifications.seconds;\t    \t\r\n        }\r\n        \r\n\r\n    },\r\n    beforeDestroy : function() {\r\n      clearInterval(this.timer)\r\n    }\r\n}\r\n</script>","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","<template>\r\n    <div :id=\"id\" class=\"map\">\r\n        <slot v-bind=\"$attrs\"></slot>\r\n    </div>\r\n</template>\r\n<script>\r\nimport * as ol from \"ol\"\r\nimport Debounce from \"lodash.debounce\"\r\n\r\n\r\n\r\nexport default {\r\n    props : {\r\n        id: { type: String, required: true},\r\n        initialZoomLevel : { type: Number},\r\n        initialCenter : { type: Object },\r\n        search: { type: Boolean },\r\n        overview : { type: Boolean },\r\n    },\r\n    emits:[\"moveend\", \"click\"],\r\n    methods: {\r\n          onMapLoad: function(found) {\r\n            let vm = this;\r\n            function checkForMap() {\r\n              if (vm.olMap) {\r\n                found(vm.olMap);\r\n                vm.postInit()\r\n              } else {\r\n                setTimeout(checkForMap, 50);\r\n              }\r\n            }\r\n            checkForMap();\r\n          },\r\n          postInit() {\r\n            if (this.$props.initialZoomLevel) {\r\n                this.olMap.getView().setZoom(this.$props.initialZoomLevel);\r\n            }\r\n            if (this.olMap.vInitialZoomOverride) {\r\n                this.olMap.getView().setZoom(this.olMap.vInitialZoomOverride);\r\n            }\r\n          }\r\n    },\r\n    mounted : function() {        \r\n        let view = new ol.View();\r\n        const osmSource = new ol.source.OSM();\r\n        \r\n        let osmLayer = new ol.layer.Tile({\r\n            preload : 4,\r\n            source : osmSource\r\n        })\r\n        \r\n        const mapControls = [buildCustomControls()];\r\n        if (this.$props.overview) {\r\n            mapControls.push(new ol.control.OverviewMap({layers: [new ol.layer.Tile({source: osmSource}),],}));\r\n        }\r\n        if (this.$props.search && (typeof Geocoder === 'function')) {\r\n            // this functionnality needs https://unpkg.com/ol-geocoder@4.3.1/dist/ol-geocoder.js and https://unpkg.com/ol-geocoder@4.3.1/dist/ol-geocoder.min.css\r\n            // see https://github.com/Dominique92/ol-geocoder\r\n        \tmapControls.push(new Geocoder('nominatim', {\r\n                provider: 'osm',\r\n                lang: 'fr',\r\n                placeholder: 'Search for ...',\r\n                limit: 5,\r\n                debug: false,\r\n                autoComplete: true,\r\n                keepOpen: true,\r\n                preventMarker: true,\r\n                defaultFlyResolution: 19,\r\n            }));\r\n        }\r\n        \r\n        this.olMap = new ol.Map({\r\n            interactions: ol.interaction.defaults.defaults({\r\n              onFocusOnly: true\r\n            }),\r\n            target : this.$props.id,\r\n            layers : [ osmLayer ],\r\n            // Improve user experience by loading tiles while animating. Will make animations stutter on mobile or slow devices.\r\n            loadTilesWhileAnimating : true,\r\n            view : view,\r\n            controls: ol.control.defaults.defaults().extend(mapControls),\r\n        });\r\n        \r\n        if (this.$props.initialCenter) {\r\n            this.olMap.getView().setCenter(ol.proj.fromLonLat([this.$props.initialCenter.lon, this.$props.initialCenter.lat]));\r\n        }\r\n        \r\n        // handle refresh if an endPoint is specified\r\n        this.onMapMoveEndDebounced = Debounce((topLeft, bottomRight) => {\r\n            this.$emit('moveend', topLeft, bottomRight);\r\n        }, 300);\r\n        this.olMap.on('moveend', function(e) {\r\n            let mapExtent =  e.map.getView().calculateExtent();\r\n            let wgs84Extent = ol.proj.transformExtent(mapExtent, 'EPSG:3857', 'EPSG:4326');\r\n            let topLeft = ol.extent.getTopLeft(wgs84Extent);\r\n            let bottomRight = ol.extent.getBottomRight(wgs84Extent);\r\n            this.onMapMoveEndDebounced(topLeft, bottomRight);       \r\n        }.bind(this));\r\n\r\n        this.onMapClickDebounced = Debounce((coordinate) => {\r\n            this.$emit('click', ol.proj.transform(coordinate, 'EPSG:3857', 'EPSG:4326'));\r\n        }, 300);\r\n        setTimeout(function () {\r\n            this.olMap.on('click', function(evt) {\r\n                if (evt.originalEvent.target instanceof HTMLCanvasElement ) {\r\n                    // only when click on the map\r\n                    evt.stopPropagation();\r\n                    this.onMapClickDebounced(evt.coordinate);\r\n                }\r\n            }.bind(this)); \r\n        }.bind(this), 300); \r\n    }\r\n}\r\n\r\nfunction buildCustomControls() {\r\n    return new class VCustomControls extends ol.control.Control {\r\n       /**\r\n        * @param {Object} [opt_options] Control options.\r\n        */\r\n       constructor(opt_options) {\r\n          const options = opt_options || {};\r\n        \r\n          const element = document.createElement('div');\r\n          element.className = 'ol-v-custom-buttons ol-unselectable ol-control';\r\n        \r\n          super({\r\n             element: element,\r\n             target: options.target,\r\n          });\r\n       }\r\n    }\r\n}\r\n</script>","<template>\r\n    <div :id=\"id\" >\r\n        <div :id=\"id+'Popup'\" >\r\n            <slot v-if=\"popupDisplayed\" name=\"card\" v-bind:objectDisplayed=\"objectDisplayed\">\r\n                <div class=\"popup\" >\r\n                    {{objectDisplayed[nameField]}}\r\n                </div>\r\n            </slot>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport * as ol from \"ol\"\r\nimport Debounce from \"lodash.debounce\"\r\n\r\nexport default {\r\n    props : {\r\n        id: { type: String, required: true},\r\n        list : { type: Array },\r\n        cluster : { type: Array },\r\n        object : { type: Object },\r\n        objectEditable: {type: Boolean },\r\n        fitOnDataUpdate: {type: Boolean },\r\n        baseUrl : { type: String },\r\n        field: { type: String, required: true},\r\n        nameField: { type: String },        \r\n        markerColor : { type: String, 'default': \"#000000\" },\r\n        markerUseFont : { type: Boolean, 'default': false },\r\n        markerImage : { type: String },\r\n        markerImageDynamic : { type: Function, 'default': (size) => \"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='\"+size+\"' height='\"+size+\"'><path style='fill:white' d='M18.364 3.636a9 9 0 0 1 0 12.728L12 22.728l-6.364-6.364A9 9 0 0 1 18.364 3.636ZM12 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z'/></svg>\"},\r\n        markerFont : { type: String, 'default': \"Material Icons\" },\r\n        markerIcon : { type: String, 'default': \"place\" },\r\n        markerSize : { type: Number, 'default': 30 },\r\n        clusterCircleSize: { type: Number, 'default': 20 },\r\n        clusterColor: { type: String, 'default': \"#fff\" },\r\n        clusterCircleBorderColor: { type: String, 'default': \"#000000\" },\r\n        clusterTextColor: { type: String, 'default': \"#000000\" },\r\n        clusterTextSize: { type: Number, 'default': 12 },\r\n        clusterTextFont: { type: String, 'default' : 'sans-serif' },\r\n    },\r\n    emits : [\"moveend\", \"click\"],\r\n    data : function () {\r\n        return {\r\n            popupDisplayed : false,\r\n            objectDisplayed: {},\r\n            items: [],\r\n            _itemsCoordString: null,\r\n            clusters: [],\r\n            _clusterCoordString: null,\r\n            olMap: {},\r\n            vectorSource : {},\r\n            base32 : '0123456789bcdefghjkmnpqrstuvwxyz' // (geohash-specific) Base32 map\r\n            \r\n        }\r\n    },\r\n    watch : {\r\n        // watch list, cluster and object but filter to only process when desired field ('field' prop, eg geoLocation) is modified\r\n        list : {\r\n           handler(newVal) {\r\n              if (!!newVal) {\r\n                  // console.log('watch list');\r\n                  let newItemsCoordString = this.computeCoordString(newVal);\r\n                  \r\n                  if (!!this._itemsCoordString && newItemsCoordString !== this._itemsCoordString) {\r\n                      this.$data.items = newVal;\r\n                      this.updateMap();\r\n                  }\r\n                  this._itemsCoordString = newItemsCoordString;\r\n              }\r\n           },\r\n           deep: true,\r\n           immediate: true, // initialize _itemsCoordString\r\n        },\r\n        cluster : {\r\n           handler(newVal) {\r\n              if (!!newVal) {\r\n                  // console.log('watch cluster');\r\n                  let newClusterCoordString = this.computeCoordString(newVal);\r\n                  \r\n                  if (!!this._clusterCoordString) {\r\n                      this.$data.items = [];\r\n                      this.$data.clusters = [];\r\n                      for(let i =0 ; i< newVal.length; i++) {\r\n                          if(newVal[i].totalCount == 1) {\r\n                              this.$data.items = this.$data.items.concat(newVal[i].list);\r\n                          } else {\r\n                              this.$data.clusters.push({\r\n                                  geoHash:newVal[i].code,\r\n                                  geoLocation:this.decode(newVal[i].code),\r\n                                  totalCount:newVal[i].totalCount\r\n                              });\r\n                          }\r\n                      }\r\n                      this.updateMap();\r\n                  }\r\n                  this._clusterCoordString = newClusterCoordString;\r\n              }\r\n           },\r\n           deep: true,\r\n           immediate: true, // initialize _clusterCoordString\r\n        },\r\n        object : {\r\n           handler(newVal) {\r\n              if (!!newVal) {\r\n                   // console.log('watch object');\r\n                   let newItemsCoordString = this.computeCoordString(newVal);\r\n                   \r\n                   if (!!this._itemsCoordString && newItemsCoordString !== this._itemsCoordString) {\r\n                       this.updateMap();\r\n                   }\r\n                   this._itemsCoordString = newItemsCoordString;\r\n               }\r\n           },\r\n           deep: true,\r\n           immediate: true, // initialize _itemsCoordString\r\n        },\r\n    },\r\n    computed : {\r\n        features: function() {\r\n            let geoField = this.$props.field;\r\n            let arrayOfFeatures = this.$data.items\r\n            .filter(function(object) {\r\n                return object[geoField]!=null;\r\n            }).map(function(object) {\r\n                let geoObject;\r\n                if (typeof object[geoField] === 'string' || object[geoField] instanceof String){\r\n                    geoObject = JSON.parse(object[geoField]);\r\n                } else {\r\n                    geoObject = object[geoField];\r\n                }\r\n                if(geoObject != null && geoObject.lon != null && geoObject.lat != null) {\r\n                    let iconFeature = new ol.Feature({\r\n                        geometry : new ol.geom.Point(ol.proj.fromLonLat([ geoObject.lon, geoObject.lat ])),\r\n                    });\r\n                    \r\n                    if (this.$props.nameField) {\r\n                        iconFeature.set('name', object[this.$props.nameField]);\r\n                        iconFeature.set('innerObject', object);\r\n                        iconFeature.set('totalCount', object.totalCount);\r\n                    }\r\n                    return iconFeature;\r\n                } \r\n                return null;\r\n            }.bind(this))\r\n            .filter(object => object != null);\r\n            \r\n            let arrayOfClusterFeatures = this.$data.clusters\r\n            .filter(function(object) {\r\n                return object.geoLocation!=null;\r\n            }).map(function(object) {\r\n                let geoObject;\r\n                if (typeof object.geoLocation === 'string' || object.geoLocation instanceof String){\r\n                    geoObject = JSON.parse(object.geoLocation);\r\n                } else {\r\n                    geoObject = object.geoLocation;\r\n                }\r\n                if(geoObject != null) {\r\n                    let iconFeature = new ol.Feature({\r\n                        geometry : new ol.geom.Point(ol.proj.fromLonLat([ geoObject.lon, geoObject.lat ])),\r\n                    });\r\n                    \r\n                    if (this.$props.nameField) {\r\n                        iconFeature.set('name', object[this.$props.nameField]);\r\n                        iconFeature.set('innerObject', object);\r\n                        iconFeature.set('totalCount', object.totalCount);\r\n                    }\r\n                    return iconFeature;\r\n                } \r\n                return null;\r\n            }.bind(this));\r\n            return arrayOfFeatures.concat(arrayOfClusterFeatures);\r\n        }\r\n    },\r\n    methods : {\r\n        fitView: function() {\r\n            if (this.features.length > 0) {\r\n                let maxZoom = 19;\r\n                let maxZoomResolved = this.features.length == 1 ? Math.min(this.olMap.getView().getZoom()||maxZoom, maxZoom) // keep zoom if < maxZoom\r\n                                                                : maxZoom; // if multiple features, dont keep zoom but dont zoom > maxZoom\r\n                let extentPadded = ol.geom.Polygon.fromExtent(this.$data.vectorSource.getExtent())\r\n                extentPadded.scale(1.2);\r\n                this.olMap.getView().fit(extentPadded, {size : this.olMap.getSize(), maxZoom : maxZoomResolved, duration: 750});\r\n            } \r\n        },\r\n        fetchList: function(topLeft, bottomRight) {\r\n            this.$http.get(this.baseUrl+'_geoSearch?topLeft=\"'+ topLeft.lat+','+topLeft.lon+'\"&bottomRight=\"'+ bottomRight.lat+','+bottomRight.lon+ '\"', { timeout:5*1000, })\r\n            .then( function (response) { //Ok\r\n                this.$data.items = response.data;\r\n                this.$data.vectorSource.clear();\r\n                this.$data.vectorSource.addFeatures(this.features);\r\n            }.bind(this));\r\n        },\r\n        computeCoordString: function(value) {\r\n            let valueCoord;\r\n            if (Array.isArray(value)) {\r\n                if (!!this.$props.cluster) {\r\n                    valueCoord = value.map(el => this.decode(el.code));\r\n                } else {\r\n                    valueCoord = value.map(el => el[this.$props.field]);\r\n                } \r\n            } else {\r\n                valueCoord = value[this.$props.field];\r\n            }\r\n            return JSON.stringify(valueCoord);\r\n        },\r\n        updateMap: function() {\r\n            if (Object.keys(this.$data.vectorSource).length == 0 ) {\r\n                this.$data.vectorSource = new ol.source.Vector({});\r\n            }\r\n            this.$data.vectorSource.clear();\r\n            this.$data.vectorSource.addFeatures(this.features);\r\n            if (this.$props.fitOnDataUpdate) {\r\n                this.fitView();\r\n            }\r\n        },\r\n         /**\r\n         * Decode geohash to latitude/longitude (location is approximate centre of geohash cell,\r\n         *     to reasonable precision).\r\n         *\r\n         * @param   {string} geohash - Geohash string to be converted to latitude/longitude.\r\n         * @returns {{lat:number, lon:number}} (Center of) geohashed location.\r\n         * @throws  Invalid geohash.\r\n         *\r\n         * @example\r\n         *     const latlon = Geohash.decode('u120fxw'); // => { lat: 52.205, lon: 0.1188 }\r\n         */\r\n        decode : function (geohash) {\r\n            const bounds = this.bounds(geohash); // <-- the hard work\r\n            // now just determine the centre of the cell...\r\n            const latMin = bounds.sw.lat, lonMin = bounds.sw.lon;\r\n            const latMax = bounds.ne.lat, lonMax = bounds.ne.lon;\r\n            // cell centre\r\n            let lat = (latMin + latMax)/2;\r\n            let lon = (lonMin + lonMax)/2;\r\n            // round to close to centre without excessive precision: ⌊2-log10(Δ°)⌋ decimal places\r\n            lat = lat.toFixed(Math.floor(2-Math.log(latMax-latMin)/Math.LN10));\r\n            lon = lon.toFixed(Math.floor(2-Math.log(lonMax-lonMin)/Math.LN10));\r\n            return { lat: Number(lat), lon: Number(lon) };\r\n        },\r\n        /**\r\n         * Returns SW/NE latitude/longitude bounds of specified geohash.\r\n         *\r\n         * @param   {string} geohash - Cell that bounds are required of.\r\n         * @returns {{sw: {lat: number, lon: number}, ne: {lat: number, lon: number}}}\r\n         * @throws  Invalid geohash.\r\n         */\r\n        bounds : function(geohash) {\r\n            if (geohash.length == 0) throw new Error('Invalid geohash');\r\n            geohash = geohash.toLowerCase();\r\n            let evenBit = true;\r\n            let latMin =  -90, latMax =  90;\r\n            let lonMin = -180, lonMax = 180;\r\n            for (let i=0; i<geohash.length; i++) {\r\n                const chr = geohash.charAt(i);\r\n                const idx = this.$data.base32.indexOf(chr);\r\n                if (idx == -1) throw new Error('Invalid geohash');\r\n                for (let n=4; n>=0; n--) {\r\n                    const bitN = idx >> n & 1;\r\n                    if (evenBit) {\r\n                        // longitude\r\n                        const lonMid = (lonMin+lonMax) / 2;\r\n                        if (bitN == 1) {\r\n                            lonMin = lonMid;\r\n                        } else {\r\n                            lonMax = lonMid;\r\n                        }\r\n                    } else {\r\n                        // latitude\r\n                        const latMid = (latMin+latMax) / 2;\r\n                        if (bitN == 1) {\r\n                            latMin = latMid;\r\n                        } else {\r\n                            latMax = latMid;\r\n                        }\r\n                    }\r\n                    evenBit = !evenBit;\r\n                }\r\n            }\r\n            const bounds = {\r\n                sw: { lat: latMin, lon: lonMin },\r\n                ne: { lat: latMax, lon: lonMax },\r\n            };\r\n            return bounds;\r\n        }\r\n        \r\n    },\r\n   \r\n    mounted : function() {\r\n        this.$parent.onMapLoad( function( olMap ) {\r\n            this.$data.olMap = olMap;\r\n            this.$data.items = [];\r\n            this.$data.clusters = [];\r\n            if(this.$props.list) {\r\n                this.$data.items = this.$props.list\r\n            } else if(this.$props.cluster) {\r\n                for(let i =0 ; i< this.$props.cluster.length; i++) {\r\n                    if(this.$props.cluster[i].totalCount == 1) {\r\n                        this.$data.items = this.$data.items.concat(this.$props.cluster[i].list);                        \r\n                    } else {\r\n                        this.$data.clusters.push({\r\n                        geoHash:this.$props.cluster[i].code,\r\n                        geoLocation:this.decode(this.$props.cluster[i].code),\r\n                        totalCount:this.$props.cluster[i].totalCount});\r\n                    }\r\n                }\r\n            } else  if(this.$props.object) {\r\n                this.$data.items = [this.$props.object];\r\n            }\r\n            this.$data.vectorSource = new ol.source.Vector({\r\n                features : this.features\r\n            });\r\n            \r\n            let clusterSource = new ol.source.Cluster({\r\n                source: this.$data.vectorSource,\r\n                distance : 2*this.$props.clusterCircleSize\r\n            });\r\n            let clusterLayer = new ol.layer.Vector({\r\n                source: clusterSource\r\n            });\r\n            \r\n            let styleIcon;\r\n            if (this.$props.markerUseFont) {\r\n                styleIcon = new ol.style.Style({\r\n                    text : new ol.style.Text({\r\n                        font : this.$props.markerSize +'px ' + this.$props.markerFont,\r\n                        text : this.$props.markerIcon,\r\n                        fill : new ol.style.Fill({color : this.$props.markerColor }),\r\n                        textBaseline : 'alphabetic'\r\n                    })\r\n                });\r\n            } else {\r\n                if (this.$props.markerImage) {\r\n                    styleIcon = new ol.style.Style({\r\n                        image : new ol.style.Icon({\r\n                            src : this.$props.markerImage,\r\n                            scale : this.$props.markerSize / 30,\r\n                            anchor : [0.5, 0.95],\r\n                            color : this.$props.markerColor\r\n                        })\r\n                    });\r\n                } else {\r\n                    styleIcon = new ol.style.Style({\r\n                        image : new ol.style.Icon({\r\n                            src : this.$props.markerImageDynamic(this.$props.markerSize),\r\n                            anchor : [0.5, 0.95],\r\n                            color : this.$props.markerColor\r\n                        })\r\n                    });\r\n                }\r\n            }\r\n            \r\n            let styleCache = {};\r\n            clusterLayer.setStyle(function(feature, /*resolution*/) {\r\n                let size = 0;\r\n                let agregateFeatures = feature.get('features');\r\n                for(let i = 0; i<agregateFeatures.length;i++) {\r\n                    let fSize = agregateFeatures[i].get('totalCount');\r\n                    size += !fSize?1:fSize;\r\n                }\r\n                if (!size || size == 1) {\r\n                    return styleIcon;\r\n                } else {\r\n                      // otherwise show the number of features\r\n                      let style = styleCache[size];\r\n                      if (!style) {\r\n                        style = new ol.style.Style({\r\n                          image: new ol.style.Circle({\r\n                            radius: this.$props.clusterCircleSize,\r\n                            stroke: new ol.style.Stroke({\r\n                                color: this.$props.clusterCircleBorderColor\r\n                              }),\r\n                            fill: new ol.style.Fill({\r\n                              color: this.$props.clusterColor\r\n                            })\r\n                          }),\r\n                          text: new ol.style.Text({\r\n                            text: size.toString(),\r\n                            font : this.$props.clusterTextSize +'px ' + this.$props.clusterTextFont,\r\n                            fill: new ol.style.Fill({\r\n                              color: this.$props.clusterTextColor\r\n                            })\r\n                          })\r\n                        });\r\n                        styleCache[size] = style;\r\n                      }\r\n                      return style;\r\n                }\r\n            }.bind(this));\r\n            \r\n            this.olMap.addLayer(clusterLayer); \r\n            \r\n            // fit view\r\n            this.fitView();\r\n\r\n            if (this.features.length == 0) {\r\n                //---\r\n                this.olMap.getView().setCenter(ol.proj.fromLonLat([2.333333, 48.866667])) // default to paris\r\n                this.olMap.vInitialZoomOverride = 3\r\n            }\r\n                \r\n            // handle refresh if an endPoint is specified\r\n            this.onMapMoveEndDebounced = Debounce((topLeft, bottomRight) => {\r\n                if (this.baseUrl) {\r\n                   this.fetchList({lat:topLeft[0] , lon:topLeft[1]},{lat:bottomRight[0] , lon:bottomRight[1]})\r\n                }\r\n                this.$emit('moveend',topLeft, bottomRight)\r\n            }, 300);\r\n            this.olMap.on('moveend', function(e) {\r\n                let mapExtent =  e.map.getView().calculateExtent();\r\n                let wgs84Extent = ol.proj.transformExtent(mapExtent, 'EPSG:3857', 'EPSG:4326');\r\n                let topLeft = ol.extent.getTopLeft(wgs84Extent);\r\n                let bottomRight = ol.extent.getBottomRight(wgs84Extent);\r\n                this.onMapMoveEndDebounced(topLeft, bottomRight);\r\n            }\r\n            .bind(this));        \r\n            \r\n            this.onMapClickDebounced = Debounce((coordinates) => {\r\n                this.$emit('click',ol.proj.transform(coordinates, 'EPSG:3857', 'EPSG:4326'))\r\n            }, 300);\r\n            if (this.$props.nameField) {\r\n                let popup = new ol.Overlay({\r\n                    element: this.$el.querySelector('#'+this.$props.id+'Popup'),\r\n                    positioning: 'bottom-center',\r\n                    stopEvent: false,\r\n                    offset: [0, -20]\r\n                  });\r\n                this.olMap.addOverlay(popup);\r\n                // display popup on click\r\n                this.olMap.on('click', function(evt) {\r\n                  if (evt.originalEvent.target instanceof HTMLCanvasElement ) {\r\n                    let feature = this.olMap.forEachFeatureAtPixel(evt.pixel,\r\n                        function(feature) {\r\n                        return feature;\r\n                        });\r\n                    if (feature && feature.get('features') && feature.get('features').length == 1) {\r\n                        if (!Object.hasOwn(feature.get('features')[0].get('innerObject'), 'geoHash') ) {\r\n                            let coordinates = feature.getGeometry().getCoordinates();\r\n                            popup.setPosition(coordinates);\r\n                            this.$data.popupDisplayed = true;\r\n                            this.$data.objectDisplayed = feature.get('features')[0].get('innerObject');\r\n                            evt.stopPropagation();\r\n                            this.onMapClickDebounced(coordinates);\r\n                        }\r\n                    } else {\r\n                        this.$data.popupDisplayed = false;\r\n                    }\r\n                  }\r\n                }.bind(this));\r\n                  \r\n                // change mouse cursor when over marker\r\n                this.olMap.on('pointermove', function(e) {\r\n                    if (e.dragging) {\r\n                        this.$data.popupDisplayed = false;\r\n                      return;\r\n                    }\r\n                    let pixel = this.olMap.getEventPixel(e.originalEvent);\r\n                    let hit = this.olMap.hasFeatureAtPixel(pixel);\r\n                    this.olMap.getTargetElement().style.cursor = hit ? 'pointer' : '';\r\n                }.bind(this));\r\n            } else {\r\n                this.olMap.on('click', function(evt) {\r\n                  if (evt.originalEvent.target instanceof HTMLCanvasElement ) {\r\n                    let feature = this.olMap.forEachFeatureAtPixel(evt.pixel,\r\n                        function(feature) {\r\n                        return feature;\r\n                        });\r\n                    if (feature && feature.get('features') && feature.get('features').length == 1) {\r\n                        let coordinates = feature.getGeometry().getCoordinates();\r\n                        evt.stopPropagation();\r\n                        this.onMapClickDebounced(coordinates);\r\n                    }\r\n                  }\r\n                }.bind(this));\r\n            }\r\n            \r\n            if (this.$props.object && this.$props.objectEditable) {\r\n               let draw = new ol.interaction.Draw({\r\n                  source: this.$data.vectorSource,\r\n                  type: \"Point\",\r\n               });\r\n               draw.on('drawend', (event) => {\r\n                  let feature = event.feature;\r\n                  let coord = ol.proj.toLonLat(feature.getGeometry().getCoordinates());\r\n                  \r\n                  this.$data.vectorSource.clear();\r\n                  this.olMap.removeInteraction(draw);\r\n                  button.classList.remove(\"active\");\r\n                  \r\n                  this.$props.object[this.$props.field] = {\r\n                     lon:coord[0],\r\n                     lat:coord[1],\r\n                  };\r\n               });\r\n                        \r\n               const button = document.createElement('button');\r\n               button.innerHTML = '&#9678;';\r\n               button.addEventListener(\r\n                  'click',\r\n                  (evt) => {\r\n                     evt.preventDefault();\r\n                     \r\n                     if (button.classList.contains(\"active\")) {\r\n                        this.olMap.removeInteraction(draw);\r\n                        button.classList.remove(\"active\");\r\n                     } else {\r\n                        this.olMap.addInteraction(draw);\r\n                        draw = this.olMap.getInteractions().getArray().slice(-1)[0]; // update ref as it changes when added\r\n                        button.classList.add(\"active\");\r\n                     }\r\n                  },\r\n                  false);\r\n               \r\n               this.olMap.getViewport().getElementsByClassName(\"ol-v-custom-buttons\")[0].appendChild(button);\r\n            }\r\n        }.bind(this)); \r\n    }\r\n}\r\n</script>","<template>\r\n    <q-field v-bind=\"$attrs\" >\r\n        <template v-slot:append>\r\n            <q-icon name=\"arrow_drop_down\" />\r\n        </template>\r\n        <template v-slot:control>\r\n            <div class=\"self-center full-width no-outline\" tabindex=\"0\">{{ getSelectedLabel() }}</div>\r\n        </template>\r\n        <q-menu :breakpoint=\"600\" fit ref=\"menu\">\r\n            <q-tree :nodes=\"convertListToTree($props.list, $props.subTreeKey)\" \r\n                    :node-key=\"$props.keyField\" :label-key=\"$props.labelField\" \r\n                    v-model:expanded=\"expandedNodes\"\r\n                    @update:expanded=\"handleExpanded\" \r\n                    v-model:selected=\"selectedNode\" \r\n                    @update:selected=\"handleSelected\" >\r\n            </q-tree>\r\n        </q-menu>\r\n    </q-field>\r\n</template>\r\n<script>\r\nimport * as Quasar from \"quasar\"\r\n\r\nexport default {\r\n\tprops : {\r\n\t\tmodelValue:\t\t\t{ type: String, required: true},\r\n\t\tlist:          \t{ type: Array,  required: true },\r\n\t\tkeyField:     \t{ type: String,  required: true },\r\n\t\tlabelField:  \t{ type: String,  required: true },\r\n\t\tparentKeyField: { type: String,  required: true },\r\n\t\tsubTreeKey: \t{ type: String,  required: false },\r\n\t},\r\n\temits: [\"update:modelValue\"],\r\n\tdata: function () {\r\n\t\treturn {\r\n\t\t\tselectedNode: this.$props.modelValue,\r\n\t\t\texpandedNodes: [this.$props.modelValue]\r\n\t\t}\r\n\t},\r\n\twatch: { \r\n          modelValue: function(newVal) {\r\n              this.$data.selectedNode = newVal;\r\n          }\r\n    },\r\n\tmethods: {\r\n\t\thandleSelected: function(target) {\r\n\t\t\tthis.$emit('update:modelValue', this.$data.selectedNode);\r\n\t\t\tif (target) {\r\n\t\t\t\tthis.$refs.menu.hide()\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleExpanded: function() {\r\n\t\t\tQuasar.debounce(this.$refs.menu.updatePosition, 500)();\r\n\t\t},\r\n\t\tgetSelectedLabel: function() {\r\n\t\t\tif (this.$data.selectedNode) {\r\n\t\t\t\tlet node =  this.$props.list\r\n\t\t\t\t\t.find(function(rse) { \r\n\t\t\t\t\t\treturn rse[this.$props.keyField] === this.$data.selectedNode \r\n\t\t\t\t\t}.bind(this));\r\n\t\t\t\treturn node[this.$props.labelField]\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tconvertListToTree: function (list, subTreeKey) {\r\n\t\t\tvar map = {}, node, roots = [], i, newList = [];\r\n\t\t\tfor (i = 0; i < list.length; i += 1) {\r\n\t\t\t\tmap[list[i][this.$props.keyField]] = i; // initialize the map\r\n\t\t\t\tnewList.push({...list[i], children : []}); // initialize the newList with children\r\n\t\t\t}\r\n\t\t\r\n\t\t\tfor (i = 0; i < list.length; i += 1) {\r\n\t\t\t\tnode = newList[i];\r\n\t\t\t\tif (node[this.$props.parentKeyField]) {\r\n\t\t\t\t\t// if you have dangling branches check that map[node.parentId] exists\r\n\t\t\t\t\tnewList[map[node[this.$props.parentKeyField]]].children.push(node);\r\n\t\t\t\t} else {\r\n\t\t\t\t\troots.push(node);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (subTreeKey) {\r\n\t\t\t\treturn [newList[map[subTreeKey]]];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn roots;\r\n\t\t}\r\n\t}\r\n}\r\n</script>","<template>\r\n    <div class=\"v-fileupload\">\r\n        <div v-if=\"$slots.header\" class=\"header\">\r\n        {{ $slots.header.$attrs }}\r\n            <slot name=\"header\" v-bind=\"{...$data, ...$props, canAddFiles, addFiles, abortUpload, removeFile, downloadFile, getGlobalSize, getGlobalSizeLabel, humanStorageSize}\"/>\r\n        </div>\r\n        \r\n        <div class=\"content\">\r\n            <slot v-bind=\"{...$data, ...$props, canAddFiles, addFiles, abortUpload, removeFile, downloadFile, getGlobalSize, getGlobalSizeLabel, humanStorageSize}\">\r\n                <div class=\"files\">\r\n                    <slot name=\"files\" v-bind=\"{...$data, ...$props, canAddFiles, addFiles, abortUpload, removeFile, downloadFile, getGlobalSize, getGlobalSizeLabel, humanStorageSize}\">\r\n                        <span v-for=\"file in files\" class=\"file\" style=\"display: flex; flex-flow: row wrap; column-gap: 50px;\">\r\n                            <span :style=\"{color: file.status === 'IN_PROGRESS' ? 'blue' : file.status == 'ERROR' ? 'red' : ''}\">{{ file.name }}</span>\r\n                            <span v-if=\"file.status === 'ERROR'\" style=\"color:red\">{{ file.errorMessage }}</span>\r\n                            <span style=\"color: grey\">{{ humanStorageSize(file.size) }}</span>\r\n                            <span v-if=\"file.status === 'IN_PROGRESS'\">{{ $vui.i18n().uploader.progress }} : {{ (file.progress * 100).toFixed() }} %</span>\r\n                            <span v-if=\"file.status === 'IN_PROGRESS' && file.estimated != null\">{{ $vui.i18n().uploader.estimated }} : {{ (file.estimated).toFixed() }} s</span>\r\n                            \r\n                            <a v-if=\"file.status === 'OK'\" @click=\"downloadFile(file)\" :href=\"downloadUrl + file.uri\">\r\n                                {{ $vui.i18n().uploader.download }}\r\n                            </a>\r\n                            <button v-if=\"file.status === 'IN_PROGRESS'\" @click.prevent=\"abortUpload(file)\">\r\n                                {{ $vui.i18n().uploader.abort }}\r\n                            </button>\r\n                            <button v-if=\"!this.readonly && file.status !== 'IN_PROGRESS'\" style=\"color: red\" @click.prevent=\"removeFile(file)\">\r\n                                {{ $vui.i18n().uploader.remove }}\r\n                            </button>\r\n                        </span>\r\n                    </slot>\r\n                </div>\r\n                <div class=\"input\" v-show=\"canAddFiles()\">\r\n                    <slot name=\"input\" v-bind=\"{...$data, ...$props, canAddFiles, addFiles, abortUpload, removeFile, downloadFile, getGlobalSize, getGlobalSizeLabel, humanStorageSize}\">\r\n                        <input :id=\"$props.inputId\" ref=\"input\"\r\n                               type=\"file\" :accept=\"$props.accept\" :multiple=\"$props.multiple\"\r\n                               :disabled=\"canAddFiles() ? undefined : true\"\r\n                               @change=\"evt => addFiles(evt.target.files)\"\r\n                               v-bind=\"$props.inputProps\" />\r\n                    </slot>\r\n                </div>\r\n            </slot>\r\n        </div>\r\n        <div v-if=\"$slots.footer\" class=\"footer\" v-bind=\"{...$data, ...$props, canAddFiles, addFiles, abortUpload, removeFile, downloadFile, getGlobalSize, getGlobalSizeLabel, humanStorageSize}\">\r\n            <slot name=\"footer\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\n\r\nexport default {\r\n  props: {\r\n        inputId: String,\r\n        readonly: Boolean,\r\n        fileInfoUris: Array,\r\n        fieldName: String,\r\n        url : String,\r\n        downloadUrl: String,\r\n        accept: String,\r\n        multiple: { type : Boolean, default : true  },\r\n        maxFiles: Number,\r\n        callbackOnDelete: { default : false },\r\n        inputProps: { type: Object }\r\n  },\r\n  emits: [\"update:file-info-uris\", \"download-file\", \"file-ok\", \"file-failed\", \"init-ok\", \"init-ko\"],\r\n  computed: {\r\n      \r\n  },\r\n  mounted() {\r\n      if (this.fileInfoUris.length > 0) {\r\n        // load previously uploaded files infos from server\r\n        let xhrParams = new URLSearchParams()\r\n        this.fileInfoUris.forEach((fileInfoUri) => {\r\n            xhrParams.append(this.fieldName, fileInfoUri);\r\n        });\r\n        \r\n        this.$http.get(this.url + '/fileInfos', { params: xhrParams, credentials: false })\r\n              .then(function (response) { //Ok\r\n                      let uiFileInfos = response.data;\r\n        \r\n                      this.files = uiFileInfos.map((uiFileInfo) => {\r\n                          return {...uiFileInfo, status: \"OK\"};\r\n                      })\r\n                      this.$emit('init-ok');\r\n                  }.bind(this))\r\n              .catch(function (error) { //Ko\r\n                      this.$emit('update:file-info-uris', []); // reset\r\n                      this.$emit('init-ko');\r\n                      if (this.$q) {\r\n                          if(error.response) {\r\n                              this.$q.notify(error.response.status + \":\" + error.response.statusText + \" Can't load file \"+xhrParams);\r\n                          } else {\r\n                              this.$q.notify(error + \" Can't load file \"+xhrParams);\r\n                          }\r\n                      }\r\n                  }.bind(this)\r\n          );\r\n      };\r\n        \r\n      if (typeof this.callbackOnDelete !== 'function' && typeof this.callbackOnDelete !== 'boolean') {\r\n          console.error('callback-on-delete must be a function or a boolean');\r\n      }\r\n  },\r\n  data : function() {\r\n      return {\r\n          files:[],\r\n          units: [this.$vui.i18n().uploader.unit_b,\r\n                  this.$vui.i18n().uploader.unit_kb,\r\n                  this.$vui.i18n().uploader.unit_mb,\r\n                  this.$vui.i18n().uploader.unit_gb]\r\n      }\r\n  },\r\n  methods: {\r\n    canAddFiles() {\r\n        if (this.$props.readonly) return false;\r\n        \r\n        let resolvedMaxFiles = this.multiple ? this.maxFiles : 1;\r\n        \r\n        return resolvedMaxFiles == null || this.$data.files.filter(file => file.status != \"ERROR\").length < resolvedMaxFiles;\r\n    },\r\n    reset() {\r\n      this.files.length = 0\r\n    },\r\n    addFiles(files) {\r\n        // clear old errors\r\n        this.files = this.files.filter(file => file.status != \"ERROR\");\r\n        \r\n        // add new files\r\n        for (let file of files) {\r\n            if(this.canAddFiles()) {\r\n                let vFile = ref({\r\n                    name: file.name,\r\n                    size: file.size,\r\n                    type: file.type,\r\n                    status: \"IN_PROGRESS\",\r\n                    errorMessage: null,\r\n                    progress: 0,\r\n                    estimated: null,\r\n                    file: file\r\n                }).value;\r\n                this.$data.files.push(vFile);\r\n                doUploadfile.call(this, vFile);\r\n            }\r\n        }\r\n        \r\n        if (this.$refs.input) {\r\n            this.$refs.input.value = null;\r\n        }\r\n    },\r\n    abortUpload(file) {\r\n        file.abortController.abort();\r\n        \r\n        let indexOfFile = this.files.indexOf(file);\r\n        this.files.splice(indexOfFile, 1);\r\n    },\r\n    removeFile(removedFile) {\r\n        if (this.$props.readonly) return;\r\n        \r\n        let indexOfFile = this.files.indexOf(removedFile);\r\n        this.files.splice(indexOfFile, 1);\r\n        let newFileInforUris = [...this.fileInfoUris];\r\n        newFileInforUris.splice(indexOfFile, 1);\r\n        this.$emit('update:file-info-uris', newFileInforUris);\r\n        \r\n        let callbackIsFunction = typeof this.callbackOnDelete === 'function';\r\n        if (this.callbackOnDelete === true || callbackIsFunction) {\r\n            let xhrParams = {};\r\n            xhrParams[this.fieldName] = removedFile.fileUri;\r\n            \r\n            let promise = this.$http.delete(this.url, { params: xhrParams, credentials: false });\r\n            if (callbackIsFunction) {\r\n                this.callbackOnDelete(this, promise);\r\n            }\r\n        }\r\n    },\r\n    downloadFile(file) {\r\n        this.$emit('download-file', file.fileUri);\r\n    },\r\n    getGlobalSize() {\r\n        let fileSize = this.files\r\n            .filter( file => file.status != \"ERROR\")\r\n            .reduce( (totalSize, file) => {\r\n                    return totalSize + file.size;\r\n                }, 0);\r\n\r\n        return fileSize;\r\n    },\r\n    getGlobalSizeLabel() {\r\n        return this.humanStorageSize(this.getGlobalSize());\r\n    },\r\n    humanStorageSize(bytes, decimals = 1) {\r\n        let u = 0;\r\n        \r\n        while (parseInt(bytes, 10) >= 1024 && u < this.$data.units.length - 1) {\r\n          bytes /= 1024;\r\n          ++u;\r\n        }\r\n        \r\n        return `${ bytes.toFixed(decimals) } ${ this.$data.units[ u ] }`;\r\n    }\r\n  }\r\n}\r\n\r\n// private methods\r\n\r\nfunction doUploadfile(vFile) {\r\n    let controller = new AbortController();\r\n    vFile.abortController = controller;\r\n    \r\n    let formData = new FormData();\r\n    formData.append(\"file\", vFile.file);\r\n    \r\n    this.$http.post(this.url, formData,\r\n             { credentials: false,\r\n               headers: { 'Content-Type': 'multipart/form-data',\r\n                          'Accept': 'application/json' },\r\n               signal: controller.signal,\r\n               onUploadProgress: function (evt) {\r\n                   vFile.progress = evt.progress;\r\n                   vFile.estimated = evt.estimated;\r\n               }.bind(this)\r\n             })\r\n        .then(function (response) { //Ok\r\n            this.$emit('file-ok', response.data);\r\n            let newUri = response.data;\r\n            vFile.status = \"OK\";\r\n            vFile.fileUri = newUri;\r\n            this.$emit('update:file-info-uris', [...this.fileInfoUris, newUri]);\r\n        }.bind(this))\r\n        .catch(function (error) { //Ko\r\n            this.$emit('file-failed', error);\r\n            vFile.status = \"ERROR\";\r\n            if (error?.response?.status === 413) {\r\n                vFile.errorMessage = this.$vui.i18n().uploader.fileErrorTooBig;\r\n            }\r\n        }.bind(this));\r\n}\r\n\r\n</script>","<template>\r\n    <q-uploader :url=\"$props.url\" \r\n            auto-upload\r\n            :field-name=\"$props.fieldName\"\r\n            :multiple=\"$props.multiple\"\r\n            :max-files=\"$props.multiple ? undefined : 1\"\r\n            :headers=\"[{name: 'Accept', value: 'application/json'}]\"\r\n            @uploaded=\"uploadedFiles\"\r\n            @failed=\"failedFiles\"\r\n            :readonly=\"$props.readonly || !globalCanAddFiles([])\"\r\n            v-bind=\"$attrs\"\r\n            ref=\"quasarUploader\">\r\n            <template v-if=\"$props.simple\" v-slot:header ></template> \r\n            <template v-else v-slot:header=\"slotProps\">\r\n                <div class=\"q-uploader__header-content flex flex-center no-wrap q-gutter-xs\">\r\n                    <q-btn v-if=\"slotProps.queuedFiles.length > 0 && !slotProps.readonly\" type=\"a\" :icon=\"$q.iconSet.uploader.clear_all\" flat dense @click=\"slotProps.removeQueuedFiles\">\r\n                       <q-tooltip>{{$q.lang.vui.uploader.clear_all}}</q-tooltip>\r\n                    </q-btn>\r\n                    <div class=\"col column justify-center\">\r\n                      <div v-if=\"$props.label !== void 0\" class=\"q-uploader__title\">{{$props.label}}</div>\r\n                      <div v-if=\"slotProps.isUploading\" class=\"q-uploader__subtitle\">{{getGlobalSizeLabel()}} / {{slotProps.uploadProgressLabel}}</div>\r\n                      <div v-else class=\"q-uploader__subtitle\">{{getGlobalSizeLabel()}}</div>\r\n                    </div>\r\n                    <q-spinner v-if=\"slotProps.isUploading\" class=\"q-uploader__spinner\"></q-spinner>\r\n                    <q-btn v-if=\"slotProps.isUploading  && !slotProps.readonly\" type=\"a\" href=\"#\" :icon=\"$q.iconSet.uploader.clear\" flat dense @click=\"slotProps.abort\">\r\n                        <q-tooltip>{{$q.lang.vui.uploader.abort}}</q-tooltip>\r\n                    </q-btn>\r\n                    <q-btn v-if=\"globalCanAddFiles(slotProps.files) && !slotProps.readonly\" :icon=\"$q.iconSet.uploader.add\" flat dense @click=\"slotProps.pickFiles\">\r\n                        <q-uploader-add-trigger :id=\"$props.inputId\"></q-uploader-add-trigger>\r\n                        <q-tooltip>{{$q.lang.vui.uploader.add}}</q-tooltip>\r\n                    </q-btn>\r\n                </div>\r\n            </template> \r\n            <template v-slot:list=\"slotProps\">\r\n                <div class=\"row\">\r\n                <q-field :label-width=\"3\"\r\n                            :label=\"$props.simple ? $props.label : undefined\"\r\n                            class=\"col\"\r\n                            orientation=\"vertical\"\r\n                            stack-label\r\n                            borderless>\r\n                        <template v-slot:control>\r\n                        <div class=\"col column justify-center\">\r\n                            <template v-if=\"!$props.readonly\" >\r\n                                <template v-for=\"file in slotProps.files\" :key=\"file.name\">\r\n                                    <div v-if=\"file.__status !== 'uploaded'\"\r\n                                        class=\"q-uploader__file relative-position\" \r\n                                        :class=\"{'q-uploader__file--failed': file.__status === 'failed',\r\n                                                'q-uploader__file--uploaded': file.__status === 'uploaded'}\">\r\n                                        <div class=\"q-uploader__file-header row flex-center no-wrap\" >\r\n                                            <q-icon v-if=\"file.__status === 'failed'\" class=\"q-uploader__file-status\" :name=\"$q.iconSet.type.negative\" color=\"negative\"></q-icon>\r\n                                            <q-icon class=\"q-uploader__file-status\" \r\n                                                :name=\"file.type.indexOf('video/') === 0 ? 'movie': \r\n                                                (file.type.indexOf('image/') === 0 ? 'photo' :\r\n                                                (file.type.indexOf('audio/') === 0 ? 'audiotrack' : 'insert_drive_file'))\" ></q-icon>\r\n                                            <div class=\"q-uploader__file-header-content col\">\r\n                                            <div class=\"q-uploader__title\">{{file.name}}</div>\r\n                                            </div>\r\n                                            <q-circular-progress v-if=\"file.__status === 'uploading'\" :value=\"file.__progress\" :min=\"0\" :max=\"1\" :indeterminate=\"file.__progress === 0\"></q-circular-progress>\r\n                                            <q-btn v-if=\"file.__status === 'failed'\" round dense flat :icon=\"$q.iconSet.uploader['clear']\"  @click=\"slotProps.removeFile(file)\"></q-btn>\r\n                                        </div>\r\n                                    </div>\r\n                                </template>\r\n                            </template>\r\n                            <div v-for=\"file in files\" :key= \"file.name\" class=\"q-uploader__file relative-position q-uploader__file--uploaded\" >\r\n                                <div class=\"q-uploader__file-header row flex-center no-wrap\">\r\n                                    <q-icon class=\"q-uploader__file-status\" \r\n                                        :name=\"file.type.indexOf('video/') === 0 ? 'movie': \r\n                                        (file.type.indexOf('image/') === 0 ? 'photo' :\r\n                                        (file.type.indexOf('audio/') === 0 ? 'audiotrack' : 'insert_drive_file'))\" ></q-icon>\r\n                                    <div class=\"q-uploader__file-header-content col\">\r\n                                    \t<div class=\"q-uploader__title\" :id=\"file.fileUri + '_label'\">{{file.name}}</div>\r\n                                    </div>\r\n\t\t\t\t\t\t\t\t\t<div role=\"toolbar\" :aria-labelledby=\"file.fileUri + '_label'\">\r\n\t                                    <q-btn v-if=\"!$props.readonly\" round dense flat icon=\"delete\" @click=\"removeRemoteFile(file)\" :title=\"$q.lang.vui.uploader.remove\"></q-btn>                      \r\n\t                                    <q-btn round dense flat icon=\"file_download\" @click=\"$emit('download-file', file.fileUri)\" :title=\"$q.lang.vui.uploader.download\"></q-btn>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        </template> \r\n                    </q-field>\r\n                    <div class=\"q-field__after q-field__marginal row no-wrap items-center\" v-if=\"$props.simple && !$props.readonly\">\r\n                            <q-spinner v-if=\"slotProps.isUploading\" class=\"q-uploader__spinner\"></q-spinner> \r\n                            <q-btn v-if=\"globalCanAddFiles(slotProps.files)\" type=\"a\" :icon=\"$q.iconSet.uploader.add\" flat dense>\r\n                                <q-uploader-add-trigger></q-uploader-add-trigger>\r\n                            </q-btn>\r\n                            <q-btn v-if=\"slotProps.isUploading\" type=\"a\" :icon=\"$q.iconSet.uploader.clear\" flat dense \r\n                                @click=\"slotProps.abort\">\r\n                                <q-tooltip>{{$q.lang.vui.uploader.abort}}</q-tooltip>\r\n                            </q-btn>\r\n                    </div>\r\n                 </div>\r\n\t\t\t\t <slot name=\"footer\"></slot>\r\n            </template>   \r\n        </q-uploader>\r\n</template>\r\n<script>\r\n\r\nexport default {\r\n  props: {\r\n        inputId: Number,\r\n\t\treadonly: Boolean,\r\n        label: String,\r\n        simple : {type: Boolean, default: false},\r\n        fileInfoUris: Array,\r\n        fieldName: String,\r\n        url : String,\r\n        downloadUrl : { type : String, default : (props) => props.baseUrl + '/download'},\r\n        multiple: { type : Boolean, default : true  }\r\n  },\r\n  emits: [\"update:file-info-uris\", \"download-file\", \"init-ok\", \"init-ko\"],\r\n  computed: {\r\n      \r\n  },\r\n  mounted() {\r\n      this.changeIcon();\r\n      if (this.fileInfoUris.length > 0) {\r\n        var xhrParams = new URLSearchParams()\r\n        this.fileInfoUris.forEach((fileInfoUri) => {\r\n            xhrParams.append(this.fieldName, fileInfoUri);\r\n        });\r\n        \r\n        this.$http.get(this.url + '/fileInfos', { params: xhrParams, credentials: false })\r\n              .then(function (response) { //Ok\r\n                      var uiFileInfos = response.data;\r\n        \r\n                      this.files = uiFileInfos.map((uiFileInfo) => {\r\n                          return uiFileInfo;\r\n                      })\r\n                      this.$emit('init-ok');\r\n                  }.bind(this))\r\n              .catch(function (error) { //Ko\r\n                      this.$emit('update:file-info-uris', []); // reset\r\n                      this.$emit('init-ko');\r\n                      if(error.response) {\r\n                          this.$q.notify(error.response.status + \":\" + error.response.statusText + \" Can't load file \"+xhrParams);\r\n                      } else {\r\n                          this.$q.notify(error + \" Can't load file \"+xhrParams);\r\n                      }\r\n                  }.bind(this)\r\n          );\r\n      };\r\n  },\r\n  data : function() {\r\n      return {\r\n          files:[],\r\n          units: [this.$vui.i18n().uploader.unit_b,\r\n                  this.$vui.i18n().uploader.unit_kb,\r\n                  this.$vui.i18n().uploader.unit_mb,\r\n                  this.$vui.i18n().uploader.unit_gb]\r\n      }\r\n  },\r\n  methods: {\r\n    uploadedFiles(uploadInfo) {\r\n        var newFileInforUris = [...this.fileInfoUris];\r\n        uploadInfo.files.forEach(function (file) {\r\n            this.files.push(file);\r\n            file.fileUri = file.xhr.response;\r\n            newFileInforUris.push(file.fileUri)\r\n            this.$refs.quasarUploader.removeFile(file)\r\n            this.$emit('update:file-info-uris', newFileInforUris);\r\n        }.bind(this));\r\n    },\r\n    failedFiles(info) {\r\n        if (info.xhr.status === 413) {\r\n             this.$q.notify({\r\n                type: 'negative', message: this.$q.lang.vui.uploader.fileErrorTooBig,\r\n                multiLine: true, timeout: 2500,\r\n               });\r\n        } else {\r\n            this.$q.notify({\r\n                type: 'negative', message: this.$q.lang.vui.uploader.fileErrorUnknown,\r\n                multiLine: true, timeout: 2500,\r\n               });\r\n        }\r\n    },\r\n    start(a,b,c){\r\n        this.$refs.quasarUploader;\r\n    },\r\n    removeRemoteFile(removedFile) {\r\n            var indexOfFile = this.files.indexOf(removedFile);\r\n            var newFileInforUris = [...this.fileInfoUris];\r\n            var xhrParams = {};\r\n            xhrParams[this.fieldName] = removedFile.fileUri;\r\n            this.$http.delete(this.url, { params: xhrParams, credentials: false })\r\n                .then(function (/*response*/) { //Ok\r\n                    if (this.multiple) {\r\n                        this.files.splice(indexOfFile, 1)\r\n                        newFileInforUris.splice(indexOfFile, 1);\r\n                    } else {\r\n                        this.files.splice(0);\r\n                        newFileInforUris.splice(0);\r\n                    }\r\n                    this.$emit('update:file-info-uris', newFileInforUris);\r\n                    //this.uploader_forceComputeUploadedSize(componentId);\r\n                }.bind(this))\r\n                .catch(function (error) { //Ko\r\n                    this.$q.notify(error.response.status + \":\" + error.response.statusText + \" Can't remove temporary file\");\r\n                }.bind(this));\r\n            \r\n    },\r\n    globalCanAddFiles(quasarFiles) {\r\n        if (this.multiple) {\r\n            return !this.$props.readonly\r\n        } else {\r\n            return !this.$props.readonly && \r\n            (quasarFiles.filter( file => file.__status != \"uploaded\").length //client-side\r\n            + this.fileInfoUris.length) // server-side\r\n            < 1\r\n        }\r\n    }, \r\n    changeIcon () {\r\n        this.$q.iconSet.uploader.removeUploaded = 'delete_sweep'\r\n        this.$q.iconSet.uploader.done = 'delete'\r\n    },\r\n    addFiles(files) {\r\n        var quasarUploader = this.$refs.quasarUploader;\r\n        if(this.globalCanAddFiles(quasarUploader.files)) {\r\n         this.$refs.quasarUploader.addFiles(files);\r\n        }\r\n    },\r\n    getGlobalSize() {\r\n        var quasarFileSize = this.files\r\n        .filter( file => file.__status != \"uploaded\")\r\n        .reduce( (totalSize, file) => {\r\n            return totalSize + file.size;\r\n        },0 )\r\n\r\n        var remoteFilesSize = this.files.reduce( (totalSize, file) => {\r\n            return totalSize + file.size;\r\n        },0 )\r\n        return quasarFileSize + remoteFilesSize;\r\n    },\r\n    getGlobalSizeLabel() {\r\n        return this.humanStorageSize(this.getGlobalSize());\r\n    },\r\n    humanStorageSize(bytes, decimals = 1) {\r\n        let u = 0;\r\n        \r\n        while (parseInt(bytes, 10) >= 1024 && u < this.$data.units.length - 1) {\r\n          bytes /= 1024;\r\n          ++u;\r\n        }\r\n        \r\n        return `${ bytes.toFixed(decimals) } ${ this.$data.units[ u ] }`;\r\n    }\r\n  }\r\n}\r\n</script>","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {color} from \"d3-color\"\r\nimport {interpolateHsl, interpolateRgb} from \"d3-interpolate\"\r\nlet d3 = {color, interpolateHsl, interpolateRgb}\r\n\r\nexport function getColors(colorName, nbSeries, opacity) {\r\n\tif (\"DEFAULT\" == colorName) {\r\n\t\t//default on ne fait rien\r\n\t\treturn;\r\n\t} \r\n\tvar mainColors\r\n\tvar interpolation = _interpolateHsl; //par défaut interpolation HSL\r\n\tif (\"RAINBOW\" == colorName || \"iRAINBOW\" == colorName) {\r\n\t\t\tmainColors = [ \"#FF0000\", \"#FFA500\", \"#FFFF00\", \"#00FF00\", \"#00FF00\", \"rgb(75, 0, 130)\", \"rgb(238, 130, 238)\" ];\r\n\t} else if (\"SPECTRUM\" == colorName || \"iSPECTRUM\" == colorName) {\r\n\t\tmainColors = [ \"rgb(230, 30, 30)\", \"rgb(230, 230, 30)\", \"rgb(30, 230, 30)\", \"rgb(30, 230, 230)\", \"rgb(30, 30, 230)\", \"rgb(230, 30, 230)\", \"rgb(230, 30, 30)\" ];\r\n\t\tinterpolation = _interpolateCatmul;\r\n\t} else if (\"RED2GREEN\" == colorName || \"iRED2GREEN\" == colorName) {\r\n\t\tmainColors = [ \"rgb(255, 51, 51)\", \"rgb(250, 235, 0)\", \"rgb(51, 200, 51)\" ];\r\n\t} else if (\"GREEN2BLUE\" == colorName || \"iGREEN2BLUE\" == colorName) {\r\n\t\tmainColors = [ \"rgb(51, 153, 51)\", \"rgb(51, 153, 200)\", \"rgb(51, 51, 255)\" ];\r\n\t} else if (\"HEAT\" == colorName || \"iHEAT\" == colorName) {\r\n\t\tmainColors = [ \"rgb(255, 51, 51)\", \"rgb(255, 255, 51)\", \"rgb(51, 153, 51)\", \"rgb(51, 153, 255)\" ];\r\n\t} else if (\"GREEN:INTENSITY\" == colorName || \"iGREEN:INTENSITY\" == colorName) {\r\n\t\tmainColors = [ \"rgb(51, 153, 51)\", \"rgb(170, 250, 170)\" ];\r\n\t\tinterpolation = _interpolateLinear;\r\n\t} else if (\"ANDROID\" == colorName || \"iANDROID\" == colorName) {\r\n\t\tmainColors = [ \"#0099CC\", \"#9933CC\", \"#CC0000\", \"#FF8800\", \"#669900\"  ];\r\n\t\t//mainColors = [ \"#33B5E5\", \"#AA66CC\", \"#ff4444\", \"#ffbb33\", \"#99cc00\" ];\r\n\t} else if (\"ANDROID:LIGHT\" == colorName || \"iANDROID:LIGHT\" == colorName) {\r\n\t\tmainColors = [ \"#33B5E5\", \"#AA66CC\", \"#ff4444\", \"#ffbb33\", \"#99cc00\" ];\r\n\t}  \r\n\tif(colorName.charAt(0) == 'i') { \r\n\t\tmainColors = mainColors.reverse(); \r\n\t}\r\n\tvar resultColors;\r\n\tvar isCycle = mainColors[0] == mainColors[mainColors.length-1];\r\n\tvar resultColors = interpolation(mainColors, nbSeries + (isCycle ? 1 : 0)); //si les couleurs représente un cycle, on exclue la derniére couleur (qui est aussi la premiére)\r\n\t\r\n\tif (opacity) {\r\n\t\t// use the alpha\r\n\t\treturn resultColors.map(function( val, i ) {\r\n\t\t\tvar d3Color = d3.color(val);\r\n\t\t\td3Color.opacity = opacity;\r\n\t\t\treturn d3Color.formatRgb();\r\n\t\t});\r\n\t}\r\n\treturn resultColors;\r\n};\r\n\r\nfunction _interpolateHsl(mainColors, nbColors) {\r\n\treturn _point2PointColors(mainColors, nbColors, function(t, c1, c2, c3, c4) {\r\n\t\treturn d3.interpolateHsl(c2, c3)(t);\r\n\t}); \r\n};\r\n\r\nfunction _interpolateLinear(mainColors, nbColors) {\r\n\treturn _point2PointColors(mainColors, nbColors, function(t, c1, c2, c3, c4) {\r\n\t\treturn d3.interpolateRgb(c2, c3)(t);\r\n\t});\r\n};\r\n\r\nfunction _interpolateCatmul(mainColors, nbColors) {\r\n\treturn _point2PointColors(mainColors, nbColors, function(t, c1, c2, c3, c4) {\r\n\t\tvar empty = {r:null,g : null,b : null };\r\n\t\t\r\n\t\tvar nc1 = c1 ? d3.rgb(c1) : empty;\r\n\t\tvar nc2 = d3.rgb(c2);\r\n\t\tvar nc3 = d3.rgb(c3);\r\n\t\tvar nc4 = c4 ? d3.rgb(c4) : empty;\r\n\t\tvar red = ( Math.max(Math.min(Math.round(_catmull(t, nc1.r, nc2.r, nc3.r, nc4.r)), 255), 0));\r\n\t\tvar green = ( Math.max(Math.min(Math.round(_catmull(t, nc1.g, nc2.g, nc3.g, nc4.g)), 255), 0));\r\n\t\tvar blue = (Math.max(Math.min(Math.round(_catmull(t, nc1.b, nc2.b, nc3.b, nc4.b)), 255), 0));\r\n\t\treturn d3.rgb(red,green,blue);\r\n\t});\r\n};\r\n\r\nfunction  _point2PointColors(mainColors, nbColors, colorInterpolation) {\r\n\tif(nbColors == 1) {\r\n\t\treturn [mainColors[0]];\r\n\t}\r\n\tvar startJ = 0;\r\n\tvar interpolatedColor = new Array();\r\n\tvar nbInterpolatedColor = mainColors.length;\r\n\tvar nbInterpolatedColorDegree = 0;\r\n\twhile ((nbInterpolatedColor - 1) % (nbColors - 1) != 0 && nbInterpolatedColorDegree < 20) {\r\n\t\tnbInterpolatedColorDegree++;\r\n\t\tnbInterpolatedColor = mainColors.length + nbInterpolatedColorDegree * (mainColors.length - 1);\r\n\t}\r\n\tnbInterpolatedColorDegree++;\r\n\tfor (var i = 0; i < mainColors.length - 1; i++) {\r\n\t\tvar c1 = i - 1 >= 0 ? mainColors[i - 1] : null;\r\n\t\tvar c2 = mainColors[i];\r\n\t\tvar c3 = mainColors[i + 1];\r\n\t\tvar c4 = i + 2 < mainColors.length ? mainColors[i + 2] : null;\r\n\t\tfor (var j = startJ; j < nbInterpolatedColorDegree + 1; j++) {\r\n\t\t\tvar color = colorInterpolation(j / nbInterpolatedColorDegree, c1, c2, c3, c4);\r\n\t\t\tinterpolatedColor.push(color);\r\n\t\t}\r\n\t\tstartJ = 1; //on ne refait pas le premier point (dejé atteint)\r\n\t}\r\n\tvar result = new Array();\r\n\tfor (var i = 0; i < nbColors; i++) {\r\n\t\tvar index = (interpolatedColor.length - 1) / (nbColors - 1) * i;\r\n\t\t//var index = i % (interpolatedColor.length - 1);\r\n\t\tresult.push(interpolatedColor[index]);\r\n\t}\r\n\treturn result;\r\n};\r\n\r\n//Catmull-Rom spline interpolation function\r\n//p0 et p3 servent a orienter le chemin entre p1 et p2\r\n//t est une fraction entre \r\nfunction _catmull (t, inP0, p1, p2, inP3) {\r\n\t\tvar delta = p2 - p1;\r\n\t\tvar p0 = inP0 != null ? inP0 : p1 - delta;\r\n\t\tvar p3 = inP3 != null ? inP3 : p2 + delta;\r\n\treturn 0.5 * (2 * p1 + (-p0 + p2) * t + (2 * p0 - 5 * p1 + 4 * p2 - p3) * t * t + (-p0 + 3 * p1 - 3 * p2 + p3) * t * t * t);\r\n}","<template>\r\n    <canvas ref=\"graphCanvas\"></canvas>\r\n</template>\r\n<script>\r\nimport {getColors} from './dashboard-tools'\r\n\r\n\r\nconst verticalLineTooltipPlugin = {\r\n id: 'verticalLineTooltipPlugin',\r\n afterDraw: (chart) => {\r\n    if (chart.tooltip?._active?.length) {\r\n      const { x } = chart.tooltip._active[0].element;\r\n      const yAxis = chart.scales.y;\r\n      const { ctx } = chart;\r\n      ctx.save();\r\n      ctx.beginPath();\r\n      ctx.moveTo(x, yAxis.top);\r\n      ctx.lineTo(x, yAxis.bottom);\r\n      ctx.lineWidth = 2;\r\n      ctx.strokeStyle = 'rgba(50, 50, 50, 0.4)';\r\n      ctx.stroke();\r\n      ctx.restore();\r\n    }\r\n  }\r\n}\r\n \r\n \r\nconst verticalLinePlugin = {\r\n id: 'verticalLinePlugin',\r\n getLinePositionAtIndex: function (chart, pointIndex) {\r\n     const meta = chart.getDatasetMeta(0); // first dataset is used to discover X coordinate of a point\r\n     const data = meta.data;\r\n     return data[pointIndex].x;\r\n },\r\n getLinePositionAtX: function (chart, pointX) {\r\n     const scaleX = chart.scales['x'];\r\n     return scaleX.getPixelForValue(pointX,0);\r\n },\r\n renderVerticalLine: function (chartInstance, vLine) {\r\n     const scaleY = chartInstance.scales['y'];\r\n     const context = chartInstance.ctx;\r\n\t  const lineLeftOffset = vLine.x?\r\n\t  this.getLinePositionAtX(chartInstance, vLine.x)\r\n\t  :getLinePositionAtIndex(chart, vLine.idx);\r\n    \r\n     // render vertical line\r\n     context.beginPath();\r\n     context.strokeStyle = vLine.color?vLine.color:'#ff0000';\r\n     context.moveTo(lineLeftOffset, scaleY.top);\r\n     context.lineTo(lineLeftOffset, scaleY.bottom);\r\n     context.stroke();\r\n\r\n     // write label\r\n     context.fillStyle = vLine.color?vLine.color:'#ff0000';\r\n     context.textAlign = 'center';\r\n\t if (typeof vLine.label === 'function') {\r\n\t\tcontext.fillText(vLine.label(), lineLeftOffset, scaleY.top-8);\r\n\t } else {\r\n     \tcontext.fillText(vLine.label?vLine.label:'', lineLeftOffset, scaleY.top-8);\r\n\t }\r\n },\r\n\r\n afterDatasetsDraw: function (chart, easing) {\r\n     if (chart.config.options.vLineAt) {\r\n         chart.config.options.vLineAt.forEach(vLine => this.renderVerticalLine(chart, vLine));\r\n     }\r\n }\r\n };\r\n\r\n\r\nexport default {\r\n\tprops : {\r\n        title:                          { type: String,  },\r\n\t\ttype:          \t\t\t\t\t{ type: String, required: true },\r\n\t\tdatas:                          { type: Object,  },\r\n\t\tdataSeriesTranslator:           { type: Function,},\r\n\t\tqueryUrl:                       { type: String,  },\r\n        queryClusteredMeasure:     \t\t{ type: Object,  },\r\n\t\tqueryMeasures:     \t\t\t\t{ type: Array,   },\r\n\t\tqueryDataFilter:  \t\t\t\t{ type: Object,  },\r\n\t\tqueryTimeFilter:\t\t\t\t{ type: Object,  },\r\n\t\tqueryGroupBy:                   { type: String,  },\r\n        colors: \t\t\t\t\t\t{ type: String, default:'DEFAULT' },\r\n\t\tlabels:                         { type: Object, required: true },\r\n        minTime:                        { type: String, },\r\n        maxTime:                        { type: String, },\r\n\t\tfillGapDim:                     { type: String, },\r\n\t\tfillGapValue:\t\t\t\t\t{ type: Number, },\r\n\t\ttimeFormat:                     { type: String, default:'DD/MM/YYYY HH:mm' },\r\n\t\tverticalLines: \t\t\t\t\t{ type: Array,  }, /** {x, label, color} */\r\n        additionalOptions: \t\t\t\t{ type: Object, },\r\n\t},\r\n\tcreated : function () {\r\n       this.$data.graphChartId = \"graphChartId_\"+this.hashCode(this.type+'_'+JSON.stringify(this.labels));\r\n       if(!window.dashboardGraphChart) {\r\n           window.dashboardGraphChart = {};\r\n       }\r\n    },\r\n    mounted: function() {\r\n       if(this.queryUrl) {\r\n           this.fetchData();\r\n       } else {\r\n           this.$data.graphDataSeriesTranslator = this.dataSeriesTranslator?this.dataSeriesTranslator:this.defaultDataSeriesTranslator;\r\n           var translatedData = this.$data.graphDataSeriesTranslator(this.datas);\r\n           this.showChartJsChart(translatedData.dataValues, translatedData.dataMetrics, translatedData.timedSeries, this.queryGroupBy, this.labels, this.colors, this.title, this.additionalOptions);\r\n       }\t   \r\n    },\r\n\tdata: function () {\r\n\t\treturn {\r\n\t\t\tgraphChartId: {},\r\n            graphDataSeriesTranslator: this.defaultDataSeriesTranslator,\t\t\t\r\n\t\t\tstepSize: 1,\t\t\t\r\n            truncatedMinTime: null,\t\t\t\r\n\t\t\ttruncatedMaxTime: null,\r\n\t\t}\r\n\t},\r\n\twatch: { \r\n          datas: {\r\n             handler(newValue, oldValue) {\r\n                if(!!this.datas) {\r\n                    var translatedData = this.$data.graphDataSeriesTranslator(newValue);\r\n                    this.showChartJsChart(translatedData.dataValues, translatedData.dataMetrics, translatedData.timedSeries, this.queryGroupBy, this.labels, this.colors, this.title, this.additionalOptions);\r\n                }\r\n            },\r\n            deep: true\r\n          },\r\n          queryTimeFilter: {\r\n             handler(newValue, oldValue) {\r\n                if(!!this.queryUrl && this.hashCode(JSON.stringify(newValue)) !== this.hashCode(JSON.stringify(oldValue))) {\r\n\t\t\t\t    this.fetchData();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeep: true\r\n          },\r\n          queryDataFilter: {\r\n             handler(newValue, oldValue) {\r\n                if(!!this.queryUrl && this.hashCode(JSON.stringify(newValue)) !== this.hashCode(JSON.stringify(oldValue))) {\r\n                    this.fetchData();\r\n                }\r\n            },\r\n            deep: true\r\n          }\r\n    },\r\n\tmethods: {\r\n        hashCode: function(s) {\r\n            let h;\r\n            for(let i = 0; i < s.length; i++) \r\n                  h = Math.imul(31, h) + s.charCodeAt(i) | 0;\r\n        \r\n            return h;\r\n        },\r\n\t\tfetchData: function() {\r\n\t\t\tvar dataQuery = this.buildQuery();\r\n            this.$http.post(this.queryUrl, dataQuery )\r\n            .then( function (response) { //Ok\r\n                var translatedData = this.$data.graphDataSeriesTranslator(response.data);\r\n                this.showChartJsChart(translatedData.dataValues, translatedData.dataMetrics, translatedData.timedSeries,this.queryGroupBy, this.labels, this.colors, this.title, this.additionalOptions);\r\n            }.bind(this));\r\n        },\r\n\t\tbuildQuery: function() {\r\n\t\t\tvar dataQuery = { dataFilter : this.queryDataFilter, timeFilter : this.queryTimeFilter };\r\n\t\t\tif (this.queryMeasures) {\r\n\t\t\t\tdataQuery['measures'] = this.queryMeasures;\r\n\t\t\t}\r\n\t\t\tif (this.queryClusteredMeasure) {\r\n\t\t\t\tdataQuery['clusteredMeasure'] = this.queryClusteredMeasure;\r\n\t\t\t}\r\n\t\t\tif (this.queryGroupBy) {\r\n\t\t\t\tdataQuery['groupBy'] = this.queryGroupBy;\r\n\t\t\t}\r\n\t\t\treturn dataQuery;\r\n\t\t},\r\n\r\n\t\tshowChartJsChart: function(datas, dataMetrics, timedSeries, queryGroupBy, dataLabels, dataColors, chartTitle, additionalOptions) {\r\n\t\t\tvar dimPeriod = this.timeDimToDayJsPeriod();\r\n\t\t\tif(this.fillGapDim && this.minTime && this.maxTime && dimPeriod !== 'hour') {\r\n\t\t\t   var truncatedMinTime = dayjs(this.minTime, this.timeFormat).startOf(dimPeriod);\r\n\t\t\t   var truncatedMaxTime = dayjs(this.maxTime, this.timeFormat).startOf(dimPeriod);\t\t\t   \r\n\t\t\t   var truncatedEndOfMinTime = dayjs(this.minTime, this.timeFormat).endOf(dimPeriod);\r\n\t\t\t   if(truncatedEndOfMinTime.isAfter(truncatedMaxTime)) { //On s'assure que la période min est celle de la dimenssion\r\n\t\t\t\t\ttruncatedMaxTime = truncatedEndOfMinTime;\r\n\t\t\t   }\r\n\t\t\t   this.$data.truncatedMinTime = truncatedMinTime.add(truncatedMinTime.utcOffset(), 'minute').valueOf();\r\n\t\t\t   this.$data.truncatedMaxTime = truncatedMaxTime.add(truncatedMaxTime.utcOffset(), 'minute').valueOf();\r\n\t\t\t} else {\r\n\t\t\t\tthis.$data.truncatedMinTime = this.minTime?dayjs(this.minTime, this.timeFormat).valueOf():null;\r\n\t\t\t\tthis.$data.truncatedMaxTime = this.maxTime?dayjs(this.maxTime, this.timeFormat).valueOf():null;\r\n\t\t\t}\r\n\t\t\t   \r\n\t\t\tvar xLabels = Object.values(dataLabels);\r\n\t\t\tvar chartOptions;\r\n\t\t\tvar chartJsDataSets;\r\n\t\t\tvar chartJsType;\r\n\t\t\tif ( this.type === \"bubbles\") {\r\n\t\t\t\tchartJsType = 'bubble';\r\n\t\t\t\tvar realLabels = dataLabels.filter(metric => metric !== queryGroupBy);\r\n\t\t\t\txLabels = Object.values(realLabels);\r\n                var bubblesData = this.toChartJsBubblesData(datas, realLabels.keys(), realLabels, queryGroupBy);\r\n\t\t\t\tchartJsDataSets = [ {data: bubblesData }];\r\n\t\t\t\tchartOptions = this.getChartJsBubblesOptions(datas, realLabels.keys(), queryGroupBy, realLabels, chartTitle, additionalOptions);\r\n\t\t\t\tthis.setChartJsColorOptions(chartJsDataSets, dataColors, 1, 0.5);\r\n\t\t\t} else if (this.type ===\"linechart\") {\r\n\t\t\t\tchartJsType = 'line';\r\n\t\t\t\tchartJsDataSets = this.toChartJsData(datas, dataLabels, timedSeries, queryGroupBy);\r\n\t\t\t\tchartOptions = this.getChartJsLineOptions(datas, queryGroupBy, dataLabels, timedSeries, chartTitle, additionalOptions);\r\n\t\t\t\tthis.setChartJsColorOptions(chartJsDataSets, dataColors);\r\n\t\t\t} else if (this.type ===\"barchart\") {\r\n\t\t\t\tchartJsType = 'bar';\r\n\t\t\t\tchartJsDataSets = this.toChartJsData(datas, dataLabels, timedSeries, queryGroupBy);\r\n\t\t\t\tchartOptions = this.getChartJsLineOptions(datas, queryGroupBy, dataLabels, timedSeries, chartTitle, additionalOptions);\r\n\t\t\t\tthis.setChartJsColorOptions(chartJsDataSets, dataColors, 1, 0.5);\r\n\t\t\t} else if (this.type ===\"stackedbarchart\") {\r\n\t\t\t\tchartJsType = 'bar';\r\n\t\t\t\tchartJsDataSets = this.toChartJsData(datas, dataLabels, timedSeries, queryGroupBy);\r\n\t\t\t\t//chartOptions = this.getChartJsLineOptions(datas, queryGroupBy, dataLabels, timedSeries, chartTitle, additionalOptions);\r\n\t\t\t\tchartOptions = this.getStackedOptions(datas, queryGroupBy, dataLabels, timedSeries, chartTitle, additionalOptions);\r\n\t\t\t\tthis.setChartJsColorOptions(chartJsDataSets, dataColors, 1, 0.5);\r\n\t\t\t} else if (this.type ===\"polararea\") {\r\n\t\t\t\tchartJsType = 'polarArea';\r\n\t\t\t\tchartJsDataSets = this.toChartJsData(datas, dataLabels, timedSeries, queryGroupBy);\r\n\t\t\t\tvar pieData  = this.toChartJsPieData(chartJsDataSets, dataLabels);\r\n\t\t\t\tchartJsDataSets = pieData.datasets;\r\n\t\t\t\txLabels = pieData.labels;\r\n\t\t\t\tchartOptions = this.getPolarChartOptions(datas, queryGroupBy, dataLabels, timedSeries, chartTitle, additionalOptions);\r\n\t\t\t\tthis.setChartJsPieColorOptions(chartJsDataSets, dataColors);\r\n\t\t\t} else if (this.type ===\"doughnut\") {\r\n\t\t\t\tchartJsType = 'doughnut';\r\n\t\t\t\tvar realLabels = dataLabels.filter(metric => metric !== queryGroupBy);\r\n\t\t\t\tchartJsDataSets = this.toChartJsData(datas, realLabels, timedSeries, queryGroupBy);\r\n\t\t\t\tvar pieData  = this.toChartJsPieData(chartJsDataSets, dataLabels);\r\n\t\t\t\tchartJsDataSets = pieData.datasets;\r\n\t\t\t\txLabels = pieData.labels;\r\n\t\t\t\tthis.setChartJsPieColorOptions(chartJsDataSets, dataColors);\r\n\t\t\t\tchartOptions = {\r\n\t\t\t\t\tlegend : {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tposition: 'bottom'\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t//\r\n\t\t\tvar ctx = this.$.refs.graphCanvas;\r\n\t\t\tvar finalOptions = this.mergeDeep(chartOptions,additionalOptions);\r\n\t\t\tif(!window.dashboardGraphChart[this.$data.graphChartId]) {\r\n    \t\t\tlet chartData = {\r\n                    datasets: chartJsDataSets\r\n                };\r\n                if(!timedSeries) {\r\n                    chartData.labels = xLabels;\r\n                }\r\n    \t\t\tvar graphChart = new Chart(ctx,{\r\n    \t\t\t\ttype: chartJsType,\r\n    \t\t\t\tdata: chartData,\r\n    \t\t\t\toptions: finalOptions,\r\n\t\t\t\t\tplugins: [verticalLineTooltipPlugin, verticalLinePlugin]\r\n    \t\t\t});\r\n\t\t\t\t\r\n    \t\t\twindow.dashboardGraphChart[this.$data.graphChartId] = graphChart;\r\n\t\t\t} else {\r\n                var graphChart =  window.dashboardGraphChart[this.$data.graphChartId];\r\n                graphChart.data.datasets = chartJsDataSets;\r\n\t\t\t    if(this.hashCode(JSON.stringify(graphChart.options.scales)) !== this.hashCode(JSON.stringify(finalOptions.scales))) {\r\n                    graphChart.options.scales = finalOptions.scales;\r\n                }\r\n                graphChart.update(\"none\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetChartJsColorOptions: function(datasets, dataColors, opacity, bgOpacity) {\r\n\t\t\tif(dataColors) {\r\n\t\t\t\tvar myColors = getColors(dataColors, datasets.length, opacity);\r\n\t\t\t\tvar myBgColors = getColors(dataColors, datasets.length, bgOpacity?bgOpacity:(opacity?opacity*0.25:0.25));\r\n                for(var i = 0 ; i<datasets.length; i++) {\r\n\t\t\t\t\tdatasets[i].borderColor = myColors[i];\r\n                    datasets[i].backgroundColor = myBgColors[i];\r\n                    datasets[i].pointBackgroundColor = myColors[i];\r\n                    datasets[i].pointBorderColor = '#FFFFFFAF';\r\n                    datasets[i].pointBorderWidth = 2;\r\n\t\t\t\t\tdatasets[i].fill = true;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t setChartJsPieColorOptions: function(datasets, dataColors, opacity) {\r\n\t\t\tif(dataColors) {\r\n\t\t\t\tfor(var i = 0 ; i<datasets.length; i++) {\r\n\t\t\t\t\tdatasets[i].backgroundColor = getColors(dataColors, datasets[i].data.length, opacity);//we have one dataset\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\t getChartJsBubblesOptions: function(datas, dataMetrics, queryGroupBy, dataLabels, chartTitle, additionalOptions){\r\n\t\t\tvar maxRadius = this.getMaxRadius(datas, dataMetrics[2]); //always the third columns\r\n\t\t\tvar xAxisType = this.getAxisType(datas, additionalOptions, 'xAxisType', dataMetrics[0]);\r\n\t\t\tvar yAxisType = this.getAxisType(datas, additionalOptions, 'yAxisType', dataMetrics[1]);\r\n\t\t\treturn {\r\n\t\t\t\t\tscales: {\r\n\t\t\t\t\t\tx: {\r\n\t\t\t\t\t\t\ttype: xAxisType\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\ty: {\r\n\t\t\t\t\t\t\ttype: yAxisType\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\telements: {\r\n\t\t\t\t\t\tpoint: {\r\n\t\t\t\t\t\tradius: function(context) {\r\n\t\t\t\t\t\t\tvar index = context.dataIndex;\r\n\t\t\t\t\t\t\tvar data = context.dataset.data[index];\r\n\t\t\t\t\t\t\tvar size = context.chart.width;\r\n\t\t\t\t\t\t\tvar base = data.r_measure / maxRadius; \r\n\t\t\t\t\t\t\treturn (size / 24) * base;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlegend: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tplugins: {\r\n\t\t\t\t\t\ttooltip: {\r\n\t\t\t\t\t\t\tdisplayColors: false,\r\n\t\t\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\t\t\ttitle: function(graphs) {\r\n\t\t\t\t\t\t\t\t\tvar graph = graphs[0]\r\n\t\t\t\t\t\t\t\t\t//we have on serie so we keep only the first one\r\n\t\t\t\t\t\t\t\t\treturn graph.dataset.data[graph.dataIndex].name;\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tlabel: function(graph) {\r\n\t\t\t\t\t\t\t\t\tvar point = graph.dataset.data[graph.dataIndex];\r\n\t\t\t\t\t\t\t\t\treturn [\r\n\t\t\t\t\t\t\t\t\t\tdataLabels[dataMetrics[0]] +\" : \"+ Math.round(point.x),\r\n\t\t\t\t\t\t\t\t\t\tdataLabels[dataMetrics[1]] +\" : \"+ Math.round(point.y),\r\n\t\t\t\t\t\t\t\t\t\tdataLabels[dataMetrics[2]] +\" : \"+ Math.round(point.r_measure),\r\n\t\t\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tgetPolarChartOptions: function(datas, queryGroupBy, dataLabels, chartTitle, additionalOptions){\r\n\t\t\treturn {};\r\n\t\t},\r\n\r\n\t\t getAxisType: function(datas, additionalOptions, optionKey, metric) {\r\n\t\t\tvar axisType = 'linear';//linear by default\r\n\t\t\tif (additionalOptions) {\r\n\t\t\t\tif (additionalOptions[optionKey]) {\r\n\t\t\t\t\tif(additionalOptions[optionKey] === 'auto') {\r\n\t\t\t\t\t\tvar minMax = getMinMax(datas,metric)//the x axis\r\n\t\t\t\t\t\tif (minMax.max > 0 &&  minMax.min/minMax.max < 0.001){\r\n\t\t\t\t\t\t\taxisType = 'logarithmic';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\taxisType = additionalOptions[optionKey];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\treturn axisType\r\n\t\t},\r\n\t\tgetChartJsLineOptions: function(datas, queryGroupBy, dataLabels, timedSeries, chartTitle, additionalOptions){\r\n\t\t\tvar options =  {\r\n\t\t\t\tscales : {\r\n                    y : {\r\n\t\t\t\t\t\tticks : {\r\n\t\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuggestedMin: 0, \r\n\t\t\t\t\t\tsuggestedMax: 5\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tplugins: {\r\n                    title: {\r\n                        display: !!chartTitle,\r\n                        text: chartTitle?chartTitle:'',\r\n                        align:'start',\r\n                        padding:20,\r\n                        font: {size: 14, weight:'bold'}\r\n                    },\r\n                    legend: {\r\n                        position: 'bottom'                           \r\n                    },\r\n\t\t\t\t\ttooltip: {\r\n\t\t\t\t\t\tmode: 'index',\r\n\t\t\t\t\t\tposition: 'nearest',\r\n\t\t\t\t\t\tboxPadding:3, \r\n\t\t\t\t\t\tbackgroundColor:'#F8F8F8D0', \r\n\t\t\t\t\t\ttitleColor:'#000', \r\n\t\t\t\t\t\tbodyColor:'#000', \r\n\t\t\t\t\t\tborderColor:'#333', \r\n\t\t\t\t\t\tborderWidth:1,\r\n\t\t\t\t\t\t/*callbacks: {\r\n\t\t\t\t\t\t\tlabel: function(graph) {\r\n\t\t\t\t\t\t\t\tvar point = graph.dataset.data[graph.dataIndex];\r\n\t\t\t\t\t\t\t\treturn graph.dataset.label +\" : \"+ Math.floor(point.y);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttitle: function(graphs) {\r\n\t\t\t\t\t\t\t\treturn timeFormatter;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}*/\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\telements : {\r\n\t\t\t\t\tpoint : {\r\n\t\t\t\t\t\tradius : 3,\r\n\t\t\t\t\t\thoverRadius : 6\r\n\t\t\t\t\t},\r\n\t\t\t\t\tline : {\r\n\t\t\t\t\t\ttension: 0\r\n\t\t\t\t\t}, \r\n\t\t\t\t\tbar : {\r\n\t\t\t\t\t\tborderWidth: 3\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tif (timedSeries) {\r\n\t\t\t\toptions.scales.x = {\r\n                    type: 'time',\r\n\t\t\t\t\tticks: {\r\n                        source:'auto', \r\n                        major: {\r\n                            enabled: true\r\n                        }\r\n                    },\r\n                    time: {\r\n                      displayFormats: {\r\n                        hour: 'HH:mm',\r\n                        minute: 'HH:mm'\r\n                      }, \r\n                      tooltipFormat: this.timeFormat+' Z'\r\n                    }\r\n\t\t\t\t}\t\t\t\t\r\n                if(this.$data.truncatedMinTime) {\r\n                    options.scales.x.suggestedMin = this.$data.truncatedMinTime;\r\n                }\r\n                if(this.$data.truncatedMaxTime) {\r\n                    options.scales.x.suggestedMax = this.$data.truncatedMaxTime;\r\n                }\r\n\t\t\t} else {\r\n\t\t\t\toptions.scales.x = {\r\n\t\t\t\t\ttype: 'category'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn options;\r\n\t\t},\r\n\r\n\r\n\t\t getStackedOptions: function(datas, queryGroupBy, dataLabels, timedSeries, chartTitle, additionalOptions){\r\n\t\t\tvar options = this.getChartJsLineOptions(datas, queryGroupBy, dataLabels, timedSeries, chartTitle, additionalOptions);\r\n\t\t\tvar stackedOptions = {\t\t\t\t\r\n                scales : {\r\n                    x: {\r\n                        stacked: true\r\n                    },\t\t\t\t\t\t\r\n\t\t\t\t\ty: {\r\n\t\t\t\t\t\tstacked: true\r\n\t\t\t\t\t}\r\n                }\r\n            };\r\n\t\t\treturn this.mergeDeep(options, stackedOptions);\r\n\t\t},\r\n\r\n\r\n\t\t toChartJsBubblesData: function(data, dataMeasures, dataLabels, groupBy) {\r\n\t\t\tvar newSeries = new Array();\r\n\t\t\tfor(var i = 0 ; i< data.length; i++) {\r\n\t\t\t\tvar serie = new Object();\r\n\t\t\t\tserie.x = data[i].values[dataMeasures[0]];\r\n\t\t\t\tserie.y = data[i].values[dataMeasures[1]];\r\n\t\t\t\tvar r = data[i].values[dataMeasures[2]];\r\n\t\t\t\tif (!this.isEmpty(data[i].values) && !r) {\r\n\t\t\t\t\tr = 0;\r\n\t\t\t\t}\r\n\t\t\t\tserie.name = data[i].values[groupBy]\r\n\t\t\t\tserie.r_measure = r;\r\n\t\t\t\tnewSeries.push(serie);\r\n\t\t\t}\r\n\t\t\treturn newSeries;\r\n\t\t},\r\n\r\n\r\n\t\t getMaxRadius: function(datas, radiusField) {\r\n\t\t\tvar maxRadius = 0 ;\r\n\t\t\tfor(var i = 0 ; i< datas.length; i++) {\r\n\t\t\t\tvar r = datas[i].values[radiusField];\r\n\t\t\t\tif (r > maxRadius) {\r\n\t\t\t\t\tmaxRadius = r;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn Math.max(maxRadius, 1);\r\n\t\t},\r\n\r\n\t\tgetMinMax: function(datas, field) {\r\n\t\t\tvar min= 0;\r\n\t\t\tvar max= 0;\r\n\t\t\tfor(var i = 0 ; i< datas.length; i++) {\r\n\t\t\t\tvar value = datas[i].values[field];\r\n\t\t\t\tif (value > max) {\r\n\t\t\t\t\tmax = value;\r\n\t\t\t\t}\r\n\t\t\t\tif (value < min) {\r\n\t\t\t\t\tmin = value\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tmin: min,\r\n\t\t\t\tmax: max\r\n\t\t\t}\r\n\t\t},\r\n        defaultDataSeriesTranslator: function(datas) {\r\n            var dataValues = datas.timedDataSeries ? datas.timedDataSeries : datas.tabularDataSeries;\r\n            var dataMetrics = datas.seriesNames;\r\n            return {dataValues: dataValues, dataMetrics:dataMetrics, timedSeries:!!datas.timedDataSeries};\r\n        },\r\n\t\t/** Conversion de données servers List<Instant, Map<NomMetric, value>> en données Chartjs.*/\r\n\t\ttoChartJsData: function(datas, dataLabels, timedSeries, xAxisMeasure) {\r\n\t\t\tlet _endsWith = function(string, suffix) {\r\n\t\t\t\treturn string.indexOf(suffix, string.length - suffix.length) !== -1;\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tvar dimPeriod = this.timeDimToDayJsPeriod();\r\n\t\t\tvar newSeries = new Array();\r\n\t\t\tfor(const metric in dataLabels) {\r\n\t\t\t\tvar serie = new Object();\r\n\t\t\t\tserie.data = new Array();\r\n                serie.parsing = false;\r\n\t\t\t\tif(dataLabels && dataLabels[metric]) {\r\n\t\t\t\t\tserie.label = dataLabels[metric];\r\n\t\t\t\t}\r\n\t\t\t\tvar lastTime = this.$data.truncatedMinTime?dayjs(this.$data.truncatedMinTime).subtract(1,dimPeriod):null;//if minTime, we start as we are just before; if no minTime, we keep undefined\t\r\n                for(var j = 0 ; j<datas.length; j++) {\r\n                    if(timedSeries && !!this.fillGapDim) {\r\n\t\t\t\t\t\tvar expectedNextTime = lastTime?dayjs(lastTime).add(1,dimPeriod):null;\r\n\t\t\t\t\t\tvar expected2NextTime = lastTime?expectedNextTime.add(1,dimPeriod):null;\r\n\t\t\t\t\t\tvar dataTime = dayjs(datas[j].time);\r\n                        while(!dataTime.isBefore(expected2NextTime)) {\r\n                            serie.data.push({x: expectedNextTime.valueOf(),y: this.fillGapValue});\r\n\t\t\t\t\t\t\texpectedNextTime = expected2NextTime;\r\n\t\t\t\t\t\t\texpected2NextTime = expected2NextTime.add(1,dimPeriod);\r\n\t\t\t\t\t\t\tlastTime = expectedNextTime.valueOf();\t\t\t\t\t\t\t\r\n                        }\r\n                    }\r\n\t\t\t\t\tvar x = timedSeries ? dayjs(datas[j].time).valueOf() : datas[j].values[xAxisMeasure]; // timed series by default, else categories \r\n\t\t\t\t\tvar y = datas[j].values[metric];\r\n\t\t\t\t\tif (!this.isEmpty(datas[j].values) && !y) {\r\n\t\t\t\t\t\ty = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tserie.data.push({ x: x, y: y });\r\n\t\t\t\t\tlastTime = x;\r\n\t\t\t\t}\r\n\t\t\t\t/**We complete data to maxTime included */\r\n\t\t\t\tif (timedSeries && !!this.fillGapDim && !!this.$data.truncatedMaxTime) {\r\n\t\t\t\t\tvar expectedNextTime = lastTime?dayjs(lastTime).add(1,dimPeriod):null;\r\n\t\t\t\t\tvar maxTime = dayjs(this.$data.truncatedMaxTime);\r\n                    while(!expectedNextTime.isAfter(maxTime)) {\r\n                        serie.data.push({x: expectedNextTime.valueOf(),y: this.fillGapValue});\t\r\n\t\t\t\t\t\texpectedNextTime = expectedNextTime.add(1,dimPeriod);\r\n\t\t\t\t\t\tlastTime = expectedNextTime.valueOf();\r\n                    }\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(!serie.label) {\r\n\t\t\t\t\tif(_endsWith(metric, 'count')) {\r\n\t\t\t\t\t\tserie.label = \"Quantité\";\r\n\t\t\t\t\t} else if(_endsWith(metric, 'mean')) {\r\n\t\t\t\t\t\tserie.label = \"Moyenne\";\r\n\t\t\t\t\t} else if(_endsWith(metric, 'min')) {\r\n\t\t\t\t\t\tserie.label = \"Minimum\";\r\n\t\t\t\t\t} else if(_endsWith(metric, 'max')) {\r\n\t\t\t\t\t\tserie.label = \"Maximum\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t\tnewSeries.push(serie);\r\n\t\t\t}\r\n\t\t\treturn newSeries;\r\n\t\t},\r\n\r\n\t\ttoChartJsPieData: function(chartJsDataSets, dataLabels) {\r\n\t\t\tvar newSeries = new Array();\r\n\t\t\tvar labels = new Array();\r\n\t\t\tfor(var i = 0 ; i< chartJsDataSets[0].data.length; i++) {\r\n\t\t\t\tvar serie = new Object();\r\n\t\t\t\tvar label = chartJsDataSets[0].data[i].x;\r\n\t\t\t\tif(dataLabels && dataLabels[chartJsDataSets[0].data[i].x]) {\r\n\t\t\t\t\tlabel = dataLabels[chartJsDataSets[0].data[i].x];\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tlabels.push(label);\r\n\t\t\t\tnewSeries.push(chartJsDataSets[0].data[i].y);\r\n\t\t\t}\r\n\t\t\treturn { \r\n\t\t\t\tdatasets : [{ data : newSeries }],\r\n\t\t\t\tlabels : labels\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\ttimeDimToDayJsPeriod : function() {\r\n\t\t            let dateTimeDim = this.fillGapDim;\r\n\t\t            if(dateTimeDim === '1h') {\r\n\t\t                return 'hour';\r\n\t\t            } else if(dateTimeDim === '1d') {\r\n\t\t                return 'day';\r\n\t\t            } else if(dateTimeDim === '1w') {\r\n\t\t                return 'week';\r\n\t\t            } else if(dateTimeDim === '1M') {\r\n\t\t                return 'month';\r\n\t\t\t\t\t} else if(dateTimeDim === '3M') {\r\n\t\t\t            return 'quarter';\r\n\t\t\t\t\t} else if(dateTimeDim === '1y') {\r\n\t\t\t            return 'year';\r\n\t\t\t        } else {\r\n\t\t                return 'hour';\r\n\t\t            }\r\n\t\t        },\r\n\t\tisEmpty: function(obj) {\r\n\t\t\treturn Object.keys(obj).length === 0;\r\n\t\t},\r\n\t\tisObject: function(item) {\r\n          return (item && typeof item === 'object' && !Array.isArray(item));\r\n        },\r\n        mergeDeep: function(target, ...sources) {\r\n          if (!sources.length) return target;\r\n          const source = sources.shift();\r\n        \r\n          if (this.isObject(target) && this.isObject(source)) {\r\n            for (const key in source) {\r\n              if (this.isObject(source[key])) {\r\n                if (!target[key]) Object.assign(target, { [key]: {} });\r\n                this.mergeDeep(target[key], source[key]);\r\n              } else {\r\n                Object.assign(target, { [key]: source[key] });\r\n              }\r\n            }\r\n          }\r\n          return this.mergeDeep(target, ...sources);\r\n        }\r\n\t}\r\n}\r\n</script>","export default {\r\n    mounted: function (el, binding, vnode) {\r\n        var watchKeys = binding.value;\r\n        if (!window.watcherUpdates) {\r\n            //Some init must be only once\r\n            window.watcherUpdates = {\r\n                originalDocumentTitle: document.title,\r\n                updates_detected: false,\r\n                acceptedUpdates: function () {\r\n                    window.watcherUpdates.updates_detected = false;\r\n                    document.title = window.watcherUpdates.originalDocumentTitle;\r\n                },\r\n                beforeWindowUnload: function (e) {\r\n                    //les navigateurs n'affichent pas le message proposé pour éviter le scam, il suffit de retourner une chaine non vide\r\n                    if (window.watcherUpdates.updates_detected) {\r\n                        // Cancel the event\r\n                        e.preventDefault()\r\n                        // Chrome requires returnValue to be set\r\n                        e.returnValue = 'Voulez-vous quitter cette page ? \\n Les modifications que vous avez apportées ne seront peut-être pas enregistrées'\r\n                    }\r\n                },\r\n            };\r\n            window.addEventListener('beforeunload', window.watcherUpdates.beforeWindowUnload);\r\n            if (binding.instance.$root.uiMessageStack) {                \r\n                var uiMessageStack = binding.instance.$root.uiMessageStack;\r\n                var hasError = uiMessageStack.globalErrors.length > 0;\r\n                for (let watchKey of watchKeys.split(\",\")) {\r\n                    hasError = hasError || uiMessageStack.objectFieldErrors[watchKey];\r\n                    if (hasError) {\r\n                        break;\r\n                    }\r\n                }\r\n                if (hasError) {\r\n                    window.watcherUpdates.updates_detected = true;//if there is other errors => mark as dirty\r\n                }\r\n            }\r\n        }\r\n        //each button eventListener click\r\n        el.addEventListener('click', window.watcherUpdates.acceptedUpdates);\r\n\r\n        //each button watch data (watchKey may differ)\r\n        for (let watchKey of watchKeys.split(\",\")) {\r\n            binding.instance.$root.$watch('vueData.' + watchKey, function () {\r\n                window.watcherUpdates.updates_detected = true;\r\n                document.title = '*' + window.watcherUpdates.originalDocumentTitle;\r\n            }, { deep: true });\r\n        }\r\n    },\r\n    unmounted: function () {\r\n        window.removeEventListener('beforeunload', window.watcherUpdates.beforeWindowUnload)\r\n    }\r\n}","export default {\r\n    mounted: function(el, binding, vnode) {\r\n        var doFocus = binding.value;\r\n        if(doFocus && !window.autofocus) {\r\n             window.autofocus = true;\r\n             el.focus();\r\n        }\r\n     }\r\n}","import { nextTick } from 'vue'\r\n\r\nexport default {\r\n     updated: function (el, binding, vnode) {\r\n          nextTick(() => {\r\n               if (!window.watcherUpdates || !window.watcherUpdates.updates_detected) {\r\n                    el.classList.add('hidden')\r\n               } else {\r\n                    el.classList.remove('hidden')\r\n               }\r\n          })\r\n     }\r\n}","export default function (fn, limit = 250) {\n  let wait = false, result\n\n  return function (/* ...args */) {\n    if (wait === false) {\n      wait = true\n      setTimeout(() => { wait = false }, limit)\n      result = fn.apply(this, arguments)\n    }\n\n    return result\n  }\n}\n","import * as Vue from \"vue\"\r\nimport throttle from \"quasar/src/utils/throttle/throttle.js\"\r\n\r\nexport default {\r\n    created: function(elMaxi, binding) {\r\n            const topOffset = binding.value?binding.value.topOffset:null;\r\n            const topOffsetElSelector = binding.value?binding.value.topOffsetEl:null;\r\n            const leftOffset = binding.value?binding.value.leftOffset:null;\r\n            const leftOffsetElSelector = binding.value?binding.value.leftOffsetEl:null;\r\n            const scrollContainerSelector = binding.value?binding.value.scrollContainerEl:'.q-page-container';\r\n            const elMini = elMaxi.querySelector('.mini')\r\n            for(var i=0 ; i<elMaxi.childNodes.length; i++) {\r\n                var elChild = elMaxi.childNodes[i];\r\n                if(elChild.classList && !elChild.classList.contains('mini')) {\r\n                    elChild.classList.add(\"not-mini\")\r\n                }\r\n            }\r\n            \r\n            Vue.minifyHandler = function() {\r\n                var scrollContainer = elMaxi.closest(scrollContainerSelector); \r\n                var currentYScroll = scrollContainer?-scrollContainer.getBoundingClientRect().y:window.pageYOffset;\r\n                var currentXScroll = scrollContainer?-scrollContainer.getBoundingClientRect().x:window.pageXOffset;\r\n                var currentTopOffset = elMaxi.getBoundingClientRect().y+currentYScroll;\r\n                var currentLeftOffset = elMaxi.getBoundingClientRect().x+currentXScroll;\r\n                if(topOffset || topOffsetElSelector) {\r\n                    currentTopOffset = Vue.minifyComputeOffset(topOffset, topOffsetElSelector, 0, 'TOP');\r\n                }\r\n                if(leftOffset || leftOffsetElSelector) {\r\n                    currentLeftOffset = Vue.minifyComputeOffset(leftOffset, leftOffsetElSelector, 0, 'LEFT');\r\n                }\r\n                var elMiniHeight = elMini.getBoundingClientRect().height;\r\n                var elMaxiHeight = elMaxi.getBoundingClientRect().height;\r\n                //We check if nav should be fixed\r\n                // Add the fixed class to the header when you reach its scroll position. Remove \"fixed\" when you leave the scroll position\r\n                if (currentYScroll > elMaxiHeight-elMiniHeight) {\r\n                    elMini.classList.add(\"visible\");\r\n                    elMini.style.top=currentTopOffset+\"px\";//top\r\n                    elMini.style.left=currentLeftOffset+\"px\";//left  \t\t\t\r\n                } else {\r\n                    elMini.classList.remove(\"visible\");\r\n                    elMini.style.top = (-elMiniHeight-currentTopOffset)+\"px\";\r\n                }        \t\t\r\n            };\r\n            \r\n            Vue.minifyComputeOffset = function(offset, offsetElSelector, defaultOffset, direction) {\r\n                var currentOffset = defaultOffset;\r\n                if(offset) {\r\n                    currentOffset = offset;\r\n                } else if(offsetElSelector) {\r\n                    var offsetElement = document.querySelector(offsetElSelector);\r\n                    var offsetRect = offsetElement.getBoundingClientRect();\r\n                    if(direction === 'LEFT') {\r\n                        currentOffset = offsetRect.width+offsetRect.x;\r\n                    } else if(direction === 'TOP') {\r\n                        currentOffset = offsetRect.height+offsetRect.y;\r\n                    }\r\n                }\r\n                return currentOffset;\r\n            }\r\n            window.addEventListener('scroll', Vue.minifyHandler)\r\n            window.addEventListener('resize', throttle(Vue.minifyHandler,50))\r\n        },\r\n        updated : function() {\r\n            const interval = 50;\r\n            const maxDelay = 1000;\r\n            //for(var delay = interval ; delay < maxDelay ; delay += delay) {\r\n                setTimeout(Vue.minifyHandler,50);\r\n            //}\r\n        },\r\n        unmounted: function(elMaxi) {\r\n            window.removeEventListener('scroll');\r\n            window.removeEventListener('resize');\r\n            \r\n            for(var i=0 ; i<elMaxi.childNodes.length; i++) {\r\n                var elChild = elMaxi.childNodes[i];\r\n                if(elChild.classList) {\r\n                    elChild.classList.remove(\"not-mini\")\r\n                }\r\n            }\r\n        },\r\n    }","/** Quasar scroll util class (v 2.16.5) retrieved here, unable to import it without breaking the bundle */\r\nexport const scrollTargetProp = [ Element, String ]\r\n\r\nconst scrollTargets = [ null, document, document.body, document.scrollingElement, document.documentElement ]\r\n\r\nexport function getScrollTarget (el, targetEl) {\r\n  let target = getElement(targetEl)\r\n\r\n  if (target === void 0) {\r\n    if (el === void 0 || el === null) {\r\n      return window\r\n    }\r\n\r\n    target = el.closest('.scroll,.scroll-y,.overflow-auto')\r\n  }\r\n\r\n  return scrollTargets.includes(target)\r\n    ? window\r\n    : target\r\n}\r\n\r\nexport function getScrollHeight (el) {\r\n  return (el === window ? document.body : el).scrollHeight\r\n}\r\n\r\nexport function getScrollWidth (el) {\r\n  return (el === window ? document.body : el).scrollWidth\r\n}\r\n\r\nexport function getVerticalScrollPosition (scrollTarget) {\r\n  return scrollTarget === window\r\n    ? window.pageYOffset || window.scrollY || document.body.scrollTop || 0\r\n    : scrollTarget.scrollTop\r\n}\r\n\r\nexport function getHorizontalScrollPosition (scrollTarget) {\r\n  return scrollTarget === window\r\n    ? window.pageXOffset || window.scrollX || document.body.scrollLeft || 0\r\n    : scrollTarget.scrollLeft\r\n}\r\n\r\nexport function animVerticalScrollTo (el, to, duration = 0 /* , prevTime */) {\r\n  const prevTime = arguments[ 3 ] === void 0 ? performance.now() : arguments[ 3 ]\r\n  const pos = getVerticalScrollPosition(el)\r\n\r\n  if (duration <= 0) {\r\n    if (pos !== to) {\r\n      setScroll(el, to)\r\n    }\r\n    return\r\n  }\r\n\r\n  requestAnimationFrame(nowTime => {\r\n    const frameTime = nowTime - prevTime\r\n    const newPos = pos + (to - pos) / Math.max(frameTime, duration) * frameTime\r\n    setScroll(el, newPos)\r\n    if (newPos !== to) {\r\n      animVerticalScrollTo(el, to, duration - frameTime, nowTime)\r\n    }\r\n  })\r\n}\r\n\r\nexport function animHorizontalScrollTo (el, to, duration = 0 /* , prevTime */) {\r\n  const prevTime = arguments[ 3 ] === void 0 ? performance.now() : arguments[ 3 ]\r\n  const pos = getHorizontalScrollPosition(el)\r\n\r\n  if (duration <= 0) {\r\n    if (pos !== to) {\r\n      setHorizontalScroll(el, to)\r\n    }\r\n    return\r\n  }\r\n\r\n  requestAnimationFrame(nowTime => {\r\n    const frameTime = nowTime - prevTime\r\n    const newPos = pos + (to - pos) / Math.max(frameTime, duration) * frameTime\r\n    setHorizontalScroll(el, newPos)\r\n    if (newPos !== to) {\r\n      animHorizontalScrollTo(el, to, duration - frameTime, nowTime)\r\n    }\r\n  })\r\n}\r\n\r\nfunction setScroll (scrollTarget, offset) {\r\n  if (scrollTarget === window) {\r\n    window.scrollTo(window.pageXOffset || window.scrollX || document.body.scrollLeft || 0, offset)\r\n    return\r\n  }\r\n  scrollTarget.scrollTop = offset\r\n}\r\n\r\nfunction setHorizontalScroll (scrollTarget, offset) {\r\n  if (scrollTarget === window) {\r\n    window.scrollTo(offset, window.pageYOffset || window.scrollY || document.body.scrollTop || 0)\r\n    return\r\n  }\r\n  scrollTarget.scrollLeft = offset\r\n}\r\n\r\nexport function setVerticalScrollPosition (scrollTarget, offset, duration) {\r\n  if (duration) {\r\n    animVerticalScrollTo(scrollTarget, offset, duration)\r\n    return\r\n  }\r\n  setScroll(scrollTarget, offset)\r\n}\r\n\r\nexport function setHorizontalScrollPosition (scrollTarget, offset, duration) {\r\n  if (duration) {\r\n    animHorizontalScrollTo(scrollTarget, offset, duration)\r\n    return\r\n  }\r\n  setHorizontalScroll(scrollTarget, offset)\r\n}\r\n\r\nlet size\r\nexport function getScrollbarWidth () {\r\n  if (size !== undefined) {\r\n    return size\r\n  }\r\n\r\n  const\r\n    inner = document.createElement('p'),\r\n    outer = document.createElement('div')\r\n\r\n  css(inner, {\r\n    width: '100%',\r\n    height: '200px'\r\n  })\r\n  css(outer, {\r\n    position: 'absolute',\r\n    top: '0px',\r\n    left: '0px',\r\n    visibility: 'hidden',\r\n    width: '200px',\r\n    height: '150px',\r\n    overflow: 'hidden'\r\n  })\r\n\r\n  outer.appendChild(inner)\r\n\r\n  document.body.appendChild(outer)\r\n\r\n  const w1 = inner.offsetWidth\r\n  outer.style.overflow = 'scroll'\r\n  let w2 = inner.offsetWidth\r\n\r\n  if (w1 === w2) {\r\n    w2 = outer.clientWidth\r\n  }\r\n\r\n  outer.remove()\r\n  size = w1 - w2\r\n\r\n  return size\r\n}\r\n\r\nexport function hasScrollbar (el, onY = true) {\r\n  if (!el || el.nodeType !== Node.ELEMENT_NODE) {\r\n    return false\r\n  }\r\n\r\n  return onY\r\n    ? (\r\n        el.scrollHeight > el.clientHeight && (\r\n          el.classList.contains('scroll')\r\n          || el.classList.contains('overflow-auto')\r\n          || [ 'auto', 'scroll' ].includes(window.getComputedStyle(el)[ 'overflow-y' ])\r\n        )\r\n      )\r\n    : (\r\n        el.scrollWidth > el.clientWidth && (\r\n          el.classList.contains('scroll')\r\n          || el.classList.contains('overflow-auto')\r\n          || [ 'auto', 'scroll' ].includes(window.getComputedStyle(el)[ 'overflow-x' ])\r\n        )\r\n      )\r\n}\r\n\r\nfunction getElement (el) {\r\n  if (el === void 0 || el === null) {\r\n    return void 0\r\n  }\r\n\r\n  if (typeof el === 'string') {\r\n    try {\r\n      return document.querySelector(el) || void 0\r\n    }\r\n    catch (err) {\r\n      return void 0\r\n    }\r\n  }\r\n\r\n  const target = unref(el)\r\n  if (target) {\r\n    return target.$el || target\r\n  }\r\n}\r\n\r\nexport function css (element, css) {\r\n  const style = element.style\r\n\r\n  for (const prop in css) {\r\n    style[ prop ] = css[ prop ]\r\n  }\r\n}\r\n\r\nexport default {\r\n  getScrollTarget,\r\n\r\n  getScrollHeight,\r\n  getScrollWidth,\r\n\r\n  getVerticalScrollPosition,\r\n  getHorizontalScrollPosition,\r\n\r\n  animVerticalScrollTo,\r\n  animHorizontalScrollTo,\r\n\r\n  setVerticalScrollPosition,\r\n  setHorizontalScrollPosition,\r\n\r\n  getScrollbarWidth,\r\n  hasScrollbar\r\n}\r\n","import * as Vue from \"vue\"\r\nimport scroll from \"../utils/scroll.js\"\r\nimport throttle from \"quasar/src/utils/throttle/throttle.js\";\r\n\r\nexport default {\r\n    \r\n    created: function(elNav, args) {\r\n        Vue.createDebugLine = function (name, position, top, color) {\r\n            let scannerLine1 = document.createElement(\"div\");\r\n            scannerLine1.style.position = position;\r\n            scannerLine1.style.top = top + 'px';\r\n            scannerLine1.style.border = 'none';\r\n            scannerLine1.style.borderTop = color + ' solid 1px';\r\n            scannerLine1.style.width = '100%';\r\n            scannerLine1.style.zIndex = '10000';\r\n            scannerLine1.style.padding = '0px';\r\n            scannerLine1.style.lineHeight = '0px';\r\n            scannerLine1.style.fontSize = '12px';\r\n            scannerLine1.style.color = color;\r\n            scannerLine1.innerHTML = name\r\n            document.querySelector('body').appendChild(scannerLine1);\r\n            return scannerLine1;\r\n        };\r\n        \r\n        const debugMode = args.value.debug ? args.value.debug : false;\r\n\r\n        const startingOffset = args.value.startingOffset ? args.value.startingOffset : 24;\r\n        const fixedPos = args.value.fixedPos ? args.value.fixedPos : 24;\r\n        const fixeTrigger = startingOffset - fixedPos;\r\n        const scanner = args.value.scanner ? args.value.scanner : fixedPos + 30; //scanner is 30px bottom of fixedPos, must be smaller than the smallest first element\r\n        const elAs = elNav.querySelectorAll('a')\r\n        elAs[0].classList.add(\"active\") //first active\r\n        elAs[0].ariaCurrent = \"step\";\r\n        const scrollContainer = scroll.getScrollTarget(document.querySelector(elAs[0].hash))\r\n\r\n        let scannerLines = []\r\n        let startLinearLine\r\n        let lastScrollLine\r\n        if (debugMode) {\r\n            //scannerLine1 = Vue.createDebugLine('nearesBlock','absolute',scanner,'red' );\r\n            // scannerLine1b = Vue.createDebugLine('scannerStart', 'fixed', scanner, 'orange');\r\n            // startingTopLine = Vue.createDebugLine('startingTop', 'fixed', startingOffset, 'green');//position where the element is at start\r\n            // scannerLine3 = Vue.createDebugLine('fixedPos', 'fixed', fixedPos, 'blue'); //position where the nav is fixed   \r\n            startLinearLine = Vue.createDebugLine('startLinear', 'absolute', 0, 'red');\r\n            lastScrollLine = Vue.createDebugLine('last', 'absolute', 0, 'red');\r\n        }\r\n\r\n\r\n        Vue.scrollSpyHandler = function () {\r\n            if (debugMode) {\r\n                var el = elNav;\r\n                var _x = 0;\r\n                var _y = 0;\r\n                while (el && !isNaN(el.offsetLeft) && !isNaN(el.offsetTop)) {\r\n                    _x += el.offsetLeft - el.scrollLeft;\r\n                    _y += el.offsetTop - el.scrollTop;\r\n                    el = el.offsetParent;\r\n                }\r\n                console.log(\"x: \" + _x);\r\n                console.log(\"y: \" + _y + \" (startingOffset)\");\r\n                //return { top: _y, left: _x };\r\n            }\r\n            // Add the fixed class to the header when you reach its scroll position. Remove \"fixed\" when you leave the scroll position\r\n            if (window.pageYOffset > fixeTrigger) {\r\n                if (!elNav.style.top) {\r\n                    elNav.style.top = fixedPos + \"px\";\r\n                    elNav.classList.add(\"fixed\");\r\n                }\r\n                //when fixed, we must set a valid width\r\n                elNav.style.width = elNav.parentElement.getBoundingClientRect().width + \"px\";\r\n            } else {\r\n                if (elNav.style.top) {\r\n                    elNav.classList.remove(\"fixed\");\r\n                    elNav.style.top = null;\r\n                    elNav.style.width = null;\r\n                }\r\n            }\r\n\r\n            //We compute breakpoints\r\n            var scrollPosition = scroll.getVerticalScrollPosition(scrollContainer)\r\n            var scrollBreakpoints = Vue.computeBreakPoints(scrollPosition);\r\n            //We looks between which breakpoints we are\r\n            for (var i = 0; i < elAs.length; i++) {\r\n                if (scrollBreakpoints[i] <= scrollPosition && (i >= elAs.length - 1 || scrollPosition < scrollBreakpoints[i + 1])) {\r\n                    elAs[i].classList.add(\"active\")\r\n                    elAs[i].ariaCurrent = \"step\";\r\n                } else {\r\n                    elAs[i].classList.remove(\"active\");\r\n                    elAs[i].removeAttribute(\"aria-current\");\r\n                }\r\n            }\r\n        };\r\n\r\n        Vue.computeBlockTop = function (scrollPosition) {\r\n            var blockTop = []\r\n            for (let i = 0; i < elAs.length; i++) {\r\n                const elScrollId = elAs[i].hash;\r\n                const elScroll = document.querySelector(elScrollId)\r\n                if (elScroll) {\r\n                    blockTop.push(scrollPosition + elScroll.getBoundingClientRect().top);\r\n                } else {\r\n                    //console.warn('ScrollSpy element '+elScrollId+' not found')\r\n                }\r\n            }\r\n            return blockTop;\r\n        }\r\n\r\n        Vue.scrollTo = function (event) {\r\n            event.preventDefault();\r\n            const elScrollId = event.target.hash;\r\n            const elScroll = document.querySelector(elScrollId)\r\n            var toScroll = scroll.getVerticalScrollPosition(scrollContainer) + elScroll.getBoundingClientRect().top - scanner\r\n\r\n\r\n            var scrollPosition = scroll.getVerticalScrollPosition(scrollContainer)\r\n            var blockTop = Vue.computeBlockTop(scrollPosition);\r\n            var scrollBreakpoints = Vue.computeBreakPoints(scrollPosition);\r\n            for (var i = 0; i < elAs.length; i++) {\r\n                if (elAs[i].hash == elScrollId) {\r\n                    //console.log('scrollTo', blockTop[i]-scanner, scrollBreakpoints[i+1])\r\n                    if (blockTop[i] - scanner < scrollBreakpoints[i + 1] || !scrollBreakpoints[i + 1]) {\r\n                        toScroll = blockTop[i] - scanner;\r\n                    } else {\r\n                        toScroll = scrollBreakpoints[i + 1] - 1;\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            var duration = 200\r\n            scroll.setVerticalScrollPosition(scrollContainer, toScroll, duration)\r\n        };\r\n\r\n\r\n\r\n        Vue.computeBreakPoints = function (scrollPosition) {\r\n            var blockTop = Vue.computeBlockTop(scrollPosition);\r\n\r\n            const windowHeight = (window.innerHeight || document.documentElement.clientHeight); /** visible height */\r\n            const scrollHeight = scroll.getScrollHeight(scrollContainer) /** height of scrollable element */\r\n            const scrollMax = scrollHeight - windowHeight /** Maximum possible scroll */\r\n            const scrollEnd = scrollMax; //blockTop[blockTop.length-1]; /** Finish linear move at this scroll position */\r\n            let scrollStart = scrollEnd - windowHeight + scanner; /** Start linear move at this scroll position : start a block start */\r\n            for (let i = 1; i < elAs.length; i++) {\r\n                if (blockTop[i] - scanner > scrollStart) {\r\n                    scrollStart = blockTop[i] - scanner;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            const scrollDelta = scrollEnd - scrollStart //scroll linear regression \"to\" length\r\n            //console.log('SP',scrollPosition, ' WH', windowHeight, ' SH',scrollHeight, ' SM', scrollMax, ' SS', scrollStart,  ' SD', scrollDelta, \" scanner\",scanner    );\r\n            var scrollBreakpoints = []\r\n            scrollBreakpoints.push(0)\r\n\r\n            for (let i = 1; i < elAs.length; i++) {\r\n                if (blockTop[i] - scanner > scrollStart) {\r\n                    scrollBreakpoints[i] = scrollStart + scrollDelta * (blockTop[i] - scrollStart) / (scrollHeight - scrollStart);\r\n                    //console.log(i+' scrollBreakpoints top: ',blockTop[i])\r\n                } else {\r\n                    scrollBreakpoints[i] = blockTop[i] - scanner;\r\n                }\r\n                scrollBreakpoints[i] = Math.round(scrollBreakpoints[i])\r\n\r\n            }\r\n            if (debugMode) {\r\n                for (let i = 1; i < elAs.length; i++) {\r\n                    var scannerLine;\r\n                    if (scannerLines.length < i) {\r\n                        scannerLine = Vue.createDebugLine('navId#' + i, 'absolute', 0, 'red');\r\n                        scannerLines.push(scannerLine);\r\n                    } else {\r\n                        scannerLine = scannerLines[i - 1];\r\n                    }\r\n                    scannerLine.style.top = (scrollBreakpoints[i] + scanner) + 'px';\r\n                }\r\n                startLinearLine.style.top = (scrollStart + scanner) + 'px';\r\n                lastScrollLine.style.top = (scrollEnd + scanner) + 'px';\r\n            }\r\n            return scrollBreakpoints;\r\n        };\r\n\r\n        \r\n\r\n        elNav.classList.add(\"scroll-spy-nav\");\r\n        for (var i = 0; i < elAs.length; i++) {\r\n            elAs[i].addEventListener('click', Vue.scrollTo);\r\n        }\r\n        window.addEventListener('scroll', Vue.scrollSpyHandler)\r\n        window.addEventListener('resize', throttle(Vue.scrollSpyHandler,50))\r\n    },\r\n    unmounted: function(elNav) {\r\n        elNav.classList.remove(\"scroll-spy-nav\");\r\n        window.removeEventListener('scroll')\r\n        window.removeEventListener('resize')\r\n        const elAs = elNav.querySelectorAll('a')\r\n        for (var i = 0; i < elAs.length; i++) {\r\n            elAs.removeEventListener('click')\r\n        }\r\n    },\r\n}","export function sortDate (a, b) {\n  return (new Date(a)) - (new Date(b))\n}\n\nexport function sortBoolean (a, b) {\n  return a && !b\n    ? -1\n    : (!a && b ? 1 : 0)\n}\n","export function isDeepEqual (a, b) {\n  if (a === b) {\n    return true\n  }\n\n  if (a !== null && b !== null && typeof a === 'object' && typeof b === 'object') {\n    if (a.constructor !== b.constructor) {\n      return false\n    }\n\n    let length, i\n\n    if (a.constructor === Array) {\n      length = a.length\n\n      if (length !== b.length) {\n        return false\n      }\n\n      for (i = length; i-- !== 0;) {\n        if (isDeepEqual(a[ i ], b[ i ]) !== true) {\n          return false\n        }\n      }\n\n      return true\n    }\n\n    if (a.constructor === Map) {\n      if (a.size !== b.size) {\n        return false\n      }\n\n      let iter = a.entries()\n\n      i = iter.next()\n      while (i.done !== true) {\n        if (b.has(i.value[ 0 ]) !== true) {\n          return false\n        }\n        i = iter.next()\n      }\n\n      iter = a.entries()\n      i = iter.next()\n      while (i.done !== true) {\n        if (isDeepEqual(i.value[ 1 ], b.get(i.value[ 0 ])) !== true) {\n          return false\n        }\n        i = iter.next()\n      }\n\n      return true\n    }\n\n    if (a.constructor === Set) {\n      if (a.size !== b.size) {\n        return false\n      }\n\n      const iter = a.entries()\n\n      i = iter.next()\n      while (i.done !== true) {\n        if (b.has(i.value[ 0 ]) !== true) {\n          return false\n        }\n        i = iter.next()\n      }\n\n      return true\n    }\n\n    if (a.buffer != null && a.buffer.constructor === ArrayBuffer) {\n      length = a.length\n\n      if (length !== b.length) {\n        return false\n      }\n\n      for (i = length; i-- !== 0;) {\n        if (a[ i ] !== b[ i ]) {\n          return false\n        }\n      }\n\n      return true\n    }\n\n    if (a.constructor === RegExp) {\n      return a.source === b.source && a.flags === b.flags\n    }\n\n    if (a.valueOf !== Object.prototype.valueOf) {\n      return a.valueOf() === b.valueOf()\n    }\n\n    if (a.toString !== Object.prototype.toString) {\n      return a.toString() === b.toString()\n    }\n\n    const keys = Object.keys(a).filter(key => a[ key ] !== void 0)\n    length = keys.length\n\n    if (length !== Object.keys(b).filter(key => b[ key ] !== void 0).length) {\n      return false\n    }\n\n    for (i = length; i-- !== 0;) {\n      const key = keys[ i ]\n      if (isDeepEqual(a[ key ], b[ key ]) !== true) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  // true if both NaN, false otherwise\n  return a !== a && b !== b // eslint-disable-line no-self-compare\n}\n\n// not perfect, but what we ARE interested is for Arrays not to slip in\n// as spread operator will mess things up in various areas\nexport function isObject (v) {\n  return v !== null && typeof v === 'object' && Array.isArray(v) !== true\n}\n\nexport function isDate (v) {\n  return Object.prototype.toString.call(v) === '[object Date]'\n}\n\nexport function isRegexp (v) {\n  return Object.prototype.toString.call(v) === '[object RegExp]'\n}\n\nexport function isNumber (v) {\n  return typeof v === 'number' && isFinite(v)\n}\n\nexport default {\n  deepEqual: isDeepEqual,\n  object: isObject,\n  date: isDate,\n  regexp: isRegexp,\n  number: isNumber\n}\n","import * as Quasar from \"quasar\"\r\nimport { sortDate } from \"quasar/src/utils/private.sort/sort.js\"\r\nimport { isNumber, isDate } from \"quasar/src/utils/is/is.js\"\r\nimport Debounce from \"lodash.debounce\"\r\n\r\nexport default {\r\n\tdebounce: Debounce,\r\n    onAjaxError: function (response) {\r\n        //Quasar Notif Schema\r\n        let notif = {\r\n            type: 'negative',\r\n            message: 'Network Error.',\r\n            multiLine: true,\r\n            icon: 'warning',\r\n            timeout: 2500,\r\n        }\r\n\r\n        //Setup Error Message\r\n        if(response) {\r\n            if (Object.prototype.hasOwnProperty.call(response.data, 'redirect')) { //if response was a redirect\r\n                 window.location = response.data.redirect;\r\n                 return;\r\n            } else if (Object.prototype.hasOwnProperty.call(response.data, 'message')) { //if response was an error\r\n                notif.message = response.data.message\r\n            }\r\n            //Setup Generic Response Messages\r\n            if (response.status === 401) {\r\n                notif.message = this.$q.lang.vui.ajaxErrors.code401\r\n                this.$root.$emit('unauthorized', response) //Emit Logout Event\r\n                return;\r\n            } else if (response.status === 403) {\r\n                notif.message = this.$q.lang.vui.ajaxErrors.code403\r\n            } else if (response.status === 404) {\r\n                notif.message = this.$q.lang.vui.ajaxErrors.code404\r\n            } else if (response.status === 405) {\r\n                notif.message = this.$q.lang.vui.ajaxErrors.code405\r\n            } else if (response.status === 422) {\r\n                //Validation Message\r\n                notif.message = '';\r\n                Object.keys(response.data).forEach(function (key) {\r\n                    this.$data.uiMessageStack[key] = response.data[key];\r\n                }.bind(this));\r\n            } else if (response.status >= 500) {\r\n                notif.message = this.$q.lang.vui.ajaxErrors.code500\r\n            }\r\n            if (response.statusText && response.status !== 422) {\r\n                notif.message = response.statusText\r\n            }\r\n            //Try to Use the Response Message\r\n            if (Object.prototype.hasOwnProperty.call(response, 'data')) {\r\n                if (Object.prototype.hasOwnProperty.call(response.data, 'message') && response.data.message && response.data.message.length > 0) {\r\n                    notif.message = response.data.message\r\n                } else if (Object.prototype.hasOwnProperty.call(response.data, 'globalErrors') && response.data.globalErrors && response.data.globalErrors.length > 0) {\r\n                    var notifyMessages = this.uiMessageStackToNotify(response.data);\r\n                    notifyMessages.forEach(function(notifyMessage) { this.$q.notify(notifyMessage)}.bind(this));\r\n                    notif.message = ''; //déja envoyé\r\n                }\r\n            }\r\n        }\r\n        //Send the notif\r\n        if (notif.message.length > 0) {\r\n            this.$q.notify(notif);\r\n        }\r\n    },\r\n    uiMessageStackToNotify : function(uiMessageStack) {\r\n      if(uiMessageStack) {\r\n        var notifyMessages = [];\r\n        if(Object.prototype.hasOwnProperty.call(uiMessageStack, 'globalErrors') && uiMessageStack.globalErrors && uiMessageStack.globalErrors.length > 0) {\r\n           uiMessageStack.globalErrors.forEach(function(uiMessage) { notifyMessages.push( {\r\n            color: 'negative', textColor:'white', message: uiMessage,\r\n            multiLine: true, timeout: 2500,\r\n           })});\r\n        }\r\n        if(Object.prototype.hasOwnProperty.call(uiMessageStack, 'globalWarnings') && uiMessageStack.globalWarnings && uiMessageStack.globalWarnings.length > 0) {\r\n           uiMessageStack.globalWarnings.forEach(function(uiMessage) { notifyMessages.push( {\r\n            color: 'warning', textColor:'black', message: uiMessage,\r\n            multiLine: true, timeout: 2500,\r\n           })});\r\n        }\r\n        if(Object.prototype.hasOwnProperty.call(uiMessageStack, 'globalInfos') && uiMessageStack.globalInfos && uiMessageStack.globalInfos.length > 0) {\r\n           uiMessageStack.globalInfos.forEach(function(uiMessage) { notifyMessages.push( {\r\n            color: 'info', textColor:'black', message: uiMessage,\r\n            multiLine: true, timeout: 2500,\r\n           })});\r\n        }\r\n        if(Object.prototype.hasOwnProperty.call(uiMessageStack, 'globalSuccess') && uiMessageStack.globalSuccess && uiMessageStack.globalSuccess.length > 0) {\r\n           uiMessageStack.globalSuccess.forEach(function(uiMessage) { notifyMessages.push( {\r\n            color: 'positive', textColor:'black', message: uiMessage,\r\n            multiLine: true, timeout: 2500,\r\n           })});\r\n        }\r\n        //Pour le moment, rien avec : objectFieldErrors, objectFieldWarnings, objectFieldInfos\r\n        \r\n        return notifyMessages;\r\n      }\r\n    },\r\n    \r\n    i18n: function() {\r\n        return VertigoUi.lang[VertigoUi.vuiLang];\r\n    },\r\n    \r\n    getSafeValue: function (objectkey, fieldKey, subFieldKey) {\r\n        if (this.$data.vueData[objectkey] && this.$data.vueData[objectkey][fieldKey]) {\r\n            return this.$data.vueData[objectkey][fieldKey][subFieldKey];\r\n        }\r\n        return null;\r\n    },\r\n\r\n    transformListForSelection: function (list, valueField, labelField, filterFunction, searchValue) {\r\n        let rawList = this.$data.vueData[list];\r\n        if (filterFunction) {\r\n            rawList = rawList.filter(filterFunction);\r\n        }\r\n        if (searchValue != null && searchValue.trim() !== '') {\r\n            const searchNormalized = this.unaccentLower(searchValue);\r\n            rawList = rawList.filter(val => this.unaccentLower(val[labelField].toString()).indexOf(searchNormalized) > -1); // label contains\r\n\t\t\trawList.sort((a,b) => {\r\n\t\t\t\tconst startWithA = this.unaccentLower(a[labelField].toString()).startsWith(searchNormalized);\r\n\t\t\t\tconst startWithB = this.unaccentLower(b[labelField].toString()).startsWith(searchNormalized);\r\n\t\t\t\tif (startWithA && !startWithB) return -1;\r\n\t\t\t\tif (!startWithA && startWithB) return 1;\r\n\t\t\t\treturn 0;\r\n\t\t\t});\r\n        }\r\n        return rawList.map(function (object) {\r\n            return { value: object[valueField], label: object[labelField].toString() } // a label is always a string\r\n        });\r\n    },\r\n    \r\n    unaccentLower: function(value) {\r\n        return value.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').toLowerCase();\r\n    },\r\n\r\n    paginationAndSortHandler: function (params) {\r\n        var pagination = params.pagination;\r\n        let componentStates = this.$data.componentStates;\r\n        let vueData = this.$data.vueData;\r\n        var oldPagination = componentStates[pagination.componentId].pagination;\r\n        if (oldPagination.sortBy != pagination.sortBy || oldPagination.descending != pagination.descending) {\r\n            if (pagination.sortBy) {\r\n                let sortedColumn = componentStates[pagination.componentId].columns.find(column => column.name === pagination.sortBy);\r\n                // it's a sort\r\n                if (pagination.sortUrl) {\r\n                    //order call the server\r\n                    pagination.page = 1 //reset pagination\r\n                    this.$http.post(pagination.sortUrl, this.objectToFormData({ sortFieldName: sortedColumn.field, sortDesc: pagination.descending, CTX: this.$data.vueData.CTX }))\r\n                        .then(function (response) {\r\n                            vueData[pagination.listKey] = response.data.model[pagination.listKey];\r\n                            this.$data.vueData.CTX = response.data.model['CTX'];\r\n                        }.bind(this));\r\n                } else {\r\n                    //do locally\r\n                    this.$refs[pagination.componentId].sortMethod.apply(this.$refs[pagination.componentId], [vueData[pagination.listKey], sortedColumn.field, pagination.descending])\r\n                }\r\n            } // if we reset the sort we do nothing\r\n        }\r\n        // otherwise it's pagination or filter : do it locally\r\n        // nothing to do everything is done by the paginatedData function\r\n        componentStates[pagination.componentId].pagination = pagination;\r\n    },\r\n    paginatedData: function (list, componentId) {\r\n        let componentStates = this.$data.componentStates;\r\n        var pagination = componentStates[componentId].pagination;\r\n        if (pagination.rowsPerPage != 0) { // not all\r\n            var firstRowIndex = (pagination.page - 1) * pagination.rowsPerPage;\r\n            var lastRowIndex = pagination.page * pagination.rowsPerPage;\r\n            return this.$data.vueData[list].slice(firstRowIndex, lastRowIndex);\r\n        }\r\n        return this.$data.vueData[list];\r\n    },\r\n    createDefaultTableSort: function(componentId) {\r\n        if (this.$data.componentStates[componentId]) {\r\n            return function (data, sortBy, descending) {\r\n                let sortedColumn = this.$data.componentStates[componentId].columns.find(column => column.name === sortBy);\r\n                if (sortedColumn.datetimeFormat) {\r\n                        const\r\n                        dir = descending === true ? -1 : 1,\r\n                        val =  v => v[sortedColumn.field]\r\n\r\n                    return data.sort((a, b) => {\r\n                        let A = val(a),\r\n                            B = val(b);\r\n                        return ((Quasar.date.extractDate(A, sortedColumn.datetimeFormat).getTime() > Quasar.date.extractDate(B, sortedColumn.datetimeFormat).getTime()) ? 1 : -1) * dir;\r\n                    })\r\n                } else {\r\n                    return this.sortCiAi(data, sortedColumn.field, descending)\r\n                }\r\n            }.bind(this)\r\n        }\r\n        return this.sortCiAi\r\n    },\r\n    sortCiAi: function (data, sortBy, descending) {\r\n\r\n        const\r\n            dir = descending === true ? -1 : 1,\r\n            val =  v => v[sortBy]\r\n\r\n        const collator = new Intl.Collator();\r\n\r\n        return data.sort((a, b) => {\r\n            let A = val(a),\r\n                B = val(b)\r\n\r\n            if (A === null || A === void 0) {\r\n                return -1 * dir;\r\n            }\r\n            if (B === null || B === void 0) {\r\n                return 1 * dir;\r\n            }\r\n            if (isNumber(A) === true && isNumber(B) === true) {\r\n                return (A - B) * dir;\r\n            }\r\n            if (isDate(A) === true && isDate(B) === true) {\r\n                return sortDate(A, B) * dir;\r\n            }\r\n            if (typeof A === 'boolean' && typeof B === 'boolean') {\r\n                return (A - B) * dir;\r\n            }\r\n\r\n            [A, B] = [A, B].map(s => (s + '').toLocaleString());\r\n\r\n            return collator.compare(A, B) * dir;\r\n        })\r\n    },\r\n\r\n    selectedFunction: function (object, field, item /*, keyboard*/) {\r\n        this.$data.vueData[object][field] = item.value;\r\n    },\r\n\r\n    searchAutocomplete: function (list, valueField, labelField, componentId, url, minQueryLength, terms, update, abort) {\r\n        if (terms.length < minQueryLength) {\r\n            abort();\r\n            return\r\n        }\r\n        this.$http.post(url, this.objectToFormData({ terms: terms, list: list, valueField: valueField, labelField: labelField, CTX: this.$data.vueData.CTX }))\r\n            .then(function (response) {\r\n                var finalList = response.data.map(function (object) {\r\n                    return { value: object[valueField], label: object[labelField].toString() } // a label is always a string\r\n                });\r\n                update(function () {\r\n                    this.$data.componentStates[componentId].options = finalList;\r\n                }.bind(this));\r\n            }.bind(this))\r\n            .catch(function (error) {\r\n                this.$q.notify(error.response.status + \":\" + error.response.statusText);\r\n                update([]);\r\n            });\r\n\r\n    },\r\n    loadAutocompleteById: function (list, valueField, labelField, componentId, url, objectName, fieldName, rowIndex) {\r\n        //Method use when value(id) is set by another way : like Ajax Viewcontext update, other component, ...\r\n        //if options already contains the value (id) : we won't reload.\r\n        var value\r\n        if (rowIndex != null) {\r\n            value = this.$data.vueData[objectName][rowIndex][fieldName];\r\n        } else {\r\n            value = this.$data.vueData[objectName][fieldName];\r\n        }\r\n         \r\n        if (Array.isArray(value)) {\r\n            value.forEach(element => this.loadMissingAutocompleteOption(list, valueField, labelField, componentId, url, element));\r\n        } else {\r\n            this.loadMissingAutocompleteOption(list, valueField, labelField, componentId, url, value);\r\n        }\r\n        \r\n    },\r\n    loadMissingAutocompleteOption: function (list, valueField, labelField, componentId, url, value){\r\n        if (!value || (this.$data.componentStates[componentId].options\r\n            .filter(function (option) { return option.value === value }.bind(this)).length > 0)) {\r\n            return\r\n        }\r\n        this.$data.componentStates[componentId].loading = true;\r\n        this.$http.post(url, this.objectToFormData({ value: value, list: list, valueField: valueField, labelField: labelField, CTX: this.$data.vueData.CTX }))\r\n            .then(function (response) {\r\n                var finalList = response.data.map(function (object) {\r\n                    return { value: object[valueField], label: object[labelField].toString() } // a label is always a string\r\n                });\r\n                this.$data.componentStates[componentId].options = this.$data.componentStates[componentId].options.concat(finalList);\r\n            }.bind(this))\r\n            .catch(function (error) {\r\n                this.$q.notify(error.response.status + \":\" + error.response.statusText);\r\n            }.bind(this))\r\n            .then(function () {// always executed\r\n                this.$data.componentStates[componentId].loading = false;\r\n            }.bind(this));\r\n    },\r\n    decodeDate: function (value, format) {\r\n        if (value === Quasar.date.formatDate(Quasar.date.extractDate(value, 'YYYY-MM-DD'), 'YYYY-MM-DD')) {\r\n            return Quasar.date.formatDate(Quasar.date.extractDate(value, 'YYYY-MM-DD'), format);\r\n        } else {\r\n            return value;\r\n        }\r\n    },\r\n\r\n    encodeDate: function (newValue, format) {\r\n        if (newValue === Quasar.date.formatDate(Quasar.date.extractDate(newValue, format), format)) {\r\n            return Quasar.date.formatDate(Quasar.date.extractDate(newValue, format), 'YYYY-MM-DD');\r\n        } else {\r\n            return newValue;\r\n        }\r\n    },\r\n\r\n    decodeDatetime: function (value, format) {\r\n        if (value === Quasar.date.formatDate(Quasar.date.extractDate(value, 'YYYY-MM-DD[T]HH:mm'), 'YYYY-MM-DD[T]HH:mm')) {\r\n            return Quasar.date.formatDate(Quasar.date.extractDate(value, 'YYYY-MM-DD[T]HH:mm'), format);\r\n        } else {\r\n            return value;\r\n        }\r\n    },\r\n\r\n    encodeDatetime: function (newValue, format) {\r\n        if (newValue === Quasar.date.formatDate(Quasar.date.extractDate(newValue, format), format)) {\r\n            return Quasar.date.formatDate(Quasar.date.extractDate(newValue, format), 'YYYY-MM-DD[T]HH:mm');\r\n        } else {\r\n            return newValue;\r\n        }\r\n    },\r\n\r\n    sortDatesAsString: function (format) {\r\n        return function (date1, date2, rowA, rowB) {\r\n            return (Quasar.date.extractDate(date1, format).getTime() > Quasar.date.extractDate(date2, format).getTime()) ? 1 : -1;\r\n        }\r\n    },\r\n\r\n    goTo: function (url) {\r\n        window.location = url;\r\n    },\r\n\r\n    openModal: function (modalId, url, params) {\r\n        if (url) {\r\n            var finalUrl = url;\r\n            if (params && Object.keys(params).length > 0) {\r\n                var paramsString = Object.keys(params).map(function (key) {\r\n                    return key + '=' + params[key];\r\n                }).join(\"&\");\r\n                finalUrl = finalUrl + '?' + paramsString;\r\n            }\r\n            this.$data.componentStates[modalId].srcUrl = finalUrl;\r\n        }\r\n        this.$data.componentStates[modalId].opened = true;\r\n    },\r\n\r\n    toogleFacet: function (facetCode, facetValueCode, contextKey, pageIndexReset = 1) {\r\n        let vueData = this.$data.vueData;\r\n        var multiple = false;\r\n        vueData[contextKey + \"_facets\"].forEach(function (facet) {\r\n            if (facet.code === facetCode) {\r\n                // get the right facet \r\n                multiple = facet.multiple;\r\n            }\r\n        })\r\n        var selectedFacetValues = vueData[contextKey + \"_selectedFacets\"][facetCode]\r\n        if (selectedFacetValues) {\r\n            if (selectedFacetValues.includes(facetValueCode)) {\r\n                if (multiple) {\r\n                    selectedFacetValues.splice(selectedFacetValues.indexOf(facetValueCode), 1);\r\n                } else {\r\n                    selectedFacetValues.splice(0);\r\n                }\r\n            } else {\r\n                selectedFacetValues.push(facetValueCode);\r\n            }\r\n        } else {\r\n            vueData[contextKey + \"_selectedFacets\"][facetCode] = [facetValueCode];\r\n        }\r\n        this.search(contextKey, pageIndexReset);\r\n    },\r\n\r\n    search: Debounce(function (contextKey, pageIndexReset = 1) {\r\n        let componentStates = this.$data.componentStates;\r\n        let vueData = this.$data.vueData;\r\n        var selectedFacetsContextKey = contextKey + \"_selectedFacets\";\r\n        var criteriaContextKey = vueData[contextKey + '_criteriaContextKey'];\r\n        var params = this.vueDataParams([criteriaContextKey]);\r\n        params.append(selectedFacetsContextKey, JSON.stringify(vueData[selectedFacetsContextKey]));\r\n\r\n        var searchUrl = componentStates[contextKey + 'Search'].searchUrl;\r\n        var collectionComponentId = componentStates[contextKey + 'Search'].collectionComponentId;\r\n\r\n        if (componentStates[collectionComponentId].pagination && componentStates[collectionComponentId].pagination.sortBy) {\r\n            var collectionPagination = componentStates[collectionComponentId].pagination;\r\n            let sortedColumn = componentStates[collectionComponentId].columns.find(column => column.name === collectionPagination.sortBy);\r\n            if (sortedColumn.field != null) {\r\n                params.append('sortFieldName', sortedColumn.field);\r\n            }\r\n            params.append('sortDesc', collectionPagination.descending);\r\n        }\r\n        this.httpPostAjax(searchUrl, params, {\r\n            onSuccess: function (response) {\r\n                if (componentStates[collectionComponentId].pagination) {\r\n                    var collectionPagination = componentStates[collectionComponentId].pagination;\r\n                    collectionPagination.page = pageIndexReset // reset page (1 by default)\r\n                    collectionPagination.rowsNumber = response.data.model[contextKey + '_list'].length\r\n                }\r\n            }\r\n        });\r\n    }, 400),\r\n\r\n    showMore: function (componentId) {\r\n        let componentStates = this.$data.componentStates;\r\n        var showMoreCount = componentStates[componentId].pagination.showMoreCount;\r\n        if (showMoreCount) {\r\n            // nothing to do\r\n        } else {\r\n            showMoreCount = 1;\r\n            componentStates[componentId].pagination.showMoreCount = showMoreCount;\r\n        }\r\n        componentStates[componentId].pagination.rowsPerPage = componentStates[componentId].pagination.rowsPerPage / showMoreCount * (showMoreCount + 1);\r\n    },\r\n    vueDataToArray(value) {\r\n        if (Array.isArray(value)) {\r\n            return value;\r\n        } else if (value) {\r\n            return [value];\r\n        }\r\n        return [];\r\n    },\r\n    vueDataToObject(value) {\r\n        if(Array.isArray(value)) {\r\n            if (value.length == 0 ) {\r\n                return null\r\n            } else if (value.length == 1) {\r\n                return value[0]\r\n            }\r\n            return value;\r\n        } else if(value) {\r\n            return value;\r\n        }\r\n        return null;\r\n    },\r\n    obtainVueDataAccessor(referer, object, field, rowIndex) {\r\n        if (field != null && field != 'null') {\r\n            if (rowIndex != null) {\r\n                return {\r\n                    get: function () {\r\n                        return referer.$data.vueData[object][rowIndex][field];\r\n                    },\r\n                    set: function (newData) {\r\n                        referer.$data.vueData[object][rowIndex][field] = newData;\r\n                    }\r\n                }\r\n            } else {\r\n                return {\r\n                    get: function () {\r\n                        return referer.$data.vueData[object][field];\r\n                    },\r\n                    set: function (newData) {\r\n                        referer.$data.vueData[object][field] = newData;\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            return {\r\n                get: function () {\r\n                    return referer.$data.vueData[object];\r\n                },\r\n                set: function (newData) {\r\n                    referer.$data.vueData[object] = newData;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    uploader_dragenter(componentId, event) {\r\n        let componentStates = this.$data.componentStates;\r\n        componentStates[componentId].dragover = true;\r\n    },\r\n    uploader_dragover(event, componentId) {\r\n        if (!this.$refs[componentId]?.canAddFiles()) {\r\n            event.dataTransfer.dropEffect = 'none';\r\n        }\r\n    },\r\n    uploader_dragleave(componentId) {\r\n        let componentStates = this.$data.componentStates;\r\n        componentStates[componentId].dragover = false;\r\n    },\r\n    uploader_drop(event, componentId) {\r\n        var component = this.$refs[componentId];\r\n        component.addFiles(event.dataTransfer.files);\r\n    },\r\n    modal_iframeLoad(ifrm) {\r\n        let compId = ifrm.dataset.componentId;\r\n        let autoHeight = ifrm.dataset.autoHeight;\r\n\r\n        if (autoHeight === 'true') {\r\n            ifrm.style.opacity = '0'; // should be already hidden but otherwise we hide it to avoid flickering\r\n            //ifrm.style.height = \"100px\"; // set to 100px to get height without blank padding at bottom, but not less than 100px\r\n\r\n            this.modal_iframeAjustHeight(ifrm)\r\n        }\r\n        this.componentStates[compId].loading = false;\r\n        ifrm.style.opacity = '1'; // show the iframe\r\n    },\r\n    modal_iframeAjustHeight(ifrm) {\r\n        let compId = ifrm.dataset.componentId;\r\n        let doc = ifrm.contentDocument? ifrm.contentDocument: ifrm.contentWindow.document;\r\n        setTimeout(function() { // slight delay to allow the iframe to be fully loaded and rendered\r\n            let newHeight = this.getDocHeight(doc) + 4 + \"px\"; // IE opt. for bing/msn needs a bit added or scrollbar appears\r\n\r\n            ifrm.style.height = \"\"; // reset iframe height to extends again\r\n            this.componentStates[compId].height = newHeight; // set the height of the modal\r\n        }.bind(this), 1);\r\n    },\r\n    getDocHeight : function(doc) {\r\n        doc = doc || document;\r\n        let body = doc.body, html = doc.documentElement;\r\n        let height = Math.max( body.scrollHeight, body.offsetHeight, \r\n                               html.scrollHeight, html.offsetHeight, html.clientHeight);\r\n        return height;\r\n    },\r\n    httpPostAjax: function (url, paramsIn, options) {\r\n        var paramsInResolved = !paramsIn ? [] :  Array.isArray(paramsIn) ? this.vueDataParams(paramsIn) : paramsIn;\r\n        let vueData = this.$data.vueData;\r\n        let uiMessageStack = this.$data.uiMessageStack;\r\n        let params = this.isFormData(paramsInResolved) ? paramsInResolved : this.objectToFormData(paramsInResolved);\r\n        params.append('CTX', vueData.CTX);\r\n        this.pushPendingAction(url);\r\n        this.$http.post(url, params).then(function (response) {\r\n          if (response.data.model.CTX) {\r\n            vueData.CTX = response.data.model.CTX;\r\n          }\r\n          Object.keys(response.data.model).forEach(function (key) {\r\n            if ('CTX' != key) {\r\n              vueData[key] = response.data.model[key];\r\n            }\r\n          });\r\n\t\t  if (options && options.notifyUiMessageStack) {\r\n\t\t\tvar notifyMessages = this.uiMessageStackToNotify(response.data.uiMessageStack);\r\n\t\t\tnotifyMessages.forEach(function(notifyMessage) { this.$q.notify(notifyMessage)}.bind(this));\r\n\t\t  } else {\r\n\t\t\tObject.keys(response.data.uiMessageStack).forEach(function (key) {\r\n\t          uiMessageStack[key] = response.data.uiMessageStack[key];\r\n\t        });\r\n\t\t  }\r\n          if (options && options.onSuccess) {\r\n            options.onSuccess.call(this, response, window);\r\n          }\r\n        }.bind(this)).catch(function (error) {\r\n          if (options && options.onError) {\r\n            options.onError.call(this, error.response, window);\r\n          }              \r\n        }).finally(function () {\r\n          this.removePendingAction(url);\r\n        }.bind(this));\r\n    },\r\n    isPendingAction: function(actionName) {\r\n        if(actionName) {\r\n            return this.$data.componentStates.pendingAction.actionNames.includes(actionName);\r\n        } else {\r\n            return this.$data.componentStates.pendingAction.actionNames.length > 0;\r\n        }\r\n    },\r\n    pushPendingAction: function(actionName) {\r\n         this.$data.componentStates.pendingAction.actionNames.push(actionName);\r\n    },\r\n    removePendingAction: function(actionName) {\r\n        this.$data.componentStates.pendingAction.actionNames = this.$data.componentStates.pendingAction.actionNames.filter(e => e !== actionName);\r\n    },\r\n    removePendingActionAfterDelay: function(actionName, delay) {\r\n        setTimeout(function () {this.removePendingAction(actionName)}.bind(this), delay);\r\n    },        \r\n\r\n    hasFieldsError: function (object, field, rowIndex) {\r\n        const fieldsErrors = this.$data.uiMessageStack.objectFieldErrors;\r\n        const fieldName = field.split(\"_\")[0]; // trim any qualifier like \"_fmt\"\r\n        if (fieldsErrors) {\r\n            var objectName = rowIndex != null ? object + '[' + rowIndex + ']' : object;\r\n            return fieldsErrors?.[objectName]?.[fieldName]?.length > 0;\r\n        }\r\n        return false;\r\n    },\r\n\r\n    getErrorMessage: function (object, field, rowIndex) {\r\n        const fieldsErrors = this.$data.uiMessageStack.objectFieldErrors;\r\n        const fieldName = field.split(\"_\")[0]; // trim any qualifier like \"_fmt\"\r\n        if (fieldsErrors) {\r\n            var objectName = rowIndex != null ? object + '[' + rowIndex + ']' : object;\r\n            if (Object.prototype.hasOwnProperty.call(fieldsErrors, objectName) &&\r\n                fieldsErrors[objectName] && Object.prototype.hasOwnProperty.call(fieldsErrors[objectName], fieldName)) {\r\n                return fieldsErrors[objectName][fieldName].join(', ');\r\n            }\r\n        } else {\r\n            return '';\r\n        }\r\n    },\r\n\r\n    vueDataParams: function (keys) {\r\n        var params = new FormData();\r\n        for (var i = 0; i < keys.length; i++) {\r\n            var attribs = keys[i].split('.',2);\r\n            var contextKey = attribs[0];\r\n            var attribute = attribs[1];\r\n            var vueDataValue = this.$data.vueData[contextKey];\r\n            if (vueDataValue && typeof vueDataValue === 'object' && Array.isArray(vueDataValue) === false) {\r\n                // object\r\n                if(!attribute) {\r\n                    Object.keys(vueDataValue).forEach(function (propertyKey) {\r\n                        if (!propertyKey.includes(\"_\") ) {\r\n                            //  properties taht start with _ are private and don't belong to the serialized entity\r\n                            // we filter field with modifiers (like <field>_display and <field>_fmt)\r\n                            this._vueDataParamsKey(params, contextKey, propertyKey, vueDataValue)\r\n                        }\r\n                    }.bind(this));\r\n                } else {\r\n                    this._vueDataParamsKey(params, contextKey, attribute, vueDataValue)\r\n                }\r\n            } else if (vueDataValue && Array.isArray(vueDataValue) === true) {\r\n                // array\r\n                vueDataValue.forEach(function (value, index) {\r\n                    if(!attribute) {\r\n                        Object.keys(value).forEach(function (propertyKey) {\r\n                            if (!propertyKey.includes(\"_\") ) {\r\n                                //  properties that start with _ are private and don't belong to the serialized entity\r\n                                // we filter field with modifiers (like <field>_display and <field>_fmt)\r\n                                this._vueDataParamsKey(params, contextKey +']['+ index , propertyKey, value)\r\n                            }\r\n                        }.bind(this));\r\n                    } else {\r\n                        this._vueDataParamsKey(params, contextKey +']['+ index, attribute, value)\r\n                    }\r\n                }.bind(this));\r\n            } else {\r\n                //primitive\r\n                this.appendToFormData(params, 'vContext[' + contextKey + ']', vueDataValue);\r\n            }\r\n        }\r\n        return params;\r\n\r\n    },\r\n    _vueDataParamsKey: function(params, contextKey, propertyKey, vueDataValue) {\r\n        let vueDataFieldValue = vueDataValue[propertyKey];\r\n        if (Array.isArray(vueDataFieldValue)) {\r\n            if (!vueDataFieldValue || vueDataFieldValue.length == 0) {\r\n                this.appendToFormData(params, 'vContext[' + contextKey + '][' + propertyKey + ']', \"\"); // reset array with an empty string\r\n            } else {\r\n                vueDataFieldValue.forEach(function (value, index) {\r\n                    if (vueDataFieldValue[index] && typeof vueDataFieldValue[index] === 'object') {\r\n                        this.appendToFormData(params, 'vContext[' + contextKey + '][' + propertyKey + ']', vueDataFieldValue[index]['_v_inputValue']);\r\n                    } else {\r\n                        this.appendToFormData(params, 'vContext[' + contextKey + '][' + propertyKey + ']', vueDataFieldValue[index]);\r\n                    }\r\n                }.bind(this));\r\n            }\r\n        } else {\r\n            if (vueDataFieldValue && typeof vueDataFieldValue === 'object') {\r\n                this.appendToFormData(params, 'vContext[' + contextKey + '][' + propertyKey + ']', vueDataFieldValue['_v_inputValue']);\r\n            } else {\r\n                this.appendToFormData(params, 'vContext[' + contextKey + '][' + propertyKey + ']', vueDataFieldValue);\r\n            }\r\n        }\r\n    },\r\n    objectToFormData: function (object) {\r\n        const formData = new FormData();\r\n        Object.keys(object).forEach(function (key) {\r\n            this.appendToFormData(formData, key, object[key])\r\n        }.bind(this));\r\n        return formData;\r\n    },\r\n\r\n    appendToFormData: function (formData, name, value) {\r\n        if (value != null) {\r\n            formData.append(name, value)\r\n        } else {\r\n            formData.append(name, \"\")\r\n        }\r\n    },\r\n\r\n    isFormData: function (val) {\r\n        return (typeof FormData !== 'undefined') && (val instanceof FormData);\r\n    },\r\n    /**\r\n     * Capture the <CTL-V> paste event, only allow plain-text, no images.         *\r\n     * see: https://stackoverflow.com/a/28213320         *\r\n     * @param {object} evt - array of files\r\n     * @author Daniel Thompson-Yvetot\r\n     * @license MIT\r\n     */\r\n    pastePlainTextCapture (evt, editorRef) {\r\n      // Let inputs do their thing, so we don't break pasting of links.\r\n      if (evt.target.nodeName === 'INPUT') return\r\n      let text, onPasteStripFormattingIEPaste\r\n      evt.preventDefault()\r\n      if (evt.originalEvent && evt.originalEvent.clipboardData.getData) {\r\n        text = evt.originalEvent.clipboardData.getData('text/plain')\r\n        this.$refs[editorRef].runCmd('insertText', text)\r\n      }\r\n      else if (evt.clipboardData && evt.clipboardData.getData) {\r\n        text = evt.clipboardData.getData('text/plain')\r\n        this.$refs[editorRef].runCmd('insertText', text)\r\n      }\r\n      else if (window.clipboardData && window.clipboardData.getData) {\r\n        if (!onPasteStripFormattingIEPaste) {\r\n          onPasteStripFormattingIEPaste = true\r\n          this.$refs[editorRef].runCmd('ms-pasteTextOnly', text)\r\n        }\r\n        onPasteStripFormattingIEPaste = false\r\n      }\r\n    },\r\n    editorHandlerFixHelper(tags, regexp, doBlockName, undoBlockName, eVm, caret) {\r\n        if(caret.hasParents(tags, true)) { \r\n            eVm.runCmd('formatBlock', undoBlockName);\r\n            \r\n            if(!caret.range.commonAncestorContainer.hasChildNodes()) {\r\n                 var currentNode = caret.selection.focusNode.parentNode;\r\n                while(currentNode && currentNode !== caret.el) {\r\n                    if(tags.includes(currentNode.nodeName.toLowerCase())) {\r\n                        currentNode.outerHTML = currentNode.outerHTML.replace(regexp,\"\");\r\n                    }\r\n                    currentNode = currentNode.parentNode;\r\n                }                    \r\n            } else {\r\n               var inSelection = false;\r\n                var startNode = caret.range.startContainer;\r\n                while(startNode && startNode !== caret.el && startNode.parentNode !== caret.range.commonAncestorContainer) {\r\n                    startNode = startNode.parentNode;\r\n                }                \r\n                var endNode = caret.range.endContainer;\r\n                while(endNode && endNode !== caret.el && endNode.parentNode !== caret.range.commonAncestorContainer) {\r\n                    endNode = endNode.parentNode;\r\n                }\r\n                caret.range.commonAncestorContainer.childNodes.forEach(\r\n                    function (currentNode) {\r\n                        if(currentNode === startNode) {\r\n                            inSelection = true;\r\n                        }\r\n                        if(inSelection) {\r\n                            currentNode.outerHTML = currentNode.outerHTML.replace(regexp,\"\");\r\n                        }\r\n                        if(currentNode === endNode) {\r\n                            inSelection = false;                            \r\n                        }\r\n                    }\r\n                )\r\n            }\r\n        } else {\r\n            eVm.runCmd('formatBlock', doBlockName);\r\n        }\r\n    },\r\n    editorHandlerBlockquoteFix(e,eVm,caret) {\r\n        this.editorHandlerFixHelper(['blockquote'], /<\\/?blockquote[^>]*\\/?>/g, 'blockquote', 'div', eVm, caret);\r\n    },\r\n    editorHandlerParagrapheFix(e,eVm,caret) {\r\n        this.editorHandlerFixHelper(['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'h7', 'h8', 'h9'], /<\\/?h[1-9][^>]*\\/?>/g, 'div', 'div', eVm, caret);            \r\n    }\r\n}\r\n","import * as Quasar from \"quasar\"\r\n\r\nimport VChatbot from './components/VChatbot.vue'\r\nimport VCommands from './components/VCommands.vue'\r\nimport VComments from './components/VComments.vue'\r\nimport VExtensionsStore from './components/VExtensionsStore.vue'\r\nimport VFacets from './components/VFacets.vue'\r\nimport VGeopointInput from './components/VGeopointInput.vue'\r\nimport VHandles from './components/VHandles.vue'\r\nimport VJsonEditor from './components/VJsonEditor.vue'\r\nimport VNotifications from './components/VNotifications.vue'\r\nimport VMap from './components/VMap.vue'\r\nimport VMapLayer from './components/VMapLayer.vue'\r\nimport VTree from './components/VTree.vue'\r\nimport VFileUpload from './components/VFileUpload.vue'\r\nimport VFileUploadQuasar from './components/VFileUploadQuasar.vue'\r\n\r\nimport VDashboardChart from './components/dashboard/VDashboardChart.vue'\r\n\r\nimport VAlertUnsavedUpdates from './directives/VAlertUnsavedUpdates'\r\nimport VAutofocus from './directives/VAutofocus'\r\nimport VIfUnsavedUpdates from './directives/VIfUnsavedUpdates'\r\nimport VMinify from './directives/VMinify'\r\nimport VScrollSpy from './directives/VScrollSpy'\r\n\r\nimport VMethods from './methods'\r\n\r\nimport EnUs from './lang/vertigo-ui-lang-en-us'\r\nimport Fr from './lang/vertigo-ui-lang-fr'\r\n\r\nvar VertigoUi = {\r\n\r\n    getBoundMethods: function (obj, methods) {\r\n        let boundMethods = {};\r\n        Object.keys(methods)\r\n            .forEach(methodName => boundMethods[methodName] = methods[methodName].bind(obj));\r\n        return boundMethods;\r\n    },\r\n\r\n    install: function (vueApp, options) {\r\n\r\n        // components\r\n        vueApp.component(\"v-chatbot\", VChatbot);\r\n        vueApp.component(\"v-commands\", VCommands);\r\n        vueApp.component(\"v-comments\", VComments);\r\n        vueApp.component(\"v-extensions-store\", VExtensionsStore);\r\n        vueApp.component(\"v-facets\", VFacets);\r\n        vueApp.component(\"v-geopoint-input\", VGeopointInput);\r\n        vueApp.component(\"v-handles\", VHandles);\r\n        vueApp.component(\"v-json-editor\", VJsonEditor);\r\n        vueApp.component(\"v-notifications\", VNotifications);\r\n        vueApp.component(\"v-map\", VMap);\r\n        vueApp.component(\"v-map-layer\", VMapLayer);\r\n        vueApp.component(\"v-tree\", VTree)\r\n        vueApp.component(\"v-file-upload\", VFileUpload);\r\n        vueApp.component(\"v-file-upload-quasar\", VFileUploadQuasar);\r\n        vueApp.component(\"v-dashboard-chart\", VDashboardChart);\r\n\r\n        // directives\r\n        vueApp.directive(\"alert-unsaved-updates\", VAlertUnsavedUpdates);\r\n        vueApp.directive(\"autofocus\", VAutofocus);\r\n        vueApp.directive(\"if-unsaved-updates\", VIfUnsavedUpdates);\r\n        vueApp.directive(\"minify\", VMinify);\r\n        vueApp.directive(\"scroll-spy\", VScrollSpy);\r\n\r\n        if (!options.axios) {\r\n            console.error('You have to install axios')\r\n            return\r\n        }\r\n\r\n        vueApp.axios = options.axios;\r\n        vueApp.$http = options.axios;\r\n\r\n        Object.defineProperties(vueApp.config.globalProperties, {\r\n            axios: {\r\n                get() {\r\n                    return options.axios\r\n                }\r\n            },\r\n\r\n            $http: {\r\n                get() {\r\n                    return options.axios\r\n                }\r\n            },\r\n\r\n            $vui: {\r\n                get() {\r\n                    return VertigoUi.getBoundMethods(VMethods, VMethods);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    },\r\n\r\n    methods: VMethods,\r\n\r\n    initData: function (instance, json) {\r\n        instance.vueData = json.vueData;\r\n        instance.componentStates = json.componentStates;\r\n        instance.uiMessageStack = json.uiMessageStack;\r\n        instance.vuiLang = json.vuiLang;\r\n    },\r\n\r\n    lang: {\r\n        enUS: EnUs,\r\n        fr: Fr\r\n    }\r\n}\r\n\r\nif (window) {\r\n    window.VertigoUi = VertigoUi\r\n}\r\n\r\nexport default VertigoUi;\r\n","export default {\r\n        ajaxErrors: {\r\n            code401: 'UnAuthorized, you may login with an authorized account',\r\n            code403: 'Forbidden, your havn&quote;t enought rights',\r\n            code404: 'API Route is Missing or Undefined',\r\n            code405: 'API Route Method Not Allowed',\r\n            code500: 'Server Error'\r\n        },\r\n        comments: {\r\n            title : \"Comments\",\r\n            inputLabel : \"Insert here a comment\",\r\n            actionlabel : \"Publish\",\r\n            cancel :\"Cancel\",\r\n            save : \"Save\"\r\n        },\r\n        chatbot: {\r\n            errorMessage: \"An error occured sending the message\",\r\n            tryAgain: \"Try again\",\r\n            suggestedAnswers : \"Suggested answers\",\r\n            inputPlaceHolder : \"Enter here a message\",\r\n            restartMessage : \"Conversation is restarting\"\r\n        },\r\n        facets : {\r\n            showAll : \"Show all\",\r\n            showLess : \"Show less\"\r\n        },\r\n        notifications : {\r\n            days : \"days\",\r\n            hours : \"hours\",\r\n            minutes : \"min\",\r\n            seconds : \"s\",\r\n\t\t\tserverLost : \"Reconnecting to server...\"\r\n        },\r\n        commands : {\r\n            globalPlaceholder : \"Type / to show all available commands\",\r\n            executeCommand : \"Press Enter to execute command\",\r\n            linkLabel : \"Show details\"\r\n        },\r\n\t\tuploader : {\r\n\t\t\tclear_all : \"Clear All\",\r\n\t\t\tremove : \"Remove\",\r\n\t\t\tadd : \"Pick Files\",\r\n\t\t\tabort : \"Abort Upload\",\r\n\t\t\tdownload : \"Download\",\r\n\t\t\tfileErrorTooBig : \"Error : This file is too large\",\r\n\t\t\tfileErrorUnknown : \"Unknown error : This file cannot be uploaded\",\r\n\t\t\tprogress : \"Progress\",\r\n\t\t\testimated : \"Time remaining\",\r\n\t\t\tunit_b : \"B\",\r\n\t\t\tunit_kb : \"KB\",\r\n\t\t\tunit_mb : \"MB\",\r\n\t\t\tunit_gb : \"GB\"\r\n\t\t},\r\n        handles : {\r\n            placeholder : \"Enter a handle : format is type/code\"\r\n        }\r\n    };","export default {\r\n        ajaxErrors: {\r\n            code401: 'Non autoris&eacute;, essayez de vous reconnecter',\r\n            code403: 'Vous n&quote;avez pas les droits suffisants pour effectuer cette action',\r\n            code404: 'API introuvable',\r\n            code405: 'API non autoris&eacute;e',\r\n            code500: 'Erreur serveur'\r\n        },\r\n        comments: {\r\n            title : \"Commentaires\",\r\n            inputLabel : \"Insérer un commentaire ici\",\r\n            actionlabel : \"Publier\",\r\n            cancel :\"Annuler\",\r\n            save : \"Sauver\"\r\n        },\r\n        chatbot: {\r\n            errorMessage: \"Une erreur est survenue lors de l'envoi du message\",\r\n            tryAgain: \"Essayez de nouveau\",\r\n            suggestedAnswers : \"Réponses suggérées\",\r\n            inputPlaceHolder : \"Ecrire un message\",\r\n            restartMessage : \"Redémarrage de la conversation\"\r\n        },\r\n        facets : {\r\n            showAll : \"Voir plus\",\r\n            showLess : \"Voir moins\"\r\n        },\r\n        notifications : {\r\n            days : \"jours\",\r\n            hours : \"heures\",\r\n            minutes : \"min\",\r\n            seconds : \"s\",\r\n\t\t\tserverLost : \"Reconnexion au serveur en cours...\",\r\n        },\r\n        commands : {\r\n            globalPlaceholder : \"Taper / pour afficher les commandes disponibles\",\r\n            executeCommand : \"Appuyer sur entrée pour executer la commande\",\r\n            linkLabel : \"Voir les détails\"\r\n        },\r\n\t\tuploader : {\r\n\t\t\tclear_all : \"Annuler tous\",\r\n\t\t\tremove : \"Supprimer\",\r\n\t\t\tadd : \"Ajouter un fichier\",\r\n\t\t\tabort : \"Annuler\",\r\n\t\t\tdownload : \"Télécharger\",\r\n\t\t\tfileErrorTooBig : \"Erreur : Le fichier est trop volumineux\",\r\n\t\t\tfileErrorUnknown : \"Erreur inconnue : Ce fichier ne peut pas être envoyé\",\r\n\t\t\tprogress : \"Progression\",\r\n\t\t\testimated : \"Temps restant\",\r\n\t\t\tunit_b : \"o\",\r\n\t\t\tunit_kb : \"Ko\",\r\n\t\t\tunit_mb : \"Mo\",\r\n\t\t\tunit_gb : \"Go\"\r\n\t\t},\r\n        handles : {\r\n            placeholder : \"Entrer un handle de la forme type/code\"\r\n        }\r\n    };"],"names":["_sfc_main","btn","sanitizedString","response","value","httpResponse","currentMessage","watingTime","lastMsg","cmd","milliseconds","resolve","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_openBlock","_createElementBlock","_createVNode","_component_q_scroll_area","_withCtx","_createElementVNode","_Fragment","_renderList","_ctx","msg","index","_createBlock","_component_q_chat_message","_component_q_rating","$event","_createCommentVNode","_toDisplayString","_component_q_btn","_cache","$options","_component_q_spinner_dots","_component_q_input","_withKeys","$props","val","update","abort","command","selection","commitCommand","keyEvent","paramValue","actualParams","param","newOptions","element","newParams","actualValue","isFirst","args","_createTextVNode","_component_q_select","event","_component_q_separator","Quasar","newComment","creationDate","diff","_component_q_badge","_component_q_drawer","_component_q_list","_component_q_item_label","_component_big","_component_q_item","_component_q_item_section","comment","_normalizeClass","_component_q_avatar","_component_q_icon","_component_q_popup_edit","availableExtensions","availableExtension","color","extension","_component_q_card","_normalizeStyle","_component_q_toggle","facetCode","facetValueCodeTranslator","facet","facetValueCode","facetValue","facetValueByCode","obj","facetValues","selected","removed","itemProps","opt","toggleOption","_mergeProps","_component_q_checkbox","_component_q_chip","selectedFacetValues","selectedFacet","selectedFacetValue","newVal","newInputValue","_renderSlot","handle","key","_component_q_field","newList","sortedList","a","b","newElements","lastOldElement","newIdx","notif","type","typeIcon","_component_q_menu","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","root","objectProto","objectToString","nativeMax","nativeMin","now","debounce","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","toNumber","isObject","invokeFunc","time","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","isObjectLike","isSymbol","other","isBinary","lodash_debounce","ol","found","vm","checkForMap","view","osmSource","osmLayer","mapControls","buildCustomControls","Debounce","topLeft","bottomRight","e","mapExtent","wgs84Extent","coordinate","evt","opt_options","_normalizeProps","_guardReactiveProps","size","newItemsCoordString","newClusterCoordString","i","geoField","arrayOfFeatures","object","geoObject","iconFeature","arrayOfClusterFeatures","maxZoom","maxZoomResolved","extentPadded","valueCoord","el","geohash","bounds","latMin","lonMin","latMax","lonMax","lat","lon","evenBit","chr","idx","n","bitN","lonMid","latMid","olMap","clusterSource","clusterLayer","styleIcon","styleCache","feature","agregateFeatures","fSize","style","coordinates","popup","pixel","hit","draw","coord","button","target","rse","list","subTreeKey","map","node","roots","_component_q_tree","ref","xhrParams","fileInfoUri","uiFileInfos","uiFileInfo","error","resolvedMaxFiles","file","files","vFile","doUploadfile","indexOfFile","removedFile","newFileInforUris","callbackIsFunction","promise","totalSize","bytes","decimals","u","controller","formData","newUri","_a","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_withModifiers","_withDirectives","props","uploadInfo","info","c","quasarFiles","quasarUploader","quasarFileSize","remoteFilesSize","_component_q_uploader","_createSlots","slotProps","_component_q_circular_progress","_hoisted_15","_component_q_spinner","_component_q_uploader_add_trigger","_component_q_tooltip","define","constructor","factory","prototype","extend","parent","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","channels","color_formatHex","color_formatHex8","color_formatHsl","color_formatRgb","hslConvert","format","m","l","rgbn","Rgb","rgba","hsla","r","g","rgbConvert","o","rgb","opacity","k","clampi","clampa","rgb_formatHex","rgb_formatHex8","rgb_formatRgb","hex","h","s","Hsl","min","max","hsl","m2","m1","hsl2rgb","clamph","clampt","constant","x","linear","d","t","exponential","y","hue","gamma","nogamma","interpolateRgb","rgbGamma","start","end","colorRgb","colorHsl","interpolateHsl","d3","getColors","colorName","nbSeries","mainColors","interpolation","_interpolateHsl","_interpolateCatmul","_interpolateLinear","resultColors","isCycle","d3Color","nbColors","_point2PointColors","c1","c2","c3","c4","empty","nc1","nc2","nc3","nc4","red","_catmull","green","blue","colorInterpolation","startJ","interpolatedColor","nbInterpolatedColor","nbInterpolatedColorDegree","j","inP0","p1","p2","inP3","delta","p0","p3","verticalLineTooltipPlugin","chart","_b","yAxis","ctx","verticalLinePlugin","pointIndex","pointX","chartInstance","vLine","scaleY","context","lineLeftOffset","easing","translatedData","newValue","oldValue","dataQuery","datas","dataMetrics","timedSeries","queryGroupBy","dataLabels","dataColors","chartTitle","additionalOptions","dimPeriod","truncatedMinTime","truncatedMaxTime","truncatedEndOfMinTime","xLabels","chartOptions","chartJsDataSets","chartJsType","realLabels","metric","bubblesData","pieData","finalOptions","graphChart","chartData","datasets","bgOpacity","myColors","myBgColors","maxRadius","xAxisType","yAxisType","data","base","graphs","graph","point","optionKey","axisType","minMax","stackedOptions","dataMeasures","groupBy","newSeries","serie","radiusField","field","dataValues","xAxisMeasure","_endsWith","string","suffix","lastTime","expectedNextTime","expected2NextTime","dataTime","maxTime","labels","label","dateTimeDim","item","sources","source","VAlertUnsavedUpdates","binding","vnode","watchKeys","uiMessageStack","hasError","watchKey","VAutofocus","doFocus","nextTick","VIfUnsavedUpdates","throttle","fn","limit","Vue","VMinify","elMaxi","topOffset","topOffsetElSelector","leftOffset","leftOffsetElSelector","scrollContainerSelector","elMini","elChild","scrollContainer","currentYScroll","currentXScroll","currentTopOffset","currentLeftOffset","elMiniHeight","elMaxiHeight","offset","offsetElSelector","defaultOffset","direction","currentOffset","offsetElement","offsetRect","scrollTargets","getScrollTarget","targetEl","getElement","getScrollHeight","getScrollWidth","getVerticalScrollPosition","scrollTarget","getHorizontalScrollPosition","animVerticalScrollTo","to","duration","prevTime","pos","setScroll","nowTime","frameTime","newPos","animHorizontalScrollTo","setHorizontalScroll","setVerticalScrollPosition","setHorizontalScrollPosition","getScrollbarWidth","inner","outer","css","w1","w2","hasScrollbar","onY","prop","scroll","VScrollSpy","elNav","name","position","top","scannerLine1","debugMode","startingOffset","fixedPos","fixeTrigger","scanner","elAs","scannerLines","startLinearLine","lastScrollLine","_x","_y","scrollPosition","scrollBreakpoints","blockTop","elScrollId","elScroll","toScroll","windowHeight","scrollHeight","scrollEnd","scrollStart","scrollDelta","scannerLine","sortDate","isDate","v","isNumber","VMethods","notifyMessages","notifyMessage","uiMessage","objectkey","fieldKey","subFieldKey","valueField","labelField","filterFunction","searchValue","rawList","searchNormalized","startWithA","startWithB","params","pagination","componentStates","vueData","oldPagination","sortedColumn","column","componentId","firstRowIndex","lastRowIndex","sortBy","descending","dir","A","B","collator","url","minQueryLength","terms","finalList","objectName","fieldName","rowIndex","option","date1","date2","rowA","rowB","modalId","finalUrl","paramsString","contextKey","pageIndexReset","multiple","selectedFacetsContextKey","criteriaContextKey","searchUrl","collectionComponentId","collectionPagination","showMoreCount","referer","newData","component","ifrm","compId","doc","newHeight","body","html","paramsIn","paramsInResolved","actionName","delay","fieldsErrors","keys","attribs","attribute","vueDataValue","propertyKey","vueDataFieldValue","editorRef","text","onPasteStripFormattingIEPaste","tags","regexp","doBlockName","undoBlockName","eVm","caret","inSelection","startNode","endNode","currentNode","VertigoUi","methods","boundMethods","methodName","vueApp","VChatbot","VCommands","VComments","VExtensionsStore","VFacets","VGeopointInput","VHandles","VJsonEditor","VNotifications","VMap","VMapLayer","VTree","VFileUpload","VFileUploadQuasar","VDashboardChart","instance","json"],"mappings":"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","x_google_ignoreList":[9,15,16,17,18,19,20,26,30,31]}