(function(F,Te){typeof exports=="object"&&typeof module<"u"?module.exports=Te():typeof define=="function"&&define.amd?define(Te):(F=typeof globalThis<"u"?globalThis:F||self,F.VertigoUi=Te())})(this,function(){"use strict";const F=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n},Te={props:{botUrl:{type:String,required:!0},devMode:{type:Boolean,default:!1},minTimeBetweenMessages:{type:Number,default:1e3},botAvatar:{type:String,required:!0},botName:{type:String,required:!0}},data:function(){return{convId:42,inputConfig:{modeTextarea:!1,responseText:"",responsePattern:"",showRating:!1,rating:0,buttons:[]},prevInputConfig:{},lastPayload:null,processing:!1,error:!1,messages:[],keepAction:!1,menu:!1,lastUserInteraction:0,watingMessagesStack:[]}},created:function(){this.askBot("/start"),this.convId=Math.random()},methods:{postAnswerBtn:function(e){this.messages.push({text:[e.title],sent:!0,bgColor:"primary",textColor:"white"}),this._scrollToBottom(),this.askBot(e.payload)},postAnswerText:function(){var e=this.inputConfig.responseText.trim().replace(/(?:\r\n|\r|\n)/g,"<br>");this.messages.push({text:e!==""?[e]:null,rating:this.inputConfig.rating>0?this.inputConfig.rating:null,sent:!0,bgColor:"primary",textColor:"white"}),this._scrollToBottom();var t=this.inputConfig.responsePattern===""?e.replace(/(")/g,'"'):this.inputConfig.responsePattern.replace("#",e.replace(/(")/g,'\\"'));this.askBot(t)},_scrollToBottom:function(){this.$refs.scroller&&this.$refs.scroller.setScrollPosition(this.$refs.scroller.scrollHeight,400)},askBot:function(e){this.prevInputConfig=JSON.parse(JSON.stringify(this.inputConfig)),this.reinitInput(),this.lastPayload=e,this.processing=!0,this.lastUserInteraction=Date.now(),this.$http.post(this.botUrl,{sender:this.convId,message:e}).then((function(t){t.data.forEach(function(n){this.watingMessagesStack.push(n)},this),this._displayMessages()}).bind(this)).catch((function(){this.error=!0,this.processing=!1,this._scrollToBottom()}).bind(this))},_displayMessages:function(){if(this.watingMessagesStack.length>0){var e=this.watingMessagesStack.shift(),t=this.lastUserInteraction-Date.now()+this.minTimeBetweenMessages;this.sleep(t).then((function(){this._processResponse(e),this.lastUserInteraction=Date.now(),this._displayMessages()}).bind(this))}else this.processing=!1,this.keepAction&&(this.inputConfig=this.prevInputConfig,this.inputConfig.responseText="",this.keepAction=!1),this.sleep(1).then((function(){this.$refs.input.focus()}).bind(this))},_processResponse:function(e){var t=this.messages[this.messages.length-1];t&&!t.sent?t.text.push(e.text):this.messages.push({avatar:this.botAvatar,text:[e.text],bgColor:"grey-4"}),e.buttons&&e.buttons.forEach(function(n){if(n.title.startsWith("#")){var i=n.title.substring(1);i==="textarea"&&(this.inputConfig.modeTextarea=!0),i==="eval"&&(this.inputConfig.showRating=!0),i==="keep_action"&&(this.keepAction=!0),n.payload&&(this.inputConfig.responsePattern=n.payload)}else this.inputConfig.buttons.push(n)},this),this._scrollToBottom()},restart:function(){this.messages.push({text:[this.$q.lang.vui.chatbot.restartMessage],bgColor:"orange"}),this._scrollToBottom(),this.$http.post(this.botUrl,'{"sender":"'+this.convId+'","message":"/restart"}').then((function(){this.askBot("/start")}).bind(this))},reinitInput:function(){this.inputConfig.modeTextarea=!1,this.inputConfig.responsePattern="",this.inputConfig.responseText="",this.inputConfig.showRating=!1,this.inputConfig.rating=0,this.inputConfig.buttons=[],this.error=!1},sleep:function(e){return new Promise(function(t){setTimeout(t,e)})}}},Xt=window.Vue.renderList,Kt=window.Vue.Fragment,B=window.Vue.openBlock,Xe=window.Vue.createElementBlock,Ce=window.Vue.resolveComponent,me=window.Vue.createVNode,xe=window.Vue.withCtx,se=window.Vue.createBlock,ge=window.Vue.createCommentVNode,Qt=window.Vue.toDisplayString,te=window.Vue.createElementVNode,jn=window.Vue.withKeys,zn={class:"bot"},Rn={class:"q-pr-md"},Hn={class:"sys-chat"},Gn={class:"q-pb-sm"},Jn={class:"sys-chat non-selectable"},Yn={class:"text-blue-2 q-caption"},Wn={class:"row docs-btn"},Xn={class:"message-processing sys-chat non-selectable"},Kn={class:"non-selectable"},Qn={class:"message-response row docs-btn q-pl-sm non-selectable"};function Zn(e,t,n,i,s,o){const a=Ce("q-rating"),r=Ce("q-chat-message"),l=Ce("q-btn"),d=Ce("q-spinner-dots"),u=Ce("q-scroll-area"),p=Ce("q-input");return B(),Xe("div",zn,[me(u,{class:"bg-grey-2 col-grow row q-pa-sm",ref:"scroller"},{default:xe(()=>[te("div",Rn,[(B(!0),Xe(Kt,null,Xt(e.messages,(h,g)=>(B(),Xe("div",{key:g},[h.rating?(B(),se(r,{class:"animate-fade",key:"msgRating-"+g,sent:h.sent,"bg-color":h.bgColor,avatar:h.avatar},{default:xe(()=>[me(a,{modelValue:h.rating,"onUpdate:modelValue":c=>h.rating=c,max:5,style:{"font-size":"2rem"},readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["sent","bg-color","avatar"])):ge("",!0),h.text?(B(),se(r,{class:"animate-fade",key:"msg-"+g,label:h.label,sent:h.sent,"text-color":h.textColor,"bg-color":h.bgColor,name:h.name,avatar:h.avatar,text:h.text,stamp:h.stamp},null,8,["label","sent","text-color","bg-color","name","avatar","text","stamp"])):ge("",!0)]))),128)),te("div",Hn,[e.error?(B(),se(r,{key:0,class:"animate-fade","bg-color":"orange-4","text-color":"black",size:"12"},{default:xe(()=>[te("div",Gn,Qt(e.$q.lang.vui.chatbot.errorMessage),1),me(l,{class:"full-width",onClick:t[0]||(t[0]=h=>o.askBot(e.lastPayload)),label:e.$q.lang.vui.chatbot.tryAgain,color:"white","text-color":"black"},null,8,["label"])]),_:1})):ge("",!0)]),te("div",Jn,[e.inputConfig.buttons.length>0?(B(),se(r,{key:0,class:"animate-fade","bg-color":"primary",size:"12"},{default:xe(()=>[te("div",Yn,Qt(e.$q.lang.vui.suggestedAnswers),1),te("div",Wn,[(B(!0),Xe(Kt,null,Xt(e.inputConfig.buttons,(h,g)=>(B(),se(l,{class:"full-width",key:"repChatBtn-"+g,onClick:c=>o.postAnswerBtn(h),label:h.title,color:"white","text-color":"black"},null,8,["onClick","label"]))),128))])]),_:1})):ge("",!0)]),te("div",Xn,[e.processing?(B(),se(r,{key:0,class:"animate-fade","bg-color":"grey-4"},{default:xe(()=>[me(d,{size:"2em"})]),_:1})):ge("",!0)]),te("div",Kn,[e.inputConfig.showRating?(B(),se(r,{key:0,class:"animate-fade","bg-color":"primary",sent:""},{default:xe(()=>[me(a,{modelValue:e.rating,"onUpdate:modelValue":t[1]||(t[1]=h=>e.rating=h),max:4,style:{"font-size":"2rem"}},null,8,["modelValue"])]),_:1})):ge("",!0)])])]),_:1},512),te("div",Qn,[me(p,{type:e.inputConfig.modeTextarea?"textarea":"text",ref:"input",onKeyup:t[2]||(t[2]=jn(h=>e.inputConfig.modeTextarea||e.inputConfig.responseText.trim()===""&&e.inputConfig.rating===0?!1:o.postAnswerText(),["enter"])),"max-height":100,class:"col-grow",modelValue:e.inputConfig.responseText,"onUpdate:modelValue":t[3]||(t[3]=h=>e.inputConfig.responseText=h),placeholder:e.$q.lang.vui.chatbot.inputPlaceholder,disable:e.processing||e.error,loading:e.processing},null,8,["type","modelValue","placeholder","disable","loading"]),me(l,{round:"",color:"primary",icon:"send",onClick:t[4]||(t[4]=h=>o.postAnswerText()),disable:e.processing||e.inputConfig.responseText.trim()===""&&e.inputConfig.rating===0},null,8,["disable"]),n.devMode===!0?(B(),se(l,{key:0,round:"",color:"red",icon:"refresh",onClick:o.restart},null,8,["onClick"])):ge("",!0)])])}const eo=F(Te,[["render",Zn]]),to={data:function(){return{text:"",commandParamsValues:[],commands:[],commandAutocompleteOptions:[],isCommandCommited:!1,selectedCommand:{},isExecuted:!1,commandResult:{},paramsAutocompleteOptions:[]}},props:{baseUrl:{type:String,default:"/"}},methods:{searchCommands:function(e,t,n){if(this.$data.text=e,this.$data.selectedCommand={},e.length<1){n();return}this.$http.post(this.baseUrl+"api/vertigo/commands/_search",{prefix:e}).then((function(i){this.$data.commands=i.data,t((function(){this.$data.commandAutocompleteOptions=this.$data.commands.map(function(s){return{label:s.commandName,sublabel:s.descpription,value:s.commandName,command:s}})}).bind(this)),this.$data.commands.length>0&&this.chooseCommand(this.$data.commands[0],!1)}).bind(this))},selectCommand:function(e){this.chooseCommand(e.command,!0)},chooseCommand:function(e,t){this.$data.selectedCommand=e,this.$data.selectedCommand.commandParams?this.$data.commandParamsValues=this.$data.selectedCommand.commandParams.map(function(){return{value:""}}):this.$data.commandParamsValues=[],this.$data.isCommandCommited=t},commitCommand:function(e){if(this.$data.selectedCommand&&this.$data.selectedCommand.commandName)switch(e.keyCode){case 9:case 13:this.$data.isCommandCommited=!0,e.preventDefault()}},executeCommand:function(){if(this.$data.commandParamsValues.every(function(t){return t})){var e=this.$data.commandParamsValues.map(function(t){return t.value});this.$http.post(this.baseUrl+"api/vertigo/commands/_execute",{command:this.$data.selectedCommand.commandName,params:e}).then((function(t){this.$data.isExecuted=!0,this.$data.commandResult=t.data}).bind(this))}else return!1},handleEnter:function(e){e===this.$data.selectedCommand.commandParams.length-1&&this.$data.commandParamsValues[e].value&&this.executeCommand()},autocompleteParam:function(e,t,n,i,s){if(n.length<1){s();return}this.$http.get(this.baseUrl+"api/vertigo/commands/params/_autocomplete",{params:{terms:n,entityClass:e.paramType.actualTypeArguments[0]}}).then((function(o){i((function(){var a=this.$data.paramsAutocompleteOptions.slice();a[t]=o.data.map(function(r){return{label:r.label,value:r.urn}}),this.$data.paramsAutocompleteOptions=a}).bind(this))}).bind(this))},selectParam:function(e,t){var n=this.$data.commandParamsValues.slice();n[t]=e,this.$data.commandParamsValues=n},getParamValue(e){var t=this.$data.commandParamsValues[e];if(t&&t.value)return t},backIfNeeded:function(e,t){t&&!this.$data.commandParamsValues[0].value&&this.back()},back:function(){this.$data.commandParamsValues=[],this.$data.commands=[],this.$data.isCommandCommited=!1,this.$data.selectedCommand={},this.$data.isExecuted=!1,this.$data.commandResult={},this.$data.paramsAutocompleteOptions=[],this.$nextTick(function(){this.$refs.commandInput.updateInputValue(this.$data.text)})},reset:function(){this.back(),this.$data.text=""}}},Oe=window.Vue.toDisplayString,I=window.Vue.openBlock,re=window.Vue.createElementBlock,Zt=window.Vue.createCommentVNode,Ke=window.Vue.resolveComponent,en=window.Vue.withCtx,Qe=window.Vue.createBlock,tn=window.Vue.createElementVNode,no=window.Vue.renderList,nn=window.Vue.Fragment,Se=window.Vue.withKeys,$t=window.Vue.createVNode,oo=window.Vue.createTextVNode,io={key:0,style:{"line-height":"40px",opacity:"0.5",position:"fixed"}},ao={class:"bg-grey-4 text-center vertical-middle text-bold q-px-md",style:{"line-height":"40px"}},so={key:0,class:"row col items-center q-py-xs"},ro={key:1,class:"col"},lo={key:1,class:"row col items-center"},co={class:"col shadow-2 bg-secondary text-white q-px-md",style:{"line-height":"40px"}};function uo(e,t,n,i,s,o){const a=Ke("q-select"),r=Ke("q-input"),l=Ke("q-separator"),d=Ke("q-btn");return I(),re("div",null,[e.isCommandCommited?(I(),re("div",{key:1,class:"row col-12 justify-between bg-white round-borders overflow-hidden shadow-2 text-black",onKeyup:t[0]||(t[0]=Se((...u)=>o.executeCommand&&o.executeCommand(...u),["enter"]))},[tn("div",ao,Oe(e.selectedCommand.commandName),1),e.isExecuted?(I(),re("div",lo,[tn("div",co,Oe(e.commandResult.display),1),e.commandResult.targetUrl?(I(),Qe(d,{key:0,type:"a",href:n.baseUrl+e.commandResult.targetUrl,flat:""},{default:en(()=>[oo(Oe(e.$q.lang.vui.commands.linkLabel),1)]),_:1},8,["href"])):Zt("",!0),$t(d,{onClick:o.reset,flat:"",icon:"cancel",size:"sm",round:""},null,8,["onClick"])])):(I(),re("div",so,[e.selectedCommand.commandParams&&e.selectedCommand.commandParams.length>0?(I(!0),re(nn,{key:0},no(e.selectedCommand.commandParams,(u,p)=>(I(),re(nn,{key:u},[u.paramType.rawType==="io.vertigo.commons.command.GenericUID"?(I(),Qe(a,{key:0,class:"col q-px-xs","use-chips":"","bg-color":"white",dense:"",borderless:"","use-input":"","input-debounce":"300",value:o.getParamValue(p),options:e.paramsAutocompleteOptions[p],autofocus:p===0,"dropdown-icon":"search",onKeydown:Se(function(h){o.backIfNeeded(h,p===0)},["delete"]),onKeyup:Se(function(h){o.backIfNeeded(h,p===0)},["esc"]),onFilter:h=>o.autocompleteParam(u,p,e.val,e.update,e.abort),"onUpdate:modelValue":h=>o.selectParam(e.newValue,p),style:{height:"32px"}},null,8,["value","options","autofocus","onKeydown","onKeyup","onFilter","onUpdate:modelValue"])):(I(),Qe(r,{key:1,class:"col q-px-xs",color:"secondary",borderless:"",modelValue:e.commandParamsValues[p].value,"onUpdate:modelValue":h=>e.commandParamsValues[p].value=h,onKeydown:Se(h=>o.backIfNeeded(e.event,p===0),["delete"]),onKeyup:[Se(h=>o.backIfNeeded(e.event,p===0),["esc"]),Se(h=>o.handleEnter(p),["enter"])],autofocus:p===0,dense:"",style:{height:"32px"}},null,8,["modelValue","onUpdate:modelValue","onKeydown","onKeyup","autofocus"])),$t(l,{vertical:""})],64))),128)):(I(),re("div",ro,Oe(e.$q.lang.vui.commands.executeCommand),1)),$t(d,{onClick:o.executeCommand,flat:"",icon:"play_arrow",size:"sm",round:""},null,8,["onClick"])]))],32)):(I(),Qe(a,{key:0,placeholder:e.$q.lang.vui.commands.globalPlaceholder,outlined:"","bg-color":"white",dense:"",ref:"commandInput",autofocus:"","dropdown-icon":"search",onBlur:o.reset,"use-input":"","input-debounce":"300","hide-selected":"",onKeydown:o.commitCommand,options:e.commandAutocompleteOptions,onFilter:o.searchCommands,"onUpdate:modelValue":o.selectCommand},{default:en(()=>[e.text!==""&&e.selectedCommand.commandName&&e.selectedCommand.commandName.startsWith(e.text)?(I(),re("span",io,Oe(e.selectedCommand.commandName),1)):Zt("",!0)]),_:1},8,["placeholder","onBlur","onKeydown","options","onFilter","onUpdate:modelValue"]))])}const fo=F(to,[["render",uo]]),_t=window.Quasar,ho={props:{concept:{type:String},id:{type:String},icon:{type:String,default:"comment"},iconNone:{type:String,default:"add_comment"},baseUrl:{type:String,default:"/api/",required:!0},connectedAccount:{type:String},color:{type:String,default:"primary"},textColor:{type:String,default:"white"},flat:{type:Boolean,default:!1}},data:function(){return{list:[],count:0,commentDrawer:!1,commentTextArea:""}},created:function(){this.fetchCommentsList()},methods:{fetchCommentsList:function(){this.$http.get(this.baseUrl+"x/comment/api/comments?concept="+this.concept+"&id="+this.id).then((function(e){this.list=e.data,this.count=this.list.length}).bind(this))},publishComment:function(){var e={msg:this.commentTextArea};e.msg&&(e.concept=this.concept,e.id=this.id,this.$http.post(this.baseUrl+"x/comment/api/comments?concept="+this.concept+"&id="+this.id,e).then((function(){this.commentTextArea="",this.fetchCommentsList()}).bind(this)))},updateComment:function(e){this.$http.put(this.baseUrl+"x/comment/api/comments/"+e.uuid,e).then((function(){this.commentTextArea="",this.fetchCommentsList()}).bind(this))},toDelay:function(e){let t=_t.date.getDateDiff(Date.now(),e,"days");return t>0?t+" days":(t=_t.date.getDateDiff(Date.now(),e,"hours"),t>0?t+" hours":(t=_t.date.getDateDiff(Date.now(),e,"minutes"),t>0?t+" min":"Now"))}}},Me=window.Vue.toDisplayString,Ze=window.Vue.createTextVNode,A=window.Vue.resolveComponent,O=window.Vue.withCtx,ke=window.Vue.openBlock,et=window.Vue.createBlock,Ct=window.Vue.createCommentVNode,T=window.Vue.createVNode,po=window.Vue.renderList,mo=window.Vue.Fragment,on=window.Vue.createElementBlock,an=window.Vue.createElementVNode,go=window.Vue.normalizeClass,wo=["src"];function bo(e,t,n,i,s,o){const a=A("q-badge"),r=A("q-btn"),l=A("big"),d=A("q-item-label"),u=A("q-input"),p=A("q-item-section"),h=A("q-item"),g=A("q-separator"),c=A("q-avatar"),f=A("q-icon"),m=A("q-popup-edit"),b=A("q-list"),_=A("q-drawer");return ke(),on("span",null,[T(r,{round:"",flat:n.flat,size:"lg",color:n.color,"text-color":n.textColor,icon:e.count>0?n.icon:n.iconNone,onClick:t[0]||(t[0]=y=>e.commentDrawer=!e.commentDrawer),class:"on-left",title:e.$q.lang.vui.comments.title},{default:O(()=>[e.count>0?(ke(),et(a,{key:0,floating:"",small:"",color:"red",style:{right:"-.4em",top:"-.4em"}},{default:O(()=>[Ze(Me(e.count),1)]),_:1})):Ct("",!0)]),_:1},8,["flat","color","text-color","icon","title"]),T(_,{overlay:"",behavior:"mobile",width:600,modelValue:e.commentDrawer,"onUpdate:modelValue":t[2]||(t[2]=y=>e.commentDrawer=y),side:"right",style:{top:"58px"}},{default:O(()=>[T(b,null,{default:O(()=>[T(d,{header:""},{default:O(()=>[T(l,null,{default:O(()=>[Ze(Me(e.$q.lang.vui.comments.title),1)]),_:1})]),_:1}),T(h,null,{default:O(()=>[T(p,null,{default:O(()=>[T(u,{class:"col",type:"textarea",autogrow:"",modelValue:e.commentTextArea,"onUpdate:modelValue":t[1]||(t[1]=y=>e.commentTextArea=y),label:e.$q.lang.vui.comments.inputLabel,"stack-label":""},null,8,["modelValue","label"])]),_:1}),T(p,{side:""},{default:O(()=>[T(r,{color:"primary",round:"",icon:"send",title:e.$q.lang.vui.comments.actionLabel,"aria-label":e.$q.lang.vui.comments.actionLabel,onClick:o.publishComment},null,8,["title","aria-label","onClick"])]),_:1})]),_:1}),T(g),(ke(!0),on(mo,null,po(e.list,y=>(ke(),et(h,{key:y.uuid,class:go(["items-start",{"cursor-pointer":y.author==n.connectedAccount}])},{default:O(()=>[T(p,{avatar:""},{default:O(()=>[T(c,null,{default:O(()=>[an("img",{src:n.baseUrl+"x/accounts/api/"+y.author+"/photo"},null,8,wo)]),_:2},1024)]),_:2},1024),T(p,null,{default:O(()=>[T(d,null,{default:O(()=>[Ze(Me(y.authorDisplayName),1)]),_:2},1024),an("div",null,Me(y.msg),1)]),_:2},1024),T(p,{side:""},{default:O(()=>[T(d,{stamp:""},{default:O(()=>[Ze(Me(o.toDelay(new Date(y.creationDate))),1)]),_:2},1024),y.author==n.connectedAccount?(ke(),et(f,{key:0,name:"edit"})):Ct("",!0)]),_:2},1024),y.author==n.connectedAccount?(ke(),et(m,{key:0,buttons:!0,onSave:D=>o.updateComment(y),"label-cancel":e.$q.lang.vui.comments.cancel,"label-set":e.$q.lang.vui.comments.save},{default:O(()=>[T(u,{type:"textarea",autogrow:"",modelValue:y.msg,"onUpdate:modelValue":D=>y.msg=D,dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["onSave","label-cancel","label-set"])):Ct("",!0)]),_:2},1032,["class"]))),128))]),_:1})]),_:1},8,["modelValue"])])}const yo=F(ho,[["render",bo]]),vo={props:{activeSkills:{type:Array,required:!0}},data:function(){return{extensions:[]}},created:function(){var e=[{name:"vertigo-audit",label:"Audit",description:"Trace every single aspect of your app through exhaustive logging capabilities.",color:"#F7578C",icon:"fas fa-clipboard-list",enabled:!1},{name:"vertigo-dashboard",label:"Dashboard",description:"Monitor you system to make sure your app meets the customer requirements.",color:"#742774",icon:"fas fa-chart-line",enabled:!1},{name:"vertigo-geo",label:"Geo",description:"Enhance your data by enabling geographic functions and tools.",icon:"fas fa-globe",color:"#0E2947",enabled:!1},{name:"vertigo-ledger",label:"Ledger",description:"Use a blockchain to enforce secure transactions in your app !",icon:"fas fa-link",color:"#00AC5C",enabled:!1},{name:"vertigo-orchestra",label:"Orchestra",description:"Manage jobs and monitor their status with this powerfull control tower.",color:"#FC636B",icon:"fas fa-tasks",enabled:!1},{name:"vertigo-quarto",label:"Quarto",description:"Generate slick documents and reports using the Quarto template engine.",color:"#0747A6",icon:"fas fa-file-invoice",enabled:!1},{name:"vertigo-social",label:"Social",description:"Ensure real time communication and collaboration between your app users.",color:"#FF3366",icon:"far fa-comments",enabled:!1},{name:"vertigo-stella",label:"Stella",description:"Enable multi-node task dispatching for your app and assign specific tasks to each node.",color:"#0066FF",icon:"fas fa-network-wired",enabled:!1}];e.forEach((function(t){t.enabled=this.$props.activeSkills.indexOf(t.name)>-1}).bind(this)),this.extensions=e},methods:{getIconStyle:function(e){return"border: 3px solid "+e+"; background-color: "+e+"; color: white; padding: 5px; width: 70px; height: 70px;"}}},$o=window.Vue.renderList,_o=window.Vue.Fragment,xt=window.Vue.openBlock,St=window.Vue.createElementBlock,Le=window.Vue.resolveComponent,Co=window.Vue.normalizeStyle,Ve=window.Vue.createVNode,tt=window.Vue.withCtx,sn=window.Vue.toDisplayString,Pe=window.Vue.createElementVNode,xo={class:"row q-col-gutter-md"},So={class:"row col items-center"},ko={class:"q-subheading text-bold"},Vo={class:"row col q-body-2 text-justify"};function qo(e,t,n,i,s,o){const a=Le("q-icon"),r=Le("q-item-section"),l=Le("q-toggle"),d=Le("q-item"),u=Le("q-card");return xt(),St("div",xo,[(xt(!0),St(_o,null,$o(e.extensions,p=>(xt(),St("div",{class:"col-xs-12 col-lg-6 col-xl-4",key:p.name},[Ve(u,null,{default:tt(()=>[Ve(d,{class:"bg-white",style:{height:"100px"}},{default:tt(()=>[Ve(r,{avatar:""},{default:tt(()=>[Ve(a,{name:p.icon,size:"40px",style:Co(o.getIconStyle(p.color))},null,8,["name","style"])]),_:2},1024),Ve(r,null,{default:tt(()=>[Pe("div",So,[Pe("div",ko,sn(p.label),1),t[0]||(t[0]=Pe("div",{class:"col"},null,-1)),Pe("div",null,[Ve(l,{disable:"",readonly:"",color:"positive",modelValue:p.enabled,"onUpdate:modelValue":h=>p.enabled=h},null,8,["modelValue","onUpdate:modelValue"])])]),Pe("div",Vo,sn(p.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))])}const Do=F(vo,[["render",qo]]),Fo={props:{facets:Array,selectedFacets:Object,contextKey:String,facetValueTranslatorProvider:Function,layout:{type:String,default:"vertical"},render:{type:String,default:"list"},facetFilter:{type:Function,default:()=>!0},maxValues:{type:Number,default:5}},emits:["toogle-facet"],computed:{},data:function(){return{expandedFacets:[],codeToLabelTranslater:{}}},created:function(){this.facetValueTranslatorProvider!==void 0&&this.facetValueTranslatorProvider(this)},methods:{addFacetValueTranslator(e,t){this.codeToLabelTranslater[e]=t},facetByCode(e){return this.facets.filter(function(t){return t.code===e})[0]},facetValueByCode(e,t){return this.facetByCode(e).values.filter(function(n){return n.code===t})[0]},facetLabelByCode(e){return this.facetByCode(e).label},facetMultipleByCode(e){return this.facetByCode(e).multiple},facetValueLabelByCode(e,t){if(this.codeToLabelTranslater[e])return this.codeToLabelTranslater[e](e,t);var n=this.facetValueByCode(e,t);return n?n.label:t},isFacetValueSelected(e,t){return this.selectedFacets[e].includes(t)},isFacetSelected(e){return this.selectedFacets[e]?this.selectedFacets[e].length>0:!1},isAnyFacetValueSelected(){return Object.keys(this.selectedFacets).some((function(e){return!this.facetMultipleByCode(e)}).bind(this))},expandFacet(e){this.isFacetExpanded(e)||this.$data.expandedFacets.push(e)},reduceFacet(e){this.isFacetExpanded(e)&&this.$data.expandedFacets.splice(this.$data.expandedFacets.indexOf(e),1)},isFacetExpanded(e){return this.$data.expandedFacets.includes(e)},selectedInvisibleFacets(e){return this.selectedFacets[e].filter(t=>!this.facetValueByCode(e,t)).map(t=>{var n={};return n.code=t,n.label=t,n.count=0,n})},visibleFacets(e,t){return this.isFacetExpanded(e)?t:t.slice(0,this.maxValues)}}},qe=window.Vue.renderList,we=window.Vue.Fragment,S=window.Vue.openBlock,j=window.Vue.createElementBlock,le=window.Vue.resolveComponent,V=window.Vue.createVNode,x=window.Vue.withCtx,rn=window.Vue.mergeProps,X=window.Vue.createBlock,be=window.Vue.createCommentVNode,Eo=window.Vue.normalizeClass,ne=window.Vue.toDisplayString,de=window.Vue.createTextVNode,To={key:1,class:"facets"},Oo={key:0,class:"selectedFacets q-pb-md"};function Mo(e,t,n,i,s,o){const a=le("q-checkbox"),r=le("q-item-section"),l=le("q-item-label"),d=le("q-chip"),u=le("q-item"),p=le("q-select"),h=le("q-btn"),g=le("q-list");return n.render==="selects"?(S(),j("div",{key:0,class:Eo(["row col q-gutter-md",{"horizontal-facets":n.layout==="horizontal"}])},[(S(!0),j(we,null,qe(n.facets.filter(n.facetFilter),c=>(S(),j("div",{key:c.code,class:"facet-select"},[c.multiple?(S(),X(p,{key:0,label:c.label,"model-value":n.selectedFacets[c.code],multiple:"",onAdd:f=>e.$emit("toogle-facet",c.code,f.value.code,n.contextKey),onRemove:f=>e.$emit("toogle-facet",c.code,f.value,n.contextKey),options:o.selectedInvisibleFacets(c.code).concat(c.values),"option-value":"code","use-chips":"",outlined:"","input-class":"no-wrap"},{option:x(({itemProps:f,opt:m,selected:b,toggleOption:_})=>[V(u,rn({ref_for:!0},f,{class:"facet-selection-option",dense:""}),{default:x(()=>[V(r,{avatar:""},{default:x(()=>[V(a,{"model-value":b,"onUpdate:modelValue":y=>_(m),size:"sm"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),V(r,null,{default:x(()=>[V(l,{innerHTML:m.label},null,8,["innerHTML"])]),_:2},1024),V(r,{side:""},{default:x(()=>[V(d,{label:m.count,size:"sm"},null,8,["label"])]),_:2},1024)]),_:2},1040)]),_:2},1032,["label","model-value","onAdd","onRemove","options"])):(S(),X(p,{key:1,label:c.label,"model-value":n.selectedFacets[c.code].length>0?n.selectedFacets[c.code][0]:null,"onUpdate:modelValue":f=>e.$emit("toogle-facet",c.code,f||n.selectedFacets[c.code][0],n.contextKey),options:o.selectedInvisibleFacets(c.code).concat(c.values),"option-value":"code",clearable:"","emit-value":"","map-options":"",outlined:"","input-class":"no-wrap"},{option:x(({itemProps:f,opt:m,selected:b,toggleOption:_})=>[V(u,rn({ref_for:!0},f,{class:"facet-selection-option",dense:""}),{default:x(()=>[V(r,null,{default:x(()=>[V(l,{innerHTML:m.label},null,8,["innerHTML"])]),_:2},1024),V(r,{side:""},{default:x(()=>[V(d,{label:m.count,size:"sm"},null,8,["label"])]),_:2},1024)]),_:2},1040)]),_:2},1032,["label","model-value","onUpdate:modelValue","options"]))]))),128))],2)):(S(),j("div",To,[o.isAnyFacetValueSelected()?(S(),j("div",Oo,[(S(!0),j(we,null,qe(n.selectedFacets,(c,f)=>(S(),j("div",{key:f},[o.facetMultipleByCode(f)?be("",!0):(S(!0),j(we,{key:0},qe(c,m=>(S(),X(d,{clickable:"",class:"q-mb-sm",key:m.code,onClick:b=>e.$emit("toogle-facet",f,m,n.contextKey),"icon-right":"cancel"},{default:x(()=>[de(ne(o.facetLabelByCode(f))+": "+ne(o.facetValueLabelByCode(f,m)),1)]),_:2},1032,["onClick"]))),128))]))),128))])):be("",!0),(S(!0),j(we,null,qe(n.facets.filter(n.facetFilter),c=>(S(),X(g,{key:c.code,class:"facetValues q-py-none",dense:""},{default:x(()=>[c.multiple||!o.isFacetSelected(c.code)?(S(),j(we,{key:0},[V(l,{header:""},{default:x(()=>[de(ne(c.label),1)]),_:2},1024),(S(!0),j(we,null,qe(o.selectedInvisibleFacets(c.code),f=>(S(),X(u,{key:f.code,class:"facetValue q-ml-md",clickable:"",onClick:m=>e.$emit("toogle-facet",c.code,f.code,n.contextKey)},{default:x(()=>[c.multiple?(S(),X(r,{key:0,side:""},{default:x(()=>[V(a,{dense:"",modelValue:!0,"onUpdate:modelValue":m=>e.$emit("toogle-facet",c.code,f.code,n.contextKey)},null,8,["onUpdate:modelValue"])]),_:2},1024)):be("",!0),V(r,null,{default:x(()=>[de(ne(o.facetValueLabelByCode(c.code,f.code)),1)]),_:2},1024),V(r,{side:""},{default:x(()=>[de(ne(f.count),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),(S(!0),j(we,null,qe(o.visibleFacets(c.code,c.values),f=>(S(),X(u,{key:f.code,class:"facetValue q-ml-md",clickable:"",onClick:m=>e.$emit("toogle-facet",c.code,f.code,n.contextKey)},{default:x(()=>[c.multiple?(S(),X(r,{key:0,side:""},{default:x(()=>[V(a,{dense:"",modelValue:o.isFacetValueSelected(c.code,f.code),"onUpdate:modelValue":m=>e.$emit("toogle-facet",c.code,f.code,n.contextKey)},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):be("",!0),V(r,null,{default:x(()=>[de(ne(o.facetValueLabelByCode(c.code,f.code)),1)]),_:2},1024),V(r,{side:""},{default:x(()=>[de(ne(f.count),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),V(u,null,{default:x(()=>[c.values.length>n.maxValues&&!o.isFacetExpanded(c.code)?(S(),X(h,{key:0,flat:"",onClick:f=>o.expandFacet(c.code),class:"q-ma-none"},{default:x(()=>[de(ne(e.$q.lang.vui.facets.showAll),1)]),_:2},1032,["onClick"])):be("",!0),c.values.length>n.maxValues&&o.isFacetExpanded(c.code)?(S(),X(h,{key:1,flat:"",onClick:f=>o.reduceFacet(c.code),class:"q-ma-none"},{default:x(()=>[de(ne(e.$q.lang.vui.facets.showLess),1)]),_:2},1032,["onClick"])):be("",!0)]),_:2},1024)],64)):be("",!0)]),_:2},1024))),128))]))}const Lo=F(Fo,[["render",Mo]]),Po={props:{modelValue:{type:Object}},emits:["update:modelValue"],data:function(){return{inputObject:this.$props.modelValue?this.$props.modelValue:{}}},watch:{modelValue:function(e){this.$data.inputObject=e||{},this.updateJson()}},beforeMount(){this.updateJson()},methods:{updateJson(){var e;this.$props.modelValue&&(e=JSON.stringify({lon:this.$data.inputObject.lon,lat:this.$data.inputObject.lat}),this.$props.modelValue._v_inputValue=e),this.$emit("update:modelValue",this.$data.inputObject)}}},No=window.Vue.renderSlot,ln=window.Vue.vModelText,kt=window.Vue.createElementVNode,dn=window.Vue.withDirectives,cn=window.Vue.createTextVNode,Ao={class:"inputs"};function Uo(e,t,n,i,s,o){return No(e.$slots,"default",{updateJson:o.updateJson},()=>[kt("div",Ao,[t[4]||(t[4]=cn(" Longitude ")),dn(kt("input",{"onUpdate:modelValue":[t[0]||(t[0]=a=>e.inputObject.lon=a),t[1]||(t[1]=(...a)=>o.updateJson&&o.updateJson(...a))]},null,512),[[ln,e.inputObject.lon,void 0,{number:!0}]]),t[5]||(t[5]=cn(" Latitude ")),dn(kt("input",{"onUpdate:modelValue":[t[2]||(t[2]=a=>e.inputObject.lat=a),t[3]||(t[3]=(...a)=>o.updateJson&&o.updateJson(...a))]},null,512),[[ln,e.inputObject.lat,void 0,{number:!0}]])])])}const Bo=F(Po,[["render",Uo]]),Io={props:{baseUrl:{type:String,default:"/"}},data:function(){return{text:"",handles:[]}},methods:{searchHandles:function(e){e&&this.$http.post(this.baseUrl+"api/vertigo/handle/_search",{prefix:e}).then((function(t){this.$data.handles=t.data}).bind(this))}}},Ne=window.Vue.resolveComponent,nt=window.Vue.createVNode,ot=window.Vue.withCtx,jo=window.Vue.renderList,zo=window.Vue.Fragment,Vt=window.Vue.openBlock,un=window.Vue.createElementBlock,Ro=window.Vue.toDisplayString,Ho=window.Vue.createTextVNode,Go=window.Vue.resolveDirective,Jo=window.Vue.createBlock,Yo=window.Vue.withDirectives;function Wo(e,t,n,i,s,o){const a=Ne("q-icon"),r=Ne("q-input"),l=Ne("q-item-section"),d=Ne("q-item"),u=Ne("q-list"),p=Go("ripple");return Vt(),un("div",null,[nt(r,{placeholder:e.$q.lang.vui.handles.placeholder,modelValue:e.text,"onUpdate:modelValue":t[0]||(t[0]=h=>e.text=h),debounce:300,onInput:o.searchHandles,autofocus:"",outlined:"","bg-color":"white",dense:""},{prepend:ot(()=>[nt(a,{name:"search"})]),_:1},8,["placeholder","modelValue","onInput"]),nt(u,{bordered:"",dense:"",separator:""},{default:ot(()=>[(Vt(!0),un(zo,null,jo(e.handles,h=>Yo((Vt(),Jo(d,{clickable:"",onClick:g=>e.VUi.methods.goTo(n.baseUrl+"hw/"+h.code),key:h.code},{default:ot(()=>[nt(l,null,{default:ot(()=>[Ho(Ro(h.code),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[p]])),128))]),_:1})])}const Xo=F(Io,[["render",Wo]]),Ko={props:{modelValue:{type:String,required:!0},readonly:{type:Boolean,required:!0},cols:{type:Number,default:2}},emits:["update:modelValue"],data:function(){return{jsonAsObject:JSON.parse(this.$props.modelValue)}},watch:{modelValue:function(e){this.$data.jsonAsObject=JSON.parse(e)}},methods:{updateJson(){this.$emit("update:modelValue",JSON.stringify(this.$data.jsonAsObject))}}},Qo=window.Vue.renderList,Zo=window.Vue.Fragment,Ae=window.Vue.openBlock,qt=window.Vue.createElementBlock,fn=window.Vue.resolveComponent,hn=window.Vue.createBlock;window.Vue.createCommentVNode;const ei=window.Vue.toDisplayString,ti=window.Vue.createElementVNode,ni=window.Vue.withCtx,oi=window.Vue.normalizeClass,ii={class:"row"};function ai(e,t,n,i,s,o){const a=fn("q-input"),r=fn("q-field");return Ae(),qt("div",ii,[(Ae(!0),qt(Zo,null,Qo(e.jsonAsObject,(l,d)=>(Ae(),qt("div",{key:d,class:oi("col-"+12/n.cols)},[n.readonly?(Ae(),hn(r,{key:1,label:d,orientation:"vertical","stack-label":"",borderless:"",readonly:""},{default:ni(()=>[ti("span",null,ei(l),1)]),_:2},1032,["label"])):(Ae(),hn(a,{key:0,label:d,orientation:"vertical","stack-label":"",modelValue:e.jsonAsObject[d],"onUpdate:modelValue":[u=>e.jsonAsObject[d]=u,o.updateJson]},null,8,["label","modelValue","onUpdate:modelValue"]))],2))),128))])}const si=F(Ko,[["render",ai]]),Ue=window.Quasar,ri={props:{icon:{type:String,default:"notifications"},iconNone:{type:String,default:"notifications_none"},iconError:{type:String,default:"warning"},color:{type:String,default:"secondary"},colorNew:{type:String,default:"accent"},textColor:{type:String,default:"secondary-inverted"},textColorNew:{type:String,default:"accent-inverted"},typeIconMap:{type:Object,default:function(){return{}}},baseUrl:{type:String,default:"/api/",required:!0},targetUrlPrefix:{type:String,default:"/",required:!0}},data:function(){return{firstCall:!0,list:[],hasNew:!1,wasError:!1,count:0,timer:""}},created:function(){this.fetchNotificationsList(),this.timer=setInterval(this.fetchNotificationsList,5e3)},methods:{fetchNotificationsList:function(){this.$http.get(this.baseUrl+"x/notifications/api/messages",{timeout:5*1e3,vNoDefaultErrorHandler:!0}).then((function(e){this.updateNotificationsData(e.data),this.wasError&&(clearInterval(this.timer),this.timer=setInterval(this.fetchNotificationsList,5e3)),this.wasError=!1}).bind(this)).catch((function(){this.wasError||(clearInterval(this.timer),this.timer=setInterval(this.fetchNotificationsList,6e4)),this.wasError=!0}).bind(this))},updateNotificationsData:function(e){const t=e.sort(function(o,a){return a.creationDate-o.creationDate});var n=[],i=this.list[0];if(!i)n=t;else for(var s=0;s<t.length;s++)if(t[s].uuid!=i.uuid){if(t[s].creationDate<i.creationDate)break;n.push(t[s])}this.list=t,this.count=t.length,this.firstCall?this.hasNew=n.length>0&&Ue.date.getDateDiff(Date.now(),n[0].creationDate,"seconds")<2*5:(this.hasNew=n.length>0,n.forEach((function(o){this.$q.notify({type:"info",icon:this.toIcon(o.type),message:o.title,detail:o.content,timeout:3e3,position:"bottom-right"})}).bind(this))),this.firstCall=!1},cancelAutoUpdate:function(){clearInterval(this.timer)},toIcon:function(e){var t=this.typeIconMap[e];return t||"mail"},toDelay:function(e){let t=Ue.date.getDateDiff(Date.now(),e,"days");return t>0?t+" "+this.$q.lang.vui.notifications.days:(t=Ue.date.getDateDiff(Date.now(),e,"hours"),t>0?t+" "+this.$q.lang.vui.notifications.hours:(t=Ue.date.getDateDiff(Date.now(),e,"minutes"),t>0?t+" "+this.$q.lang.vui.notifications.minutes:(t=Ue.date.getDateDiff(Date.now(),e,"seconds"),t+" "+this.$q.lang.vui.notifications.seconds)))}},beforeDestroy:function(){clearInterval(this.timer)}},it=window.Vue.toDisplayString,at=window.Vue.createTextVNode,ce=window.Vue.resolveComponent,G=window.Vue.withCtx,st=window.Vue.openBlock,Dt=window.Vue.createBlock,li=window.Vue.createCommentVNode,di=window.Vue.renderList,ci=window.Vue.Fragment,ui=window.Vue.createElementBlock,oe=window.Vue.createVNode;function fi(e,t,n,i,s,o){const a=ce("q-badge"),r=ce("q-icon"),l=ce("q-item-section"),d=ce("q-item-label"),u=ce("q-item"),p=ce("q-list"),h=ce("q-menu"),g=ce("q-btn");return st(),Dt(g,{round:"",flat:!e.hasNew,dense:"",color:e.hasNew?n.colorNew:n.color,"text-color":e.hasNew?n.textColorNew:n.textColor,icon:e.wasError?n.iconError:e.count>0?n.icon:n.iconNone,title:e.wasError?e.$q.lang.vui.notifications.serverLost:""},{default:G(()=>[e.count>0?(st(),Dt(a,{key:0,color:"red","text-color":"white",floating:""},{default:G(()=>[at(it(e.count),1)]),_:1})):li("",!0),oe(h,{class:"notifications"},{default:G(()=>[oe(p,{style:{width:"300px"}},{default:G(()=>[(st(!0),ui(ci,null,di(e.list,c=>(st(),Dt(u,{key:c.uuid,tag:"a",href:n.targetUrlPrefix+c.targetUrl},{default:G(()=>[oe(l,{avatar:""},{default:G(()=>[oe(r,{name:o.toIcon(c.type),size:"2rem"},null,8,["name"])]),_:2},1024),oe(l,null,{default:G(()=>[oe(d,null,{default:G(()=>[at(it(c.title),1)]),_:2},1024),oe(d,{caption:"",lines:"3"},{default:G(()=>[at(it(c.content),1)]),_:2},1024)]),_:2},1024),oe(l,{side:"",top:""},{default:G(()=>[oe(d,{caption:""},{default:G(()=>[at(it(o.toDelay(new Date(c.creationDate))),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"]))),128))]),_:1})]),_:1})]),_:1},8,["flat","color","text-color","icon","title"])}const hi=F(ri,[["render",fi]]),P=window.ol,pi={props:{id:{type:String,required:!0},initialZoomLevel:{type:Number},initialCenter:{type:Object},search:{type:Boolean},overview:{type:Boolean}},emits:["moveend","click"],methods:{onMapLoad:function(e){let t=this;function n(){t.olMap?(e(t.olMap),t.postInit()):setTimeout(n,50)}n()},postInit(){this.$props.initialZoomLevel&&this.olMap.getView().setZoom(this.$props.initialZoomLevel),this.olMap.vInitialZoomOverride&&this.olMap.getView().setZoom(this.olMap.vInitialZoomOverride)}},mounted:function(){let e=new P.View;const t=new P.source.OSM;let n=new P.layer.Tile({preload:4,source:t});const i=[mi()];this.$props.overview&&i.push(new P.control.OverviewMap({layers:[new P.layer.Tile({source:t})]})),this.$props.search&&typeof Geocoder=="function"&&i.push(new Geocoder("nominatim",{provider:"osm",lang:"fr",placeholder:"Search for ...",limit:5,debug:!1,autoComplete:!0,keepOpen:!0,preventMarker:!0,defaultFlyResolution:19})),this.olMap=new P.Map({interactions:P.interaction.defaults.defaults({onFocusOnly:!0}),target:this.$props.id,layers:[n],loadTilesWhileAnimating:!0,view:e,controls:P.control.defaults.defaults().extend(i)}),this.$props.initialCenter&&this.olMap.getView().setCenter(P.proj.fromLonLat([this.$props.initialCenter.lon,this.$props.initialCenter.lat])),this.olMap.on("moveend",(function(s){let o=s.map.getView().calculateExtent(),a=P.proj.transformExtent(o,"EPSG:3857","EPSG:4326"),r=P.extent.getTopLeft(a),l=P.extent.getBottomRight(a);VUiPage.debounce(()=>this.$emit("moveend",r,l),300)}).bind(this)),setTimeout((function(){this.olMap.on("click",(function(s){s.originalEvent.target instanceof HTMLCanvasElement&&(s.stopPropagation(),VUiPage.debounce(()=>this.$emit("click",P.proj.transform(s.coordinate,"EPSG:3857","EPSG:4326")),300))}).bind(this))}).bind(this),300)}};function mi(){return new class extends P.control.Control{constructor(t){const n=t||{},i=document.createElement("div");i.className="ol-v-custom-buttons ol-unselectable ol-control",super({element:i,target:n.target})}}}const gi=window.Vue.normalizeProps,wi=window.Vue.guardReactiveProps,bi=window.Vue.renderSlot,yi=window.Vue.openBlock,vi=window.Vue.createElementBlock,$i=["id"];function _i(e,t,n,i,s,o){return yi(),vi("div",{id:n.id,class:"map"},[bi(e.$slots,"default",gi(wi(e.$attrs)))],8,$i)}const Ci=F(pi,[["render",_i]]),v=window.ol,xi={props:{id:{type:String,required:!0},list:{type:Array},cluster:{type:Array},object:{type:Object},objectEditable:{type:Boolean},fitOnDataUpdate:{type:Boolean},baseUrl:{type:String},field:{type:String,required:!0},nameField:{type:String},markerColor:{type:String,default:"#000000"},markerUseFont:{type:Boolean,default:!1},markerImage:{type:String},markerImageDynamic:{type:Function,default:e=>"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='"+e+"' height='"+e+"'><path style='fill:white' d='M18.364 3.636a9 9 0 0 1 0 12.728L12 22.728l-6.364-6.364A9 9 0 0 1 18.364 3.636ZM12 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z'/></svg>"},markerFont:{type:String,default:"Material Icons"},markerIcon:{type:String,default:"place"},markerSize:{type:Number,default:30},clusterCircleSize:{type:Number,default:20},clusterColor:{type:String,default:"#fff"},clusterCircleBorderColor:{type:String,default:"#000000"},clusterTextColor:{type:String,default:"#000000"},clusterTextSize:{type:Number,default:12},clusterTextFont:{type:String,default:"sans-serif"}},emits:["moveend","click"],data:function(){return{popupDisplayed:!1,objectDisplayed:{},items:[],_itemsCoordString:null,clusters:[],_clusterCoordString:null,olMap:{},vectorSource:{},base32:"0123456789bcdefghjkmnpqrstuvwxyz"}},watch:{list:{handler(e){if(e){let t=this.computeCoordString(e);this._itemsCoordString&&t!==this._itemsCoordString&&(this.$data.items=e,this.updateMap()),this._itemsCoordString=t}},deep:!0,immediate:!0},cluster:{handler(e){if(e){let t=this.computeCoordString(e);if(this._clusterCoordString){this.$data.items=[],this.$data.clusters=[];for(let n=0;n<e.length;n++)e[n].totalCount==1?this.$data.items=this.$data.items.concat(e[n].list):this.$data.clusters.push({geoHash:e[n].code,geoLocation:this.decode(e[n].code),totalCount:e[n].totalCount});this.updateMap()}this._clusterCoordString=t}},deep:!0,immediate:!0},object:{handler(e){if(e){let t=this.computeCoordString(e);this._itemsCoordString&&t!==this._itemsCoordString&&this.updateMap(),this._itemsCoordString=t}},deep:!0,immediate:!0}},computed:{features:function(){let e=this.$props.field,t=this.$data.items.filter(function(i){return i[e]!=null}).map((function(i){let s;if(typeof i[e]=="string"||i[e]instanceof String?s=JSON.parse(i[e]):s=i[e],s!=null&&s.lon!=null&&s.lat!=null){let o=new v.Feature({geometry:new v.geom.Point(v.proj.fromLonLat([s.lon,s.lat]))});return this.$props.nameField&&(o.set("name",i[this.$props.nameField]),o.set("innerObject",i),o.set("totalCount",i.totalCount)),o}return null}).bind(this)).filter(i=>i!=null),n=this.$data.clusters.filter(function(i){return i.geoLocation!=null}).map((function(i){let s;if(typeof i.geoLocation=="string"||i.geoLocation instanceof String?s=JSON.parse(i.geoLocation):s=i.geoLocation,s!=null){let o=new v.Feature({geometry:new v.geom.Point(v.proj.fromLonLat([s.lon,s.lat]))});return this.$props.nameField&&(o.set("name",i[this.$props.nameField]),o.set("innerObject",i),o.set("totalCount",i.totalCount)),o}return null}).bind(this));return t.concat(n)}},methods:{fitView:function(){if(this.features.length>0){let e=19,t=this.features.length==1?Math.min(this.olMap.getView().getZoom()||e,e):e,n=v.geom.Polygon.fromExtent(this.$data.vectorSource.getExtent());n.scale(1.2),this.olMap.getView().fit(n,{size:this.olMap.getSize(),maxZoom:t,duration:750})}},fetchList:function(e,t){this.$http.get(this.baseUrl+'_geoSearch?topLeft="'+e.lat+","+e.lon+'"&bottomRight="'+t.lat+","+t.lon+'"',{timeout:5*1e3}).then((function(n){this.$data.items=n.data,this.$data.vectorSource.clear(),this.$data.vectorSource.addFeatures(this.features)}).bind(this))},computeCoordString:function(e){let t;return Array.isArray(e)?this.$props.cluster?t=e.map(n=>this.decode(n.code)):t=e.map(n=>n[this.$props.field]):t=e[this.$props.field],JSON.stringify(t)},updateMap:function(){Object.keys(this.$data.vectorSource).length==0&&(this.$data.vectorSource=new v.source.Vector({})),this.$data.vectorSource.clear(),this.$data.vectorSource.addFeatures(this.features),this.$props.fitOnDataUpdate&&this.fitView()},decode:function(e){const t=this.bounds(e),n=t.sw.lat,i=t.sw.lon,s=t.ne.lat,o=t.ne.lon;let a=(n+s)/2,r=(i+o)/2;return a=a.toFixed(Math.floor(2-Math.log(s-n)/Math.LN10)),r=r.toFixed(Math.floor(2-Math.log(o-i)/Math.LN10)),{lat:Number(a),lon:Number(r)}},bounds:function(e){if(e.length==0)throw new Error("Invalid geohash");e=e.toLowerCase();let t=!0,n=-90,i=90,s=-180,o=180;for(let r=0;r<e.length;r++){const l=e.charAt(r),d=this.$data.base32.indexOf(l);if(d==-1)throw new Error("Invalid geohash");for(let u=4;u>=0;u--){const p=d>>u&1;if(t){const h=(s+o)/2;p==1?s=h:o=h}else{const h=(n+i)/2;p==1?n=h:i=h}t=!t}}return{sw:{lat:n,lon:s},ne:{lat:i,lon:o}}}},mounted:function(){this.$parent.onMapLoad((function(e){if(this.$data.olMap=e,this.$data.items=[],this.$data.clusters=[],this.$props.list)this.$data.items=this.$props.list;else if(this.$props.cluster)for(let o=0;o<this.$props.cluster.length;o++)this.$props.cluster[o].totalCount==1?this.$data.items=this.$data.items.concat(this.$props.cluster[o].list):this.$data.clusters.push({geoHash:this.$props.cluster[o].code,geoLocation:this.decode(this.$props.cluster[o].code),totalCount:this.$props.cluster[o].totalCount});else this.$props.object&&(this.$data.items=[this.$props.object]);this.$data.vectorSource=new v.source.Vector({features:this.features});let t=new v.source.Cluster({source:this.$data.vectorSource,distance:2*this.$props.clusterCircleSize}),n=new v.layer.Vector({source:t}),i;this.$props.markerUseFont?i=new v.style.Style({text:new v.style.Text({font:this.$props.markerSize+"px "+this.$props.markerFont,text:this.$props.markerIcon,fill:new v.style.Fill({color:this.$props.markerColor}),textBaseline:"alphabetic"})}):this.$props.markerImage?i=new v.style.Style({image:new v.style.Icon({src:this.$props.markerImage,scale:this.$props.markerSize/30,anchor:[.5,.95],color:this.$props.markerColor})}):i=new v.style.Style({image:new v.style.Icon({src:this.$props.markerImageDynamic(this.$props.markerSize),anchor:[.5,.95],color:this.$props.markerColor})});let s={};if(n.setStyle((function(o){let a=0,r=o.get("features");for(let l=0;l<r.length;l++){let d=r[l].get("totalCount");a+=d||1}if(!a||a==1)return i;{let l=s[a];return l||(l=new v.style.Style({image:new v.style.Circle({radius:this.$props.clusterCircleSize,stroke:new v.style.Stroke({color:this.$props.clusterCircleBorderColor}),fill:new v.style.Fill({color:this.$props.clusterColor})}),text:new v.style.Text({text:a.toString(),font:this.$props.clusterTextSize+"px "+this.$props.clusterTextFont,fill:new v.style.Fill({color:this.$props.clusterTextColor})})}),s[a]=l),l}}).bind(this)),this.olMap.addLayer(n),this.fitView(),this.features.length==0&&(this.olMap.getView().setCenter(v.proj.fromLonLat([2.333333,48.866667])),this.olMap.vInitialZoomOverride=3),this.olMap.on("moveend",(function(o){let a=o.map.getView().calculateExtent(),r=v.proj.transformExtent(a,"EPSG:3857","EPSG:4326"),l=v.extent.getTopLeft(r),d=v.extent.getBottomRight(r);this.baseUrl&&VUiPage.debounce(()=>this.fetchList({lat:l[0],lon:l[1]},{lat:d[0],lon:d[1]}),300),VUiPage.debounce(()=>this.$emit("moveend",l,d),300)}).bind(this)),this.$props.nameField){let o=new v.Overlay({element:this.$el.querySelector("#"+this.$props.id+"Popup"),positioning:"bottom-center",stopEvent:!1,offset:[0,-20]});this.olMap.addOverlay(o),this.olMap.on("click",(function(a){if(a.originalEvent.target instanceof HTMLCanvasElement){let r=this.olMap.forEachFeatureAtPixel(a.pixel,function(l){return l});if(r&&r.get("features")&&r.get("features").length==1){if(!Object.hasOwn(r.get("features")[0].get("innerObject"),"geoHash")){let l=r.getGeometry().getCoordinates();o.setPosition(l),this.$data.popupDisplayed=!0,this.$data.objectDisplayed=r.get("features")[0].get("innerObject"),a.stopPropagation(),VUiPage.debounce(()=>this.$emit("click",v.proj.transform(l,"EPSG:3857","EPSG:4326")),300)}}else this.$data.popupDisplayed=!1}}).bind(this)),this.olMap.on("pointermove",(function(a){if(a.dragging){this.$data.popupDisplayed=!1;return}let r=this.olMap.getEventPixel(a.originalEvent),l=this.olMap.hasFeatureAtPixel(r);this.olMap.getTargetElement().style.cursor=l?"pointer":""}).bind(this))}else this.olMap.on("click",(function(o){if(o.originalEvent.target instanceof HTMLCanvasElement){let a=this.olMap.forEachFeatureAtPixel(o.pixel,function(r){return r});if(a&&a.get("features")&&a.get("features").length==1){let r=a.getGeometry().getCoordinates();o.stopPropagation(),VUiPage.debounce(()=>this.$emit("click",v.proj.transform(r,"EPSG:3857","EPSG:4326")),300)}}}).bind(this));if(this.$props.object&&this.$props.objectEditable){let o=new v.interaction.Draw({source:this.$data.vectorSource,type:"Point"});o.on("drawend",r=>{let l=r.feature,d=v.proj.toLonLat(l.getGeometry().getCoordinates());this.$data.vectorSource.clear(),this.olMap.removeInteraction(o),a.classList.remove("active"),this.$props.object[this.$props.field]={lon:d[0],lat:d[1]}});const a=document.createElement("button");a.innerHTML="&#9678;",a.addEventListener("click",r=>{r.preventDefault(),a.classList.contains("active")?(this.olMap.removeInteraction(o),a.classList.remove("active")):(this.olMap.addInteraction(o),o=this.olMap.getInteractions().getArray().slice(-1)[0],a.classList.add("active"))},!1),this.olMap.getViewport().getElementsByClassName("ol-v-custom-buttons")[0].appendChild(a)}}).bind(this))}},Si=window.Vue.renderSlot,ki=window.Vue.toDisplayString,pn=window.Vue.openBlock,mn=window.Vue.createElementBlock,Vi=window.Vue.createCommentVNode,qi=window.Vue.createElementVNode,Di=["id"],Fi=["id"],Ei={key:0,class:"popup"};function Ti(e,t,n,i,s,o){return pn(),mn("div",{id:n.id},[qi("div",{id:n.id+"Popup"},[Si(e.$slots,"card",{objectDisplayed:e.objectDisplayed},()=>[e.popupDisplayed?(pn(),mn("div",Ei,ki(e.objectDisplayed[n.nameField]),1)):Vi("",!0)])],8,Fi)],8,Di)}const Oi=F(xi,[["render",Ti]]),Mi=window.Quasar,Li={props:{modelValue:{type:String,required:!0},list:{type:Array,required:!0},keyField:{type:String,required:!0},labelField:{type:String,required:!0},parentKeyField:{type:String,required:!0},subTreeKey:{type:String,required:!1}},emits:["update:modelValue"],data:function(){return{selectedNode:this.$props.modelValue,expandedNodes:[this.$props.modelValue]}},watch:{modelValue:function(e){this.$data.selectedNode=e}},methods:{handleSelected:function(e){this.$emit("update:modelValue",this.$data.selectedNode),e&&this.$refs.menu.hide()},handleExpanded:function(){Mi.debounce(this.$refs.menu.updatePosition,500)()},getSelectedLabel:function(){return this.$data.selectedNode?this.$props.list.find((function(t){return t[this.$props.keyField]===this.$data.selectedNode}).bind(this))[this.$props.labelField]:null},convertListToTree:function(e,t){var n={},i,s=[],o,a=[];for(o=0;o<e.length;o+=1)n[e[o][this.$props.keyField]]=o,a.push({...e[o],children:[]});for(o=0;o<e.length;o+=1)i=a[o],i[this.$props.parentKeyField]?a[n[i[this.$props.parentKeyField]]].children.push(i):s.push(i);return t?[a[n[t]]]:s}}},rt=window.Vue.resolveComponent,Ft=window.Vue.createVNode,Pi=window.Vue.toDisplayString,Ni=window.Vue.createElementVNode,lt=window.Vue.withCtx,Ai=window.Vue.normalizeProps,Ui=window.Vue.guardReactiveProps,Bi=window.Vue.openBlock,Ii=window.Vue.createBlock,ji={class:"self-center full-width no-outline",tabindex:"0"};function zi(e,t,n,i,s,o){const a=rt("q-icon"),r=rt("q-tree"),l=rt("q-menu"),d=rt("q-field");return Bi(),Ii(d,Ai(Ui(e.$attrs)),{append:lt(()=>[Ft(a,{name:"arrow_drop_down"})]),control:lt(()=>[Ni("div",ji,Pi(o.getSelectedLabel()),1)]),default:lt(()=>[Ft(l,{breakpoint:600,fit:"",ref:"menu"},{default:lt(()=>[Ft(r,{nodes:o.convertListToTree(e.$props.list,e.$props.subTreeKey),"node-key":e.$props.keyField,"label-key":e.$props.labelField,expanded:e.expandedNodes,"onUpdate:expanded":[t[0]||(t[0]=u=>e.expandedNodes=u),o.handleExpanded],selected:e.selectedNode,"onUpdate:selected":[t[1]||(t[1]=u=>e.selectedNode=u),o.handleSelected]},null,8,["nodes","node-key","label-key","expanded","onUpdate:expanded","selected","onUpdate:selected"])]),_:1},512)]),_:1},16)}const Ri=F(Li,[["render",zi]]),Hi=window.Vue.ref,Gi={props:{inputId:String,readonly:Boolean,fileInfoUris:Array,fieldName:String,url:String,downloadUrl:String,accept:String,multiple:{type:Boolean,default:!0},maxFiles:Number,callbackOnDelete:{default:!1},inputProps:{type:Object}},emits:["update:file-info-uris","download-file","file-ok","file-failed","init-ok","init-ko"],computed:{},mounted(){if(this.fileInfoUris.length>0){let e=new URLSearchParams;this.fileInfoUris.forEach(t=>{e.append(this.fieldName,t)}),this.$http.get(this.url+"/fileInfos",{params:e,credentials:!1}).then((function(t){let n=t.data;this.files=n.map(i=>({...i,status:"OK"})),this.$emit("init-ok")}).bind(this)).catch((function(t){this.$emit("update:file-info-uris",[]),this.$emit("init-ko"),this.$q&&(t.response?this.$q.notify(t.response.status+":"+t.response.statusText+" Can't load file "+e):this.$q.notify(t+" Can't load file "+e))}).bind(this))}typeof this.callbackOnDelete!="function"&&typeof this.callbackOnDelete!="boolean"&&console.error("callback-on-delete must be a function or a boolean")},data:function(){return{files:[],units:[this.$vui.i18n().uploader.unit_b,this.$vui.i18n().uploader.unit_kb,this.$vui.i18n().uploader.unit_mb,this.$vui.i18n().uploader.unit_gb]}},methods:{canAddFiles(){if(this.$props.readonly)return!1;let e=this.multiple?this.maxFiles:1;return e==null||this.$data.files.filter(t=>t.status!="ERROR").length<e},reset(){this.files.length=0},addFiles(e){this.files=this.files.filter(t=>t.status!="ERROR");for(let t of e)if(this.canAddFiles()){let n=Hi({name:t.name,size:t.size,type:t.type,status:"IN_PROGRESS",errorMessage:null,progress:0,estimated:null,file:t}).value;this.$data.files.push(n),Ji.call(this,n)}this.$refs.input&&(this.$refs.input.value=null)},abortUpload(e){e.abortController.abort();let t=this.files.indexOf(e);this.files.splice(t,1)},removeFile(e){if(this.$props.readonly)return;let t=this.files.indexOf(e);this.files.splice(t,1);let n=[...this.fileInfoUris];n.splice(t,1),this.$emit("update:file-info-uris",n);let i=typeof this.callbackOnDelete=="function";if(this.callbackOnDelete===!0||i){let s={};s[this.fieldName]=e.fileUri;let o=this.$http.delete(this.url,{params:s,credentials:!1});i&&this.callbackOnDelete(this,o)}},downloadFile(e){this.$emit("download-file",e.fileUri)},getGlobalSize(){return this.files.filter(t=>t.status!="ERROR").reduce((t,n)=>t+n.size,0)},getGlobalSizeLabel(){return this.humanStorageSize(this.getGlobalSize())},humanStorageSize(e,t=1){let n=0;for(;parseInt(e,10)>=1024&&n<this.$data.units.length-1;)e/=1024,++n;return`${e.toFixed(t)} ${this.$data.units[n]}`}}};function Ji(e){let t=new AbortController;e.abortController=t;let n=new FormData;n.append("file",e.file),this.$http.post(this.url,n,{credentials:!1,headers:{"Content-Type":"multipart/form-data",Accept:"application/json"},signal:t.signal,onUploadProgress:(function(i){e.progress=i.progress,e.estimated=i.estimated}).bind(this)}).then((function(i){this.$emit("file-ok",i.data);let s=i.data;e.status="OK",e.fileUri=s,this.$emit("update:file-info-uris",[...this.fileInfoUris,s])}).bind(this)).catch((function(i){var s;this.$emit("file-failed",i),e.status="ERROR",((s=i==null?void 0:i.response)==null?void 0:s.status)===413&&(e.errorMessage=this.$vui.i18n().uploader.fileErrorTooBig)}).bind(this))}const J=window.Vue.toDisplayString,dt=window.Vue.normalizeProps,ct=window.Vue.guardReactiveProps,Be=window.Vue.renderSlot,Yi=window.Vue.createTextVNode,z=window.Vue.openBlock,R=window.Vue.createElementBlock,ie=window.Vue.createCommentVNode,Wi=window.Vue.renderList,Xi=window.Vue.Fragment,Ki=window.Vue.normalizeStyle,Ie=window.Vue.createElementVNode,gn=window.Vue.withModifiers,wn=window.Vue.mergeProps,Qi={class:"v-fileupload"},Zi={key:0,class:"header"},ea={class:"content"},ta={class:"files"},na={class:"file",style:{display:"flex","flex-flow":"row wrap","column-gap":"50px"}},oa={key:0,style:{color:"red"}},ia={style:{color:"grey"}},aa={key:1},sa={key:2},ra=["onClick","href"],la=["onClick"],da=["onClick"],ca={key:0,class:"input"},ua=["id","accept","multiple"];function fa(e,t,n,i,s,o){return z(),R("div",Qi,[e.$slots.header?(z(),R("div",Zi,[Yi(J(e.$slots.header.$attrs)+" ",1),Be(e.$slots,"header",dt(ct({...e.$data,...e.$props,canAddFiles:o.canAddFiles,addFiles:o.addFiles,abortUpload:o.abortUpload,removeFile:o.removeFile,downloadFile:o.downloadFile,getGlobalSize:o.getGlobalSize,getGlobalSizeLabel:o.getGlobalSizeLabel,humanStorageSize:o.humanStorageSize})))])):ie("",!0),Ie("div",ea,[Be(e.$slots,"default",dt(ct({...e.$data,...e.$props,canAddFiles:o.canAddFiles,addFiles:o.addFiles,abortUpload:o.abortUpload,removeFile:o.removeFile,downloadFile:o.downloadFile,getGlobalSize:o.getGlobalSize,getGlobalSizeLabel:o.getGlobalSizeLabel,humanStorageSize:o.humanStorageSize})),()=>[Ie("div",ta,[Be(e.$slots,"files",dt(ct({...e.$data,...e.$props,canAddFiles:o.canAddFiles,addFiles:o.addFiles,abortUpload:o.abortUpload,removeFile:o.removeFile,downloadFile:o.downloadFile,getGlobalSize:o.getGlobalSize,getGlobalSizeLabel:o.getGlobalSizeLabel,humanStorageSize:o.humanStorageSize})),()=>[(z(!0),R(Xi,null,Wi(e.files,a=>(z(),R("span",na,[Ie("span",{style:Ki({color:a.status==="IN_PROGRESS"?"blue":a.status=="ERROR"?"red":""})},J(a.name),5),a.status==="ERROR"?(z(),R("span",oa,J(a.errorMessage),1)):ie("",!0),Ie("span",ia,J(o.humanStorageSize(a.size)),1),a.status==="IN_PROGRESS"?(z(),R("span",aa,J(e.$vui.i18n().uploader.progress)+" : "+J((a.progress*100).toFixed())+" %",1)):ie("",!0),a.status==="IN_PROGRESS"&&a.estimated!=null?(z(),R("span",sa,J(e.$vui.i18n().uploader.estimated)+" : "+J(a.estimated.toFixed())+" s",1)):ie("",!0),a.status==="OK"?(z(),R("a",{key:3,onClick:r=>o.downloadFile(a),href:n.downloadUrl+a.uri},J(e.$vui.i18n().uploader.download),9,ra)):ie("",!0),a.status==="IN_PROGRESS"?(z(),R("button",{key:4,onClick:gn(r=>o.abortUpload(a),["prevent"])},J(e.$vui.i18n().uploader.abort),9,la)):ie("",!0),!this.readonly&&a.status!=="IN_PROGRESS"?(z(),R("button",{key:5,style:{color:"red"},onClick:gn(r=>o.removeFile(a),["prevent"])},J(e.$vui.i18n().uploader.remove),9,da)):ie("",!0)]))),256))])]),o.canAddFiles()?(z(),R("div",ca,[Be(e.$slots,"input",dt(ct({...e.$data,...e.$props,canAddFiles:o.canAddFiles,addFiles:o.addFiles,abortUpload:o.abortUpload,removeFile:o.removeFile,downloadFile:o.downloadFile,getGlobalSize:o.getGlobalSize,getGlobalSizeLabel:o.getGlobalSizeLabel,humanStorageSize:o.humanStorageSize})),()=>[Ie("input",wn({id:e.$props.inputId,ref:"input",type:"file",accept:e.$props.accept,multiple:e.$props.multiple,onChange:t[0]||(t[0]=a=>o.addFiles(a.target.files))},e.$props.inputProps),null,16,ua)])])):ie("",!0)])]),e.$slots.footer?(z(),R("div",wn({key:1,class:"footer"},{...e.$data,...e.$props,canAddFiles:o.canAddFiles,addFiles:o.addFiles,abortUpload:o.abortUpload,removeFile:o.removeFile,downloadFile:o.downloadFile,getGlobalSize:o.getGlobalSize,getGlobalSizeLabel:o.getGlobalSizeLabel,humanStorageSize:o.humanStorageSize}),[Be(e.$slots,"footer")],16)):ie("",!0)])}const ha=F(Gi,[["render",fa]]),pa={props:{readonly:Boolean,label:String,simple:{type:Boolean,default:!1},fileInfoUris:Array,fieldName:String,url:String,downloadUrl:{type:String,default:e=>e.baseUrl+"/download"},multiple:{type:Boolean,default:!0}},emits:["update:file-info-uris","download-file","init-ok","init-ko"],computed:{},mounted(){if(this.changeIcon(),this.fileInfoUris.length>0){var e=new URLSearchParams;this.fileInfoUris.forEach(t=>{e.append(this.fieldName,t)}),this.$http.get(this.url+"/fileInfos",{params:e,credentials:!1}).then((function(t){var n=t.data;this.files=n.map(i=>i),this.$emit("init-ok")}).bind(this)).catch((function(t){this.$emit("update:file-info-uris",[]),this.$emit("init-ko"),t.response?this.$q.notify(t.response.status+":"+t.response.statusText+" Can't load file "+e):this.$q.notify(t+" Can't load file "+e)}).bind(this))}},data:function(){return{files:[],units:[this.$vui.i18n().uploader.unit_b,this.$vui.i18n().uploader.unit_kb,this.$vui.i18n().uploader.unit_mb,this.$vui.i18n().uploader.unit_gb]}},methods:{uploadedFiles(e){var t=[...this.fileInfoUris];e.files.forEach((function(n){this.files.push(n),n.fileUri=n.xhr.response,t.push(n.fileUri),this.$refs.quasarUploader.removeFile(n),this.$emit("update:file-info-uris",t)}).bind(this))},failedFiles(e){e.xhr.status===413?this.$q.notify({type:"negative",message:this.$q.lang.vui.uploader.fileErrorTooBig,multiLine:!0,timeout:2500}):this.$q.notify({type:"negative",message:this.$q.lang.vui.uploader.fileErrorUnknown,multiLine:!0,timeout:2500})},start(e,t,n){this.$refs.quasarUploader},removeRemoteFile(e){var t=this.files.indexOf(e),n=[...this.fileInfoUris],i={};i[this.fieldName]=e.fileUri,this.$http.delete(this.url,{params:i,credentials:!1}).then((function(){this.multiple?(this.files.splice(t,1),n.splice(t,1)):(this.files.splice(0),n.splice(0)),this.$emit("update:file-info-uris",n)}).bind(this)).catch((function(s){this.$q.notify(s.response.status+":"+s.response.statusText+" Can't remove temporary file")}).bind(this))},globalCanAddFiles(e){return this.multiple?!this.$props.readonly:!this.$props.readonly&&e.filter(t=>t.__status!="uploaded").length+this.fileInfoUris.length<1},changeIcon(){this.$q.iconSet.uploader.removeUploaded="delete_sweep",this.$q.iconSet.uploader.done="delete"},addFiles(e){var t=this.$refs.quasarUploader;this.globalCanAddFiles(t.files)&&this.$refs.quasarUploader.addFiles(e)},getGlobalSize(){var e=this.files.filter(n=>n.__status!="uploaded").reduce((n,i)=>n+i.size,0),t=this.files.reduce((n,i)=>n+i.size,0);return e+t},getGlobalSizeLabel(){return this.humanStorageSize(this.getGlobalSize())},humanStorageSize(e,t=1){let n=0;for(;parseInt(e,10)>=1024&&n<this.$data.units.length-1;)e/=1024,++n;return`${e.toFixed(t)} ${this.$data.units[n]}`}}},K=window.Vue.toDisplayString,ut=window.Vue.createTextVNode,ue=window.Vue.resolveComponent,U=window.Vue.withCtx,Q=window.Vue.createVNode,k=window.Vue.openBlock,H=window.Vue.createBlock,M=window.Vue.createCommentVNode,ae=window.Vue.createElementBlock,Z=window.Vue.createElementVNode,bn=window.Vue.renderList,Et=window.Vue.Fragment,ma=window.Vue.normalizeClass,ga=window.Vue.mergeProps,wa=window.Vue.createSlots,ba={class:"q-uploader__header-content flex flex-center no-wrap q-gutter-xs"},ya={class:"col column justify-center"},va={key:0,class:"q-uploader__title"},$a={key:1,class:"q-uploader__subtitle"},_a={key:2,class:"q-uploader__subtitle"},Ca={class:"row"},xa={class:"col column justify-center"},Sa={class:"q-uploader__file-header row flex-center no-wrap"},ka={class:"q-uploader__file-header-content col"},Va={class:"q-uploader__title"},qa={class:"q-uploader__file-header row flex-center no-wrap"},Da={class:"q-uploader__file-header-content col"},Fa={class:"q-uploader__title"},Ea={key:0,class:"q-field__after q-field__marginal row no-wrap items-center"};function Ta(e,t,n,i,s,o){const a=ue("q-tooltip"),r=ue("q-btn"),l=ue("q-spinner"),d=ue("q-uploader-add-trigger"),u=ue("q-icon"),p=ue("q-circular-progress"),h=ue("q-field"),g=ue("q-uploader");return k(),H(g,ga({url:e.$props.url,"auto-upload":"","field-name":e.$props.fieldName,multiple:e.$props.multiple,"max-files":e.$props.multiple?void 0:1,headers:[{name:"Accept",value:"application/json"}],onUploaded:o.uploadedFiles,onFailed:o.failedFiles,readonly:e.$props.readonly||!o.globalCanAddFiles([])},e.$attrs,{ref:"quasarUploader"}),wa({list:U(c=>[Z("div",Ca,[Q(h,{"label-width":3,label:e.$props.simple?e.$props.label:void 0,class:"col",orientation:"vertical","stack-label":"",borderless:""},{control:U(()=>[Z("div",xa,[e.$props.readonly?M("",!0):(k(!0),ae(Et,{key:0},bn(c.files,f=>(k(),ae(Et,{key:f.name},[f.__status!=="uploaded"?(k(),ae("div",{key:0,class:ma(["q-uploader__file relative-position",{"q-uploader__file--failed":f.__status==="failed","q-uploader__file--uploaded":f.__status==="uploaded"}])},[Z("div",Sa,[f.__status==="failed"?(k(),H(u,{key:0,class:"q-uploader__file-status",name:e.$q.iconSet.type.negative,color:"negative"},null,8,["name"])):M("",!0),Q(u,{class:"q-uploader__file-status",name:f.type.indexOf("video/")===0?"movie":f.type.indexOf("image/")===0?"photo":f.type.indexOf("audio/")===0?"audiotrack":"insert_drive_file"},null,8,["name"]),Z("div",ka,[Z("div",Va,K(f.name),1)]),f.__status==="uploading"?(k(),H(p,{key:1,value:f.__progress,min:0,max:1,indeterminate:f.__progress===0},null,8,["value","indeterminate"])):M("",!0),f.__status==="failed"?(k(),H(r,{key:2,round:"",dense:"",flat:"",icon:e.$q.iconSet.uploader.clear,onClick:m=>c.removeFile(f)},null,8,["icon","onClick"])):M("",!0)])],2)):M("",!0)],64))),128)),(k(!0),ae(Et,null,bn(e.files,f=>(k(),ae("div",{key:f.name,class:"q-uploader__file relative-position q-uploader__file--uploaded"},[Z("div",qa,[Q(u,{class:"q-uploader__file-status",name:f.type.indexOf("video/")===0?"movie":f.type.indexOf("image/")===0?"photo":f.type.indexOf("audio/")===0?"audiotrack":"insert_drive_file"},null,8,["name"]),Z("div",Da,[Z("div",Fa,K(f.name),1)]),e.$props.readonly?M("",!0):(k(),H(r,{key:0,round:"",dense:"",flat:"",icon:"delete",onClick:m=>o.removeRemoteFile(f)},null,8,["onClick"])),Q(r,{round:"",dense:"",flat:"",icon:"file_download",onClick:m=>e.$emit("download-file",f.fileUri)},null,8,["onClick"])])]))),128))])]),_:2},1032,["label"]),e.$props.simple&&!e.$props.readonly?(k(),ae("div",Ea,[c.isUploading?(k(),H(l,{key:0,class:"q-uploader__spinner"})):M("",!0),o.globalCanAddFiles(c.files)?(k(),H(r,{key:1,type:"a",icon:e.$q.iconSet.uploader.add,flat:"",dense:""},{default:U(()=>[Q(d)]),_:1},8,["icon"])):M("",!0),c.isUploading?(k(),H(r,{key:2,type:"a",icon:e.$q.iconSet.uploader.clear,flat:"",dense:"",onClick:c.abort},{default:U(()=>[Q(a,null,{default:U(()=>[ut(K(e.$q.lang.vui.uploader.abort),1)]),_:1})]),_:2},1032,["icon","onClick"])):M("",!0)])):M("",!0)])]),_:2},[e.$props.simple?{name:"header",fn:U(()=>[]),key:"0"}:{name:"header",fn:U(c=>[Z("div",ba,[c.queuedFiles.length>0&&!c.readonly?(k(),H(r,{key:0,type:"a",icon:e.$q.iconSet.uploader.clear_all,flat:"",dense:"",onClick:c.removeQueuedFiles},{default:U(()=>[Q(a,null,{default:U(()=>[ut(K(e.$q.lang.vui.uploader.clear_all),1)]),_:1})]),_:2},1032,["icon","onClick"])):M("",!0),Z("div",ya,[e.$props.label!==void 0?(k(),ae("div",va,K(e.$props.label),1)):M("",!0),c.isUploading?(k(),ae("div",$a,K(o.getGlobalSizeLabel())+" / "+K(c.uploadProgressLabel),1)):(k(),ae("div",_a,K(o.getGlobalSizeLabel()),1))]),c.isUploading?(k(),H(l,{key:1,class:"q-uploader__spinner"})):M("",!0),c.isUploading&&!c.readonly?(k(),H(r,{key:2,type:"a",href:"#",icon:e.$q.iconSet.uploader.clear,flat:"",dense:"",onClick:c.abort},{default:U(()=>[Q(a,null,{default:U(()=>[ut(K(e.$q.lang.vui.uploader.abort),1)]),_:1})]),_:2},1032,["icon","onClick"])):M("",!0),o.globalCanAddFiles(c.files)&&!c.readonly?(k(),H(r,{key:3,icon:e.$q.iconSet.uploader.add,flat:"",dense:"",onClick:c.pickFiles},{default:U(()=>[Q(d),Q(a,null,{default:U(()=>[ut(K(e.$q.lang.vui.uploader.add),1)]),_:1})]),_:2},1032,["icon","onClick"])):M("",!0)])]),key:"1"}]),1040,["url","field-name","multiple","max-files","onUploaded","onFailed","readonly"])}const Oa=F(pa,[["render",Ta]]);function Tt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function yn(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function je(){}var ze=.7,ft=1/ze,De="\\s*([+-]?\\d+)\\s*",Re="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ee="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ma=/^#([0-9a-f]{3,8})$/,La=new RegExp(`^rgb\\(${De},${De},${De}\\)$`),Pa=new RegExp(`^rgb\\(${ee},${ee},${ee}\\)$`),Na=new RegExp(`^rgba\\(${De},${De},${De},${Re}\\)$`),Aa=new RegExp(`^rgba\\(${ee},${ee},${ee},${Re}\\)$`),Ua=new RegExp(`^hsl\\(${Re},${ee},${ee}\\)$`),Ba=new RegExp(`^hsla\\(${Re},${ee},${ee},${Re}\\)$`),vn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tt(je,ht,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$n,formatHex:$n,formatHex8:Ia,formatHsl:ja,formatRgb:_n,toString:_n});function $n(){return this.rgb().formatHex()}function Ia(){return this.rgb().formatHex8()}function ja(){return Vn(this).formatHsl()}function _n(){return this.rgb().formatRgb()}function ht(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ma.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Cn(t):n===3?new N(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?pt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?pt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=La.exec(e))?new N(t[1],t[2],t[3],1):(t=Pa.exec(e))?new N(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Na.exec(e))?pt(t[1],t[2],t[3],t[4]):(t=Aa.exec(e))?pt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ua.exec(e))?kn(t[1],t[2]/100,t[3]/100,1):(t=Ba.exec(e))?kn(t[1],t[2]/100,t[3]/100,t[4]):vn.hasOwnProperty(e)?Cn(vn[e]):e==="transparent"?new N(NaN,NaN,NaN,0):null}function Cn(e){return new N(e>>16&255,e>>8&255,e&255,1)}function pt(e,t,n,i){return i<=0&&(e=t=n=NaN),new N(e,t,n,i)}function za(e){return e instanceof je||(e=ht(e)),e?(e=e.rgb(),new N(e.r,e.g,e.b,e.opacity)):new N}function Ot(e,t,n,i){return arguments.length===1?za(e):new N(e,t,n,i??1)}function N(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Tt(N,Ot,yn(je,{brighter(e){return e=e==null?ft:Math.pow(ft,e),new N(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ze:Math.pow(ze,e),new N(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new N(ye(this.r),ye(this.g),ye(this.b),mt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xn,formatHex:xn,formatHex8:Ra,formatRgb:Sn,toString:Sn}));function xn(){return`#${ve(this.r)}${ve(this.g)}${ve(this.b)}`}function Ra(){return`#${ve(this.r)}${ve(this.g)}${ve(this.b)}${ve((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sn(){const e=mt(this.opacity);return`${e===1?"rgb(":"rgba("}${ye(this.r)}, ${ye(this.g)}, ${ye(this.b)}${e===1?")":`, ${e})`}`}function mt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ye(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ve(e){return e=ye(e),(e<16?"0":"")+e.toString(16)}function kn(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Y(e,t,n,i)}function Vn(e){if(e instanceof Y)return new Y(e.h,e.s,e.l,e.opacity);if(e instanceof je||(e=ht(e)),!e)return new Y;if(e instanceof Y)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(t,n,i),o=Math.max(t,n,i),a=NaN,r=o-s,l=(o+s)/2;return r?(t===o?a=(n-i)/r+(n<i)*6:n===o?a=(i-t)/r+2:a=(t-n)/r+4,r/=l<.5?o+s:2-o-s,a*=60):r=l>0&&l<1?0:a,new Y(a,r,l,e.opacity)}function Mt(e,t,n,i){return arguments.length===1?Vn(e):new Y(e,t,n,i??1)}function Y(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Tt(Y,Mt,yn(je,{brighter(e){return e=e==null?ft:Math.pow(ft,e),new Y(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ze:Math.pow(ze,e),new Y(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,s=2*n-i;return new N(Lt(e>=240?e-240:e+120,s,i),Lt(e,s,i),Lt(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new Y(qn(this.h),gt(this.s),gt(this.l),mt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mt(this.opacity);return`${e===1?"hsl(":"hsla("}${qn(this.h)}, ${gt(this.s)*100}%, ${gt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qn(e){return e=(e||0)%360,e<0?e+360:e}function gt(e){return Math.max(0,Math.min(1,e||0))}function Lt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Pt=e=>()=>e;function Dn(e,t){return function(n){return e+n*t}}function Ha(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Ga(e,t){var n=t-e;return n?Dn(e,n>180||n<-180?n-360*Math.round(n/360):n):Pt(isNaN(e)?t:e)}function Ja(e){return(e=+e)==1?He:function(t,n){return n-t?Ha(t,n,e):Pt(isNaN(t)?n:t)}}function He(e,t){var n=t-e;return n?Dn(e,n):Pt(isNaN(e)?t:e)}const Ya=function e(t){var n=Ja(t);function i(s,o){var a=n((s=Ot(s)).r,(o=Ot(o)).r),r=n(s.g,o.g),l=n(s.b,o.b),d=He(s.opacity,o.opacity);return function(u){return s.r=a(u),s.g=r(u),s.b=l(u),s.opacity=d(u),s+""}}return i.gamma=e,i}(1);function Wa(e){return function(t,n){var i=e((t=Mt(t)).h,(n=Mt(n)).h),s=He(t.s,n.s),o=He(t.l,n.l),a=He(t.opacity,n.opacity);return function(r){return t.h=i(r),t.s=s(r),t.l=o(r),t.opacity=a(r),t+""}}}const Xa=Wa(Ga);let fe={color:ht,interpolateHsl:Xa,interpolateRgb:Ya};function Nt(e,t,n){if(e!="DEFAULT"){var i,s=Ka;e=="RAINBOW"||e=="iRAINBOW"?i=["#FF0000","#FFA500","#FFFF00","#00FF00","#00FF00","rgb(75, 0, 130)","rgb(238, 130, 238)"]:e=="SPECTRUM"||e=="iSPECTRUM"?(i=["rgb(230, 30, 30)","rgb(230, 230, 30)","rgb(30, 230, 30)","rgb(30, 230, 230)","rgb(30, 30, 230)","rgb(230, 30, 230)","rgb(230, 30, 30)"],s=Za):e=="RED2GREEN"||e=="iRED2GREEN"?i=["rgb(255, 51, 51)","rgb(250, 235, 0)","rgb(51, 200, 51)"]:e=="GREEN2BLUE"||e=="iGREEN2BLUE"?i=["rgb(51, 153, 51)","rgb(51, 153, 200)","rgb(51, 51, 255)"]:e=="HEAT"||e=="iHEAT"?i=["rgb(255, 51, 51)","rgb(255, 255, 51)","rgb(51, 153, 51)","rgb(51, 153, 255)"]:e=="GREEN:INTENSITY"||e=="iGREEN:INTENSITY"?(i=["rgb(51, 153, 51)","rgb(170, 250, 170)"],s=Qa):e=="ANDROID"||e=="iANDROID"?i=["#0099CC","#9933CC","#CC0000","#FF8800","#669900"]:(e=="ANDROID:LIGHT"||e=="iANDROID:LIGHT")&&(i=["#33B5E5","#AA66CC","#ff4444","#ffbb33","#99cc00"]),e.charAt(0)=="i"&&(i=i.reverse());var a,o=i[0]==i[i.length-1],a=s(i,t+(o?1:0));return n?a.map(function(r,l){var d=fe.color(r);return d.opacity=n,d.formatRgb()}):a}}function Ka(e,t){return At(e,t,function(n,i,s,o,a){return fe.interpolateHsl(s,o)(n)})}function Qa(e,t){return At(e,t,function(n,i,s,o,a){return fe.interpolateRgb(s,o)(n)})}function Za(e,t){return At(e,t,function(n,i,s,o,a){var r={r:null,g:null,b:null},l=i?fe.rgb(i):r,d=fe.rgb(s),u=fe.rgb(o),p=a?fe.rgb(a):r,h=Math.max(Math.min(Math.round(Ut(n,l.r,d.r,u.r,p.r)),255),0),g=Math.max(Math.min(Math.round(Ut(n,l.g,d.g,u.g,p.g)),255),0),c=Math.max(Math.min(Math.round(Ut(n,l.b,d.b,u.b,p.b)),255),0);return fe.rgb(h,g,c)})}function At(e,t,n){if(t==1)return[e[0]];for(var i=0,s=new Array,o=e.length,a=0;(o-1)%(t-1)!=0&&a<20;)a++,o=e.length+a*(e.length-1);a++;for(var r=0;r<e.length-1;r++){for(var l=r-1>=0?e[r-1]:null,d=e[r],u=e[r+1],p=r+2<e.length?e[r+2]:null,h=i;h<a+1;h++){var g=n(h/a,l,d,u,p);s.push(g)}i=1}for(var c=new Array,r=0;r<t;r++){var f=(s.length-1)/(t-1)*r;c.push(s[f])}return c}function Ut(e,t,n,i,s){var o=i-n,a=t??n-o,r=s??i+o;return .5*(2*n+(-a+i)*e+(2*a-5*n+4*i-r)*e*e+(-a+3*n-3*i+r)*e*e*e)}const es={id:"verticalLineTooltipPlugin",afterDraw:e=>{var t,n;if((n=(t=e.tooltip)==null?void 0:t._active)!=null&&n.length){const{x:i}=e.tooltip._active[0].element,s=e.scales.y,{ctx:o}=e;o.save(),o.beginPath(),o.moveTo(i,s.top),o.lineTo(i,s.bottom),o.lineWidth=2,o.strokeStyle="rgba(50, 50, 50, 0.4)",o.stroke(),o.restore()}}},ts={id:"verticalLinePlugin",getLinePositionAtIndex:function(e,t){return e.getDatasetMeta(0).data[t].x},getLinePositionAtX:function(e,t){return e.scales.x.getPixelForValue(t,0)},renderVerticalLine:function(e,t){const n=e.scales.y,i=e.ctx,s=t.x?this.getLinePositionAtX(e,t.x):getLinePositionAtIndex(chart,t.idx);i.beginPath(),i.strokeStyle=t.color?t.color:"#ff0000",i.moveTo(s,n.top),i.lineTo(s,n.bottom),i.stroke(),i.fillStyle=t.color?t.color:"#ff0000",i.textAlign="center",typeof t.label=="function"?i.fillText(t.label(),s,n.top-8):i.fillText(t.label?t.label:"",s,n.top-8)},afterDatasetsDraw:function(e,t){e.config.options.vLineAt&&e.config.options.vLineAt.forEach(n=>this.renderVerticalLine(e,n))}},ns={props:{title:{type:String},type:{type:String,required:!0},datas:{type:Object},dataSeriesTranslator:{type:Function},queryUrl:{type:String},queryClusteredMeasure:{type:Object},queryMeasures:{type:Array},queryDataFilter:{type:Object},queryTimeFilter:{type:Object},queryGroupBy:{type:String},colors:{type:String,default:"DEFAULT"},labels:{type:Object,required:!0},minTime:{type:String},maxTime:{type:String},fillGapDim:{type:String},fillGapValue:{type:Number},timeFormat:{type:String,default:"DD/MM/YYYY HH:mm"},verticalLines:{type:Array},additionalOptions:{type:Object}},created:function(){this.$data.graphChartId="graphChartId_"+this.hashCode(this.type+"_"+JSON.stringify(this.labels)),window.dashboardGraphChart||(window.dashboardGraphChart={})},mounted:function(){if(this.queryUrl)this.fetchData();else{this.$data.graphDataSeriesTranslator=this.dataSeriesTranslator?this.dataSeriesTranslator:this.defaultDataSeriesTranslator;var e=this.$data.graphDataSeriesTranslator(this.datas);this.showChartJsChart(e.dataValues,e.dataMetrics,e.timedSeries,this.queryGroupBy,this.labels,this.colors,this.title,this.additionalOptions)}},data:function(){return{graphChartId:{},graphDataSeriesTranslator:this.defaultDataSeriesTranslator,stepSize:1,truncatedMinTime:null,truncatedMaxTime:null}},watch:{datas:{handler(e,t){if(this.datas){var n=this.$data.graphDataSeriesTranslator(e);this.showChartJsChart(n.dataValues,n.dataMetrics,n.timedSeries,this.queryGroupBy,this.labels,this.colors,this.title,this.additionalOptions)}},deep:!0},queryTimeFilter:{handler(e,t){this.queryUrl&&this.hashCode(JSON.stringify(e))!==this.hashCode(JSON.stringify(t))&&this.fetchData()},deep:!0},queryDataFilter:{handler(e,t){this.queryUrl&&this.hashCode(JSON.stringify(e))!==this.hashCode(JSON.stringify(t))&&this.fetchData()},deep:!0}},methods:{hashCode:function(e){let t;for(let n=0;n<e.length;n++)t=Math.imul(31,t)+e.charCodeAt(n)|0;return t},fetchData:function(){var e=this.buildQuery();this.$http.post(this.queryUrl,e).then((function(t){var n=this.$data.graphDataSeriesTranslator(t.data);this.showChartJsChart(n.dataValues,n.dataMetrics,n.timedSeries,this.queryGroupBy,this.labels,this.colors,this.title,this.additionalOptions)}).bind(this))},buildQuery:function(){var e={dataFilter:this.queryDataFilter,timeFilter:this.queryTimeFilter};return this.queryMeasures&&(e.measures=this.queryMeasures),this.queryClusteredMeasure&&(e.clusteredMeasure=this.queryClusteredMeasure),this.queryGroupBy&&(e.groupBy=this.queryGroupBy),e},showChartJsChart:function(e,t,n,i,s,o,a,r){var l=this.timeDimToDayJsPeriod();if(this.fillGapDim&&this.minTime&&this.maxTime&&l!=="hour"){var d=dayjs(this.minTime,this.timeFormat).startOf(l),u=dayjs(this.maxTime,this.timeFormat).startOf(l),p=dayjs(this.minTime,this.timeFormat).endOf(l);p.isAfter(u)&&(u=p),this.$data.truncatedMinTime=d.add(d.utcOffset(),"minute").valueOf(),this.$data.truncatedMaxTime=u.add(u.utcOffset(),"minute").valueOf()}else this.$data.truncatedMinTime=this.minTime?dayjs(this.minTime,this.timeFormat).valueOf():null,this.$data.truncatedMaxTime=this.maxTime?dayjs(this.maxTime,this.timeFormat).valueOf():null;var h=Object.values(s),g,c,f;if(this.type==="bubbles"){f="bubble";var m=s.filter(C=>C!==i);h=Object.values(m);var b=this.toChartJsBubblesData(e,m.keys(),m,i);c=[{data:b}],g=this.getChartJsBubblesOptions(e,m.keys(),i,m,a,r),this.setChartJsColorOptions(c,o,1,.5)}else if(this.type==="linechart")f="line",c=this.toChartJsData(e,s,n,i),g=this.getChartJsLineOptions(e,i,s,n,a,r),this.setChartJsColorOptions(c,o);else if(this.type==="barchart")f="bar",c=this.toChartJsData(e,s,n,i),g=this.getChartJsLineOptions(e,i,s,n,a,r),this.setChartJsColorOptions(c,o,1,.5);else if(this.type==="stackedbarchart")f="bar",c=this.toChartJsData(e,s,n,i),g=this.getStackedOptions(e,i,s,n,a,r),this.setChartJsColorOptions(c,o,1,.5);else if(this.type==="polararea"){f="polarArea",c=this.toChartJsData(e,s,n,i);var _=this.toChartJsPieData(c,s);c=_.datasets,h=_.labels,g=this.getPolarChartOptions(e,i,s,n,a,r),this.setChartJsPieColorOptions(c,o)}else if(this.type==="doughnut"){f="doughnut";var m=s.filter(he=>he!==i);c=this.toChartJsData(e,m,n,i);var _=this.toChartJsPieData(c,s);c=_.datasets,h=_.labels,this.setChartJsPieColorOptions(c,o),g={legend:{display:!0,position:"bottom"}}}var y=this.$.refs.graphCanvas,D=this.mergeDeep(g,r);if(window.dashboardGraphChart[this.$data.graphChartId]){var w=window.dashboardGraphChart[this.$data.graphChartId];w.data.datasets=c,this.hashCode(JSON.stringify(w.options.scales))!==this.hashCode(JSON.stringify(D.scales))&&(w.options.scales=D.scales),w.update("none")}else{let C={datasets:c};n||(C.labels=h);var w=new Chart(y,{type:f,data:C,options:D,plugins:[es,ts]});window.dashboardGraphChart[this.$data.graphChartId]=w}},setChartJsColorOptions:function(e,t,n,i){if(t)for(var s=Nt(t,e.length,n),o=Nt(t,e.length,i||(n?n*.25:.25)),a=0;a<e.length;a++)e[a].borderColor=s[a],e[a].backgroundColor=o[a],e[a].pointBackgroundColor=s[a],e[a].pointBorderColor="#FFFFFFAF",e[a].pointBorderWidth=2,e[a].fill=!0},setChartJsPieColorOptions:function(e,t,n){if(t)for(var i=0;i<e.length;i++)e[i].backgroundColor=Nt(t,e[i].data.length,n)},getChartJsBubblesOptions:function(e,t,n,i,s,o){var a=this.getMaxRadius(e,t[2]),r=this.getAxisType(e,o,"xAxisType",t[0]),l=this.getAxisType(e,o,"yAxisType",t[1]);return{scales:{x:{type:r},y:{type:l}},elements:{point:{radius:function(d){var u=d.dataIndex,p=d.dataset.data[u],h=d.chart.width,g=p.r_measure/a;return h/24*g}}},legend:{display:!1},plugins:{tooltip:{displayColors:!1,callbacks:{title:function(d){var u=d[0];return u.dataset.data[u.dataIndex].name},label:function(d){var u=d.dataset.data[d.dataIndex];return[i[t[0]]+" : "+Math.round(u.x),i[t[1]]+" : "+Math.round(u.y),i[t[2]]+" : "+Math.round(u.r_measure)]}}}}}},getPolarChartOptions:function(e,t,n,i,s){return{}},getAxisType:function(e,t,n,i){var s="linear";if(t&&t[n])if(t[n]==="auto"){var o=getMinMax(e,i);o.max>0&&o.min/o.max<.001&&(s="logarithmic")}else s=t[n];return s},getChartJsLineOptions:function(e,t,n,i,s,o){var a={scales:{y:{ticks:{beginAtZero:!0},suggestedMin:0,suggestedMax:5}},plugins:{title:{display:!!s,text:s||"",align:"start",padding:20,font:{size:14,weight:"bold"}},legend:{position:"bottom"},tooltip:{mode:"index",position:"nearest",boxPadding:3,backgroundColor:"#F8F8F8D0",titleColor:"#000",bodyColor:"#000",borderColor:"#333",borderWidth:1}},elements:{point:{radius:3,hoverRadius:6},line:{tension:0},bar:{borderWidth:3}}};return i?(a.scales.x={type:"time",ticks:{source:"auto",major:{enabled:!0}},time:{displayFormats:{hour:"HH:mm",minute:"HH:mm"},tooltipFormat:this.timeFormat+" Z"}},this.$data.truncatedMinTime&&(a.scales.x.suggestedMin=this.$data.truncatedMinTime),this.$data.truncatedMaxTime&&(a.scales.x.suggestedMax=this.$data.truncatedMaxTime)):a.scales.x={type:"category"},a},getStackedOptions:function(e,t,n,i,s,o){var a=this.getChartJsLineOptions(e,t,n,i,s,o),r={scales:{x:{stacked:!0},y:{stacked:!0}}};return this.mergeDeep(a,r)},toChartJsBubblesData:function(e,t,n,i){for(var s=new Array,o=0;o<e.length;o++){var a=new Object;a.x=e[o].values[t[0]],a.y=e[o].values[t[1]];var r=e[o].values[t[2]];!this.isEmpty(e[o].values)&&!r&&(r=0),a.name=e[o].values[i],a.r_measure=r,s.push(a)}return s},getMaxRadius:function(e,t){for(var n=0,i=0;i<e.length;i++){var s=e[i].values[t];s>n&&(n=s)}return Math.max(n,1)},getMinMax:function(e,t){for(var n=0,i=0,s=0;s<e.length;s++){var o=e[s].values[t];o>i&&(i=o),o<n&&(n=o)}return{min:n,max:i}},defaultDataSeriesTranslator:function(e){var t=e.timedDataSeries?e.timedDataSeries:e.tabularDataSeries,n=e.seriesNames;return{dataValues:t,dataMetrics:n,timedSeries:!!e.timedDataSeries}},toChartJsData:function(e,t,n,i){let s=function(m,b){return m.indexOf(b,m.length-b.length)!==-1};var o=this.timeDimToDayJsPeriod(),a=new Array;for(const m in t){var r=new Object;r.data=new Array,r.parsing=!1,t&&t[m]&&(r.label=t[m]);for(var l=this.$data.truncatedMinTime?dayjs(this.$data.truncatedMinTime).subtract(1,o):null,d=0;d<e.length;d++){if(n&&this.fillGapDim)for(var u=l?dayjs(l).add(1,o):null,p=l?u.add(1,o):null,h=dayjs(e[d].time);!h.isBefore(p);)r.data.push({x:u.valueOf(),y:this.fillGapValue}),u=p,p=p.add(1,o),l=u.valueOf();var g=n?dayjs(e[d].time).valueOf():e[d].values[i],c=e[d].values[m];!this.isEmpty(e[d].values)&&!c&&(c=0),r.data.push({x:g,y:c}),l=g}if(n&&this.fillGapDim&&this.$data.truncatedMaxTime)for(var u=l?dayjs(l).add(1,o):null,f=dayjs(this.$data.truncatedMaxTime);!u.isAfter(f);)r.data.push({x:u.valueOf(),y:this.fillGapValue}),u=u.add(1,o),l=u.valueOf();r.label||(s(m,"count")?r.label="Quantit":s(m,"mean")?r.label="Moyenne":s(m,"min")?r.label="Minimum":s(m,"max")&&(r.label="Maximum")),a.push(r)}return a},toChartJsPieData:function(e,t){for(var n=new Array,i=new Array,s=0;s<e[0].data.length;s++){var o=e[0].data[s].x;t&&t[e[0].data[s].x]&&(o=t[e[0].data[s].x]),i.push(o),n.push(e[0].data[s].y)}return{datasets:[{data:n}],labels:i}},timeDimToDayJsPeriod:function(){let e=this.fillGapDim;return e==="1h"?"hour":e==="1d"?"day":e==="1w"?"week":e==="1M"?"month":e==="3M"?"quarter":e==="1y"?"year":"hour"},isEmpty:function(e){return Object.keys(e).length===0},isObject:function(e){return e&&typeof e=="object"&&!Array.isArray(e)},mergeDeep:function(e,...t){if(!t.length)return e;const n=t.shift();if(this.isObject(e)&&this.isObject(n))for(const i in n)this.isObject(n[i])?(e[i]||Object.assign(e,{[i]:{}}),this.mergeDeep(e[i],n[i])):Object.assign(e,{[i]:n[i]});return this.mergeDeep(e,...t)}}},os=window.Vue.openBlock,is=window.Vue.createElementBlock,as={ref:"graphCanvas"};function ss(e,t,n,i,s,o){return os(),is("canvas",as,null,512)}const rs=F(ns,[["render",ss]]),ls={mounted:function(e,t,n){var i=t.value;if(!window.watcherUpdates&&(window.watcherUpdates={originalDocumentTitle:document.title,updates_detected:!1,acceptedUpdates:function(){window.watcherUpdates.updates_detected=!1,document.title=window.watcherUpdates.originalDocumentTitle},beforeWindowUnload:function(a){window.watcherUpdates.updates_detected&&(a.preventDefault(),a.returnValue=`Voulez-vous quitter cette page ? 
 Les modifications que vous avez apportes ne seront peut-tre pas enregistres`)}},window.addEventListener("beforeunload",window.watcherUpdates.beforeWindowUnload),t.instance.$root.uiMessageStack)){var s=t.instance.$root.uiMessageStack,o=s.globalErrors.length>0;for(let a of i.split(","))if(o=o||s.objectFieldErrors[a],o)break;o&&(window.watcherUpdates.updates_detected=!0)}e.addEventListener("click",window.watcherUpdates.acceptedUpdates);for(let a of i.split(","))t.instance.$root.$watch("vueData."+a,function(){window.watcherUpdates.updates_detected=!0,document.title="*"+window.watcherUpdates.originalDocumentTitle},{deep:!0})},unmounted:function(){window.removeEventListener("beforeunload",window.watcherUpdates.beforeWindowUnload)}},ds={mounted:function(e,t,n){var i=t.value;i&&!window.autofocus&&(window.autofocus=!0,e.focus())}},cs=window.Vue.nextTick,us={updated:function(e,t,n){cs(()=>{!window.watcherUpdates||!window.watcherUpdates.updates_detected?e.classList.add("hidden"):e.classList.remove("hidden")})}};function Fn(e,t=250){let n=!1,i;return function(){return n===!1&&(n=!0,setTimeout(()=>{n=!1},t),i=e.apply(this,arguments)),i}}const $e=window.Vue,fs={created:function(e,t){const n=t.value?t.value.topOffset:null,i=t.value?t.value.topOffsetEl:null,s=t.value?t.value.leftOffset:null,o=t.value?t.value.leftOffsetEl:null,a=t.value?t.value.scrollContainerEl:".q-page-container",r=e.querySelector(".mini");for(var l=0;l<e.childNodes.length;l++){var d=e.childNodes[l];d.classList&&!d.classList.contains("mini")&&d.classList.add("not-mini")}$e.minifyHandler=function(){var u=e.closest(a),p=u?-u.getBoundingClientRect().y:window.pageYOffset,h=u?-u.getBoundingClientRect().x:window.pageXOffset,g=e.getBoundingClientRect().y+p,c=e.getBoundingClientRect().x+h;(n||i)&&(g=$e.minifyComputeOffset(n,i,0,"TOP")),(s||o)&&(c=$e.minifyComputeOffset(s,o,0,"LEFT"));var f=r.getBoundingClientRect().height,m=e.getBoundingClientRect().height;p>m-f?(r.classList.add("visible"),r.style.top=g+"px",r.style.left=c+"px"):(r.classList.remove("visible"),r.style.top=-f-g+"px")},$e.minifyComputeOffset=function(u,p,h,g){var c=h;if(u)c=u;else if(p){var f=document.querySelector(p),m=f.getBoundingClientRect();g==="LEFT"?c=m.width+m.x:g==="TOP"&&(c=m.height+m.y)}return c},window.addEventListener("scroll",$e.minifyHandler),window.addEventListener("resize",Fn($e.minifyHandler,50))},updated:function(){setTimeout($e.minifyHandler,50)},unmounted:function(e){window.removeEventListener("scroll"),window.removeEventListener("resize");for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];n.classList&&n.classList.remove("not-mini")}}},hs=[null,document,document.body,document.scrollingElement,document.documentElement];function ps(e,t){let n=$s(t);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return hs.includes(n)?window:n}function ms(e){return(e===window?document.body:e).scrollHeight}function gs(e){return(e===window?document.body:e).scrollWidth}function En(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function Tn(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function Bt(e,t,n=0){const i=arguments[3]===void 0?performance.now():arguments[3],s=En(e);if(n<=0){s!==t&&jt(e,t);return}requestAnimationFrame(o=>{const a=o-i,r=s+(t-s)/Math.max(a,n)*a;jt(e,r),r!==t&&Bt(e,t,n-a,o)})}function It(e,t,n=0){const i=arguments[3]===void 0?performance.now():arguments[3],s=Tn(e);if(n<=0){s!==t&&zt(e,t);return}requestAnimationFrame(o=>{const a=o-i,r=s+(t-s)/Math.max(a,n)*a;zt(e,r),r!==t&&It(e,t,n-a,o)})}function jt(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function zt(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function ws(e,t,n){if(n){Bt(e,t,n);return}jt(e,t)}function bs(e,t,n){if(n){It(e,t,n);return}zt(e,t)}let wt;function ys(){if(wt!==void 0)return wt;const e=document.createElement("p"),t=document.createElement("div");On(e,{width:"100%",height:"200px"}),On(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),t.remove(),wt=n-i,wt}function vs(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}function $s(e){if(e==null)return;if(typeof e=="string")try{return document.querySelector(e)||void 0}catch{return}const t=unref(e);if(t)return t.$el||t}function On(e,t){const n=e.style;for(const i in t)n[i]=t[i]}const Fe={getScrollTarget:ps,getScrollHeight:ms,getScrollWidth:gs,getVerticalScrollPosition:En,getHorizontalScrollPosition:Tn,animVerticalScrollTo:Bt,animHorizontalScrollTo:It,setVerticalScrollPosition:ws,setHorizontalScrollPosition:bs,getScrollbarWidth:ys,hasScrollbar:vs},L=window.Vue,_s={created:function(e,t){L.createDebugLine=function(g,c,f,m){let b=document.createElement("div");return b.style.position=c,b.style.top=f+"px",b.style.border="none",b.style.borderTop=m+" solid 1px",b.style.width="100%",b.style.zIndex="10000",b.style.padding="0px",b.style.lineHeight="0px",b.style.fontSize="12px",b.style.color=m,b.innerHTML=g,document.querySelector("body").appendChild(b),b};const n=t.value.debug?t.value.debug:!1,i=t.value.startingOffset?t.value.startingOffset:24,s=t.value.fixedPos?t.value.fixedPos:24,o=i-s,a=t.value.scanner?t.value.scanner:s+30,r=e.querySelectorAll("a");r[0].classList.add("active"),r[0].ariaCurrent="step";const l=Fe.getScrollTarget(document.querySelector(r[0].hash));let d=[],u,p;n&&(u=L.createDebugLine("startLinear","absolute",0,"red"),p=L.createDebugLine("last","absolute",0,"red")),L.scrollSpyHandler=function(){if(n){for(var g=e,c=0,f=0;g&&!isNaN(g.offsetLeft)&&!isNaN(g.offsetTop);)c+=g.offsetLeft-g.scrollLeft,f+=g.offsetTop-g.scrollTop,g=g.offsetParent;console.log("x: "+c),console.log("y: "+f+" (startingOffset)")}window.pageYOffset>o?(e.style.top||(e.style.top=s+"px",e.classList.add("fixed")),e.style.width=e.parentElement.getBoundingClientRect().width+"px"):e.style.top&&(e.classList.remove("fixed"),e.style.top=null,e.style.width=null);for(var m=Fe.getVerticalScrollPosition(l),b=L.computeBreakPoints(m),_=0;_<r.length;_++)b[_]<=m&&(_>=r.length-1||m<b[_+1])?(r[_].classList.add("active"),r[_].ariaCurrent="step"):(r[_].classList.remove("active"),r[_].removeAttribute("aria-current"))},L.computeBlockTop=function(g){var c=[];for(let f=0;f<r.length;f++){const m=r[f].hash,b=document.querySelector(m);b&&c.push(g+b.getBoundingClientRect().top)}return c},L.scrollTo=function(g){g.preventDefault();const c=g.target.hash,f=document.querySelector(c);for(var m=Fe.getVerticalScrollPosition(l)+f.getBoundingClientRect().top-a,b=Fe.getVerticalScrollPosition(l),_=L.computeBlockTop(b),y=L.computeBreakPoints(b),D=0;D<r.length;D++)if(r[D].hash==c){_[D]-a<y[D+1]||!y[D+1]?m=_[D]-a:m=y[D+1]-1;break}var w=200;Fe.setVerticalScrollPosition(l,m,w)},L.computeBreakPoints=function(g){var c=L.computeBlockTop(g);const f=window.innerHeight||document.documentElement.clientHeight,m=Fe.getScrollHeight(l),_=m-f;let y=_-f+a;for(let $=1;$<r.length;$++)if(c[$]-a>y){y=c[$]-a;break}const D=_-y;var w=[];w.push(0);for(let $=1;$<r.length;$++)c[$]-a>y?w[$]=y+D*(c[$]-y)/(m-y):w[$]=c[$]-a,w[$]=Math.round(w[$]);if(n){for(let $=1;$<r.length;$++){var C;d.length<$?(C=L.createDebugLine("navId#"+$,"absolute",0,"red"),d.push(C)):C=d[$-1],C.style.top=w[$]+a+"px"}u.style.top=y+a+"px",p.style.top=_+a+"px"}return w},e.classList.add("scroll-spy-nav");for(var h=0;h<r.length;h++)r[h].addEventListener("click",L.scrollTo);window.addEventListener("scroll",L.scrollSpyHandler),window.addEventListener("resize",Fn(L.scrollSpyHandler,50))},unmounted:function(e){e.classList.remove("scroll-spy-nav"),window.removeEventListener("scroll"),window.removeEventListener("resize");const t=e.querySelectorAll("a");for(var n=0;n<t.length;n++)t.removeEventListener("click")}};function Cs(e,t){return new Date(e)-new Date(t)}function Mn(e){return Object.prototype.toString.call(e)==="[object Date]"}function Ln(e){return typeof e=="number"&&isFinite(e)}var bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rt,Pn;function Ss(){if(Pn)return Rt;Pn=1;var e="Expected a function",t=NaN,n="[object Symbol]",i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,r=parseInt,l=typeof bt=="object"&&bt&&bt.Object===Object&&bt,d=typeof self=="object"&&self&&self.Object===Object&&self,u=l||d||Function("return this")(),p=Object.prototype,h=p.toString,g=Math.max,c=Math.min,f=function(){return u.Date.now()};function m(w,C,$){var he,Ge,yt,Ee,W,_e,Je=0,An=!1,Ye=!1,Jt=!0;if(typeof w!="function")throw new TypeError(e);C=D(C)||0,b($)&&(An=!!$.leading,Ye="maxWait"in $,yt=Ye?g(D($.maxWait)||0,C):yt,Jt="trailing"in $?!!$.trailing:Jt);function Yt(E){var pe=he,We=Ge;return he=Ge=void 0,Je=E,Ee=w.apply(We,pe),Ee}function Vs(E){return Je=E,W=setTimeout(vt,C),An?Yt(E):Ee}function qs(E){var pe=E-_e,We=E-Je,In=C-pe;return Ye?c(In,yt-We):In}function Un(E){var pe=E-_e,We=E-Je;return _e===void 0||pe>=C||pe<0||Ye&&We>=yt}function vt(){var E=f();if(Un(E))return Bn(E);W=setTimeout(vt,qs(E))}function Bn(E){return W=void 0,Jt&&he?Yt(E):(he=Ge=void 0,Ee)}function Ds(){W!==void 0&&clearTimeout(W),Je=0,he=_e=Ge=W=void 0}function Fs(){return W===void 0?Ee:Bn(f())}function Wt(){var E=f(),pe=Un(E);if(he=arguments,Ge=this,_e=E,pe){if(W===void 0)return Vs(_e);if(Ye)return W=setTimeout(vt,C),Yt(_e)}return W===void 0&&(W=setTimeout(vt,C)),Ee}return Wt.cancel=Ds,Wt.flush=Fs,Wt}function b(w){var C=typeof w;return!!w&&(C=="object"||C=="function")}function _(w){return!!w&&typeof w=="object"}function y(w){return typeof w=="symbol"||_(w)&&h.call(w)==n}function D(w){if(typeof w=="number")return w;if(y(w))return t;if(b(w)){var C=typeof w.valueOf=="function"?w.valueOf():w;w=b(C)?C+"":C}if(typeof w!="string")return w===0?w:+w;w=w.replace(i,"");var $=o.test(w);return $||a.test(w)?r(w.slice(2),$?2:8):s.test(w)?t:+w}return Rt=m,Rt}var ks=Ss();const Nn=xs(ks),q=window.Quasar,Ht={debounce:Nn,onAjaxError:function(e){let t={type:"negative",message:"Network Error.",multiLine:!0,icon:"warning",timeout:2500};if(e){if(Object.prototype.hasOwnProperty.call(e.data,"redirect")){window.location=e.data.redirect;return}else Object.prototype.hasOwnProperty.call(e.data,"message")&&(t.message=e.data.message);if(e.status===401){t.message=this.$q.lang.vui.ajaxErrors.code401,this.$root.$emit("unauthorized",e);return}else e.status===403?t.message=this.$q.lang.vui.ajaxErrors.code403:e.status===404?t.message=this.$q.lang.vui.ajaxErrors.code404:e.status===405?t.message=this.$q.lang.vui.ajaxErrors.code405:e.status===422?(t.message="",Object.keys(e.data).forEach((function(i){this.$data.uiMessageStack[i]=e.data[i]}).bind(this))):e.status>=500&&(t.message=this.$q.lang.vui.ajaxErrors.code500);if(e.statusText&&e.status!==422&&(t.message=e.statusText),Object.prototype.hasOwnProperty.call(e,"data")){if(Object.prototype.hasOwnProperty.call(e.data,"message")&&e.data.message&&e.data.message.length>0)t.message=e.data.message;else if(Object.prototype.hasOwnProperty.call(e.data,"globalErrors")&&e.data.globalErrors&&e.data.globalErrors.length>0){var n=this.uiMessageStackToNotify(e.data);n.forEach((function(i){this.$q.notify(i)}).bind(this)),t.message=""}}}t.message.length>0&&this.$q.notify(t)},uiMessageStackToNotify:function(e){if(e){var t=[];return Object.prototype.hasOwnProperty.call(e,"globalErrors")&&e.globalErrors&&e.globalErrors.length>0&&e.globalErrors.forEach(function(n){t.push({color:"negative",textColor:"white",message:n,multiLine:!0,timeout:2500})}),Object.prototype.hasOwnProperty.call(e,"globalWarnings")&&e.globalWarnings&&e.globalWarnings.length>0&&e.globalWarnings.forEach(function(n){t.push({color:"warning",textColor:"black",message:n,multiLine:!0,timeout:2500})}),Object.prototype.hasOwnProperty.call(e,"globalInfos")&&e.globalInfos&&e.globalInfos.length>0&&e.globalInfos.forEach(function(n){t.push({color:"info",textColor:"black",message:n,multiLine:!0,timeout:2500})}),Object.prototype.hasOwnProperty.call(e,"globalSuccess")&&e.globalSuccess&&e.globalSuccess.length>0&&e.globalSuccess.forEach(function(n){t.push({color:"positive",textColor:"black",message:n,multiLine:!0,timeout:2500})}),t}},i18n:function(){return VertigoUi.lang[VertigoUi.vuiLang]},getSafeValue:function(e,t,n){return this.$data.vueData[e]&&this.$data.vueData[e][t]?this.$data.vueData[e][t][n]:null},transformListForSelection:function(e,t,n,i,s){let o=this.$data.vueData[e];if(i&&(o=o.filter(i)),s!=null&&s.trim()!==""){const a=this.unaccentLower(s);o=o.filter(r=>this.unaccentLower(r[n].toString()).indexOf(a)>-1),o.sort((r,l)=>{const d=this.unaccentLower(r[n].toString()).startsWith(a),u=this.unaccentLower(l[n].toString()).startsWith(a);return d&&!u?-1:!d&&u?1:0})}return o.map(function(a){return{value:a[t],label:a[n].toString()}})},unaccentLower:function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()},paginationAndSortHandler:function(e){var t=e.pagination;let n=this.$data.componentStates,i=this.$data.vueData;var s=n[t.componentId].pagination;if((s.sortBy!=t.sortBy||s.descending!=t.descending)&&t.sortBy){let o=n[t.componentId].columns.find(a=>a.name===t.sortBy);t.sortUrl?(t.page=1,this.$http.post(t.sortUrl,this.objectToFormData({sortFieldName:o.field,sortDesc:t.descending,CTX:this.$data.vueData.CTX})).then((function(a){i[t.listKey]=a.data.model[t.listKey],this.$data.vueData.CTX=a.data.model.CTX}).bind(this))):this.$refs[t.componentId].sortMethod.apply(this.$refs[t.componentId],[i[t.listKey],o.field,t.descending])}n[t.componentId].pagination=t},paginatedData:function(e,t){var i=this.$data.componentStates[t].pagination;if(i.rowsPerPage!=0){var s=(i.page-1)*i.rowsPerPage,o=i.page*i.rowsPerPage;return this.$data.vueData[e].slice(s,o)}return this.$data.vueData[e]},createDefaultTableSort:function(e){return this.$data.componentStates[e]?(function(t,n,i){let s=this.$data.componentStates[e].columns.find(o=>o.name===n);if(s.datetimeFormat){const o=i===!0?-1:1,a=r=>r[s.field];return t.sort((r,l)=>{let d=a(r),u=a(l);return(q.date.extractDate(d,s.datetimeFormat).getTime()>q.date.extractDate(u,s.datetimeFormat).getTime()?1:-1)*o})}else return this.sortCiAi(t,s.field,i)}).bind(this):this.sortCiAi},sortCiAi:function(e,t,n){const i=n===!0?-1:1,s=a=>a[t],o=new Intl.Collator;return e.sort((a,r)=>{let l=s(a),d=s(r);return l==null?-1*i:d==null?1*i:Ln(l)===!0&&Ln(d)===!0?(l-d)*i:Mn(l)===!0&&Mn(d)===!0?Cs(l,d)*i:typeof l=="boolean"&&typeof d=="boolean"?(l-d)*i:([l,d]=[l,d].map(u=>(u+"").toLocaleString()),o.compare(l,d)*i)})},selectedFunction:function(e,t,n){this.$data.vueData[e][t]=n.value},searchAutocomplete:function(e,t,n,i,s,o,a,r,l){if(a.length<o){l();return}this.$http.post(s,this.objectToFormData({terms:a,list:e,valueField:t,labelField:n,CTX:this.$data.vueData.CTX})).then((function(d){var u=d.data.map(function(p){return{value:p[t],label:p[n].toString()}});r((function(){this.$data.componentStates[i].options=u}).bind(this))}).bind(this)).catch(function(d){this.$q.notify(d.response.status+":"+d.response.statusText),r([])})},loadAutocompleteById:function(e,t,n,i,s,o,a,r){var l;r!=null?l=this.$data.vueData[o][r][a]:l=this.$data.vueData[o][a],Array.isArray(l)?l.forEach(d=>this.loadMissingAutocompleteOption(e,t,n,i,s,d)):this.loadMissingAutocompleteOption(e,t,n,i,s,l)},loadMissingAutocompleteOption:function(e,t,n,i,s,o){!o||this.$data.componentStates[i].options.filter((function(a){return a.value===o}).bind(this)).length>0||(this.$data.componentStates[i].loading=!0,this.$http.post(s,this.objectToFormData({value:o,list:e,valueField:t,labelField:n,CTX:this.$data.vueData.CTX})).then((function(a){var r=a.data.map(function(l){return{value:l[t],label:l[n].toString()}});this.$data.componentStates[i].options=this.$data.componentStates[i].options.concat(r)}).bind(this)).catch((function(a){this.$q.notify(a.response.status+":"+a.response.statusText)}).bind(this)).then((function(){this.$data.componentStates[i].loading=!1}).bind(this)))},decodeDate:function(e,t){return e===q.date.formatDate(q.date.extractDate(e,"YYYY-MM-DD"),"YYYY-MM-DD")?q.date.formatDate(q.date.extractDate(e,"YYYY-MM-DD"),t):e},encodeDate:function(e,t){return e===q.date.formatDate(q.date.extractDate(e,t),t)?q.date.formatDate(q.date.extractDate(e,t),"YYYY-MM-DD"):e},decodeDatetime:function(e,t){return e===q.date.formatDate(q.date.extractDate(e,"YYYY-MM-DD[T]HH:mm"),"YYYY-MM-DD[T]HH:mm")?q.date.formatDate(q.date.extractDate(e,"YYYY-MM-DD[T]HH:mm"),t):e},encodeDatetime:function(e,t){return e===q.date.formatDate(q.date.extractDate(e,t),t)?q.date.formatDate(q.date.extractDate(e,t),"YYYY-MM-DD[T]HH:mm"):e},sortDatesAsString:function(e){return function(t,n,i,s){return q.date.extractDate(t,e).getTime()>q.date.extractDate(n,e).getTime()?1:-1}},goTo:function(e){window.location=e},openModal:function(e,t,n){if(t){var i=t;if(n&&Object.keys(n).length>0){var s=Object.keys(n).map(function(o){return o+"="+n[o]}).join("&");i=i+"?"+s}this.$data.componentStates[e].srcUrl=i}this.$data.componentStates[e].opened=!0},toogleFacet:function(e,t,n,i=1){let s=this.$data.vueData;var o=!1;s[n+"_facets"].forEach(function(r){r.code===e&&(o=r.multiple)});var a=s[n+"_selectedFacets"][e];a?a.includes(t)?o?a.splice(a.indexOf(t),1):a.splice(0):a.push(t):s[n+"_selectedFacets"][e]=[t],this.search(n,i)},search:Nn(function(e,t=1){let n=this.$data.componentStates,i=this.$data.vueData;var s=e+"_selectedFacets",o=i[e+"_criteriaContextKey"],a=this.vueDataParams([o]);a.append(s,JSON.stringify(i[s]));var r=n[e+"Search"].searchUrl,l=n[e+"Search"].collectionComponentId;if(n[l].pagination&&n[l].pagination.sortBy){var d=n[l].pagination;let u=n[l].columns.find(p=>p.name===d.sortBy);u.field!=null&&a.append("sortFieldName",u.field),a.append("sortDesc",d.descending)}this.httpPostAjax(r,a,{onSuccess:function(u){if(n[l].pagination){var p=n[l].pagination;p.page=t,p.rowsNumber=u.data.model[e+"_list"].length}}})},400),showMore:function(e){let t=this.$data.componentStates;var n=t[e].pagination.showMoreCount;n||(n=1,t[e].pagination.showMoreCount=n),t[e].pagination.rowsPerPage=t[e].pagination.rowsPerPage/n*(n+1)},vueDataToArray(e){return Array.isArray(e)?e:e?[e]:[]},vueDataToObject(e){return Array.isArray(e)?e.length==0?null:e.length==1?e[0]:e:e||null},obtainVueDataAccessor(e,t,n,i){return n!=null&&n!="null"?i!=null?{get:function(){return e.$data.vueData[t][i][n]},set:function(s){e.$data.vueData[t][i][n]=s}}:{get:function(){return e.$data.vueData[t][n]},set:function(s){e.$data.vueData[t][n]=s}}:{get:function(){return e.$data.vueData[t]},set:function(s){e.$data.vueData[t]=s}}},uploader_dragenter(e,t){let n=this.$data.componentStates;n[e].dragover=!0},uploader_dragover(e,t){var n;(n=this.$refs[t])!=null&&n.canAddFiles()||(e.dataTransfer.dropEffect="none")},uploader_dragleave(e){let t=this.$data.componentStates;t[e].dragover=!1},uploader_drop(e,t){var n=this.$refs[t];n.addFiles(e.dataTransfer.files)},modal_iframeLoad(e){let t=e.dataset.componentId;e.dataset.autoHeight==="true"&&(e.style.opacity="0",this.modal_iframeAjustHeight(e)),this.componentStates[t].loading=!1,e.style.opacity="1"},modal_iframeAjustHeight(e){let t=e.dataset.componentId,n=e.contentDocument?e.contentDocument:e.contentWindow.document;setTimeout((function(){let i=this.getDocHeight(n)+4+"px";e.style.height="",this.componentStates[t].height=i}).bind(this),1)},getDocHeight:function(e){e=e||document;let t=e.body,n=e.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,n.scrollHeight,n.offsetHeight,n.clientHeight)},httpPostAjax:function(e,t,n){var i=t?Array.isArray(t)?this.vueDataParams(t):t:[];let s=this.$data.vueData,o=this.$data.uiMessageStack,a=this.isFormData(i)?i:this.objectToFormData(i);a.append("CTX",s.CTX),this.pushPendingAction(e),this.$http.post(e,a).then((function(r){if(r.data.model.CTX&&(s.CTX=r.data.model.CTX),Object.keys(r.data.model).forEach(function(d){d!="CTX"&&(s[d]=r.data.model[d])}),n&&n.notifyUiMessageStack){var l=this.uiMessageStackToNotify(r.data.uiMessageStack);l.forEach((function(d){this.$q.notify(d)}).bind(this))}else Object.keys(r.data.uiMessageStack).forEach(function(d){o[d]=r.data.uiMessageStack[d]});n&&n.onSuccess&&n.onSuccess.call(this,r,window)}).bind(this)).catch(function(r){n&&n.onError&&n.onError.call(this,r.response,window)}).finally((function(){this.removePendingAction(e)}).bind(this))},isPendingAction:function(e){return e?this.$data.componentStates.pendingAction.actionNames.includes(e):this.$data.componentStates.pendingAction.actionNames.length>0},pushPendingAction:function(e){this.$data.componentStates.pendingAction.actionNames.push(e)},removePendingAction:function(e){this.$data.componentStates.pendingAction.actionNames=this.$data.componentStates.pendingAction.actionNames.filter(t=>t!==e)},removePendingActionAfterDelay:function(e,t){setTimeout((function(){this.removePendingAction(e)}).bind(this),t)},hasFieldsError:function(e,t,n){var a,r;const i=this.$data.uiMessageStack.objectFieldErrors,s=t.split("_")[0];if(i){var o=n!=null?e+"["+n+"]":e;return((r=(a=i==null?void 0:i[o])==null?void 0:a[s])==null?void 0:r.length)>0}return!1},getErrorMessage:function(e,t,n){const i=this.$data.uiMessageStack.objectFieldErrors,s=t.split("_")[0];if(i){var o=n!=null?e+"["+n+"]":e;if(Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&Object.prototype.hasOwnProperty.call(i[o],s))return i[o][s].join(", ")}else return""},vueDataParams:function(e){for(var t=new FormData,n=0;n<e.length;n++){var i=e[n].split(".",2),s=i[0],o=i[1],a=this.$data.vueData[s];a&&typeof a=="object"&&Array.isArray(a)===!1?o?this._vueDataParamsKey(t,s,o,a):Object.keys(a).forEach((function(r){r.includes("_")||this._vueDataParamsKey(t,s,r,a)}).bind(this)):a&&Array.isArray(a)===!0?a.forEach((function(r,l){o?this._vueDataParamsKey(t,s+"]["+l,o,r):Object.keys(r).forEach((function(d){d.includes("_")||this._vueDataParamsKey(t,s+"]["+l,d,r)}).bind(this))}).bind(this)):this.appendToFormData(t,"vContext["+s+"]",a)}return t},_vueDataParamsKey:function(e,t,n,i){let s=i[n];Array.isArray(s)?!s||s.length==0?this.appendToFormData(e,"vContext["+t+"]["+n+"]",""):s.forEach((function(o,a){s[a]&&typeof s[a]=="object"?this.appendToFormData(e,"vContext["+t+"]["+n+"]",s[a]._v_inputValue):this.appendToFormData(e,"vContext["+t+"]["+n+"]",s[a])}).bind(this)):s&&typeof s=="object"?this.appendToFormData(e,"vContext["+t+"]["+n+"]",s._v_inputValue):this.appendToFormData(e,"vContext["+t+"]["+n+"]",s)},objectToFormData:function(e){const t=new FormData;return Object.keys(e).forEach((function(n){this.appendToFormData(t,n,e[n])}).bind(this)),t},appendToFormData:function(e,t,n){n!=null?e.append(t,n):e.append(t,"")},isFormData:function(e){return typeof FormData<"u"&&e instanceof FormData},pastePlainTextCapture(e,t){if(e.target.nodeName==="INPUT")return;let n,i;e.preventDefault(),e.originalEvent&&e.originalEvent.clipboardData.getData?(n=e.originalEvent.clipboardData.getData("text/plain"),this.$refs[t].runCmd("insertText",n)):e.clipboardData&&e.clipboardData.getData?(n=e.clipboardData.getData("text/plain"),this.$refs[t].runCmd("insertText",n)):window.clipboardData&&window.clipboardData.getData&&(i||(i=!0,this.$refs[t].runCmd("ms-pasteTextOnly",n)),i=!1)},editorHandlerFixHelper(e,t,n,i,s,o){if(o.hasParents(e,!0))if(s.runCmd("formatBlock",i),o.range.commonAncestorContainer.hasChildNodes()){for(var r=!1,l=o.range.startContainer;l&&l!==o.el&&l.parentNode!==o.range.commonAncestorContainer;)l=l.parentNode;for(var d=o.range.endContainer;d&&d!==o.el&&d.parentNode!==o.range.commonAncestorContainer;)d=d.parentNode;o.range.commonAncestorContainer.childNodes.forEach(function(u){u===l&&(r=!0),r&&(u.outerHTML=u.outerHTML.replace(t,"")),u===d&&(r=!1)})}else for(var a=o.selection.focusNode.parentNode;a&&a!==o.el;)e.includes(a.nodeName.toLowerCase())&&(a.outerHTML=a.outerHTML.replace(t,"")),a=a.parentNode;else s.runCmd("formatBlock",n)},editorHandlerBlockquoteFix(e,t,n){this.editorHandlerFixHelper(["blockquote"],/<\/?blockquote[^>]*\/?>/g,"blockquote","div",t,n)},editorHandlerParagrapheFix(e,t,n){this.editorHandlerFixHelper(["h1","h2","h3","h4","h5","h6","h7","h8","h9"],/<\/?h[1-9][^>]*\/?>/g,"div","div",t,n)}};var Gt={getBoundMethods:function(e,t){let n={};return Object.keys(t).forEach(i=>n[i]=t[i].bind(e)),n},install:function(e,t){if(e.component("v-chatbot",eo),e.component("v-commands",fo),e.component("v-comments",yo),e.component("v-extensions-store",Do),e.component("v-facets",Lo),e.component("v-geopoint-input",Bo),e.component("v-handles",Xo),e.component("v-json-editor",si),e.component("v-notifications",hi),e.component("v-map",Ci),e.component("v-map-layer",Oi),e.component("v-tree",Ri),e.component("v-file-upload",ha),e.component("v-file-upload-quasar",Oa),e.component("v-dashboard-chart",rs),e.directive("alert-unsaved-updates",ls),e.directive("autofocus",ds),e.directive("if-unsaved-updates",us),e.directive("minify",fs),e.directive("scroll-spy",_s),!t.axios){console.error("You have to install axios");return}e.axios=t.axios,e.$http=t.axios,Object.defineProperties(e.config.globalProperties,{axios:{get(){return t.axios}},$http:{get(){return t.axios}},$vui:{get(){return Gt.getBoundMethods(Ht,Ht)}}})},methods:Ht,initData:function(e,t){e.vueData=t.vueData,e.componentStates=t.componentStates,e.uiMessageStack=t.uiMessageStack,e.vuiLang=t.vuiLang},lang:{enUS:{ajaxErrors:{code401:"UnAuthorized, you may login with an authorized account",code403:"Forbidden, your havn&quote;t enought rights",code404:"API Route is Missing or Undefined",code405:"API Route Method Not Allowed",code500:"Server Error"},comments:{title:"Comments",inputLabel:"Insert here a comment",actionlabel:"Publish",cancel:"Cancel",save:"Save"},chatbot:{errorMessage:"An error occured sending the message",tryAgain:"Try again",suggestedAnswers:"Suggested answers",inputPlaceHolder:"Enter here a message",restartMessage:"Conversation is restarting"},facets:{showAll:"Show all",showLess:"Show less"},notifications:{days:"days",hours:"hours",minutes:"min",seconds:"s",serverLost:"Reconnecting to server..."},commands:{globalPlaceholder:"Type / to show all available commands",executeCommand:"Press Enter to execute command",linkLabel:"Show details"},uploader:{clear_all:"Clear All",remove:"Remove",add:"Pick Files",abort:"Abort Upload",download:"Download",fileErrorTooBig:"Error : This file is too large",fileErrorUnknown:"Unknown error : This file cannot be uploaded",progress:"Progress",estimated:"Time remaining",unit_b:"B",unit_kb:"KB",unit_mb:"MB",unit_gb:"GB"},handles:{placeholder:"Enter a handle : format is type/code"}},fr:{ajaxErrors:{code401:"Non autoris&eacute;, essayez de vous reconnecter",code403:"Vous n&quote;avez pas les droits suffisants pour effectuer cette action",code404:"API introuvable",code405:"API non autoris&eacute;e",code500:"Erreur serveur"},comments:{title:"Commentaires",inputLabel:"Insrer un commentaire ici",actionlabel:"Publier",cancel:"Annuler",save:"Sauver"},chatbot:{errorMessage:"Une erreur est survenue lors de l'envoi du message",tryAgain:"Essayez de nouveau",suggestedAnswers:"Rponses suggres",inputPlaceHolder:"Ecrire un message",restartMessage:"Redmarrage de la conversation"},facets:{showAll:"Voir plus",showLess:"Voir moins"},notifications:{days:"jours",hours:"heures",minutes:"min",seconds:"s",serverLost:"Reconnexion au serveur en cours..."},commands:{globalPlaceholder:"Taper / pour afficher les commandes disponibles",executeCommand:"Appuyer sur entre pour executer la commande",linkLabel:"Voir les dtails"},uploader:{clear_all:"Annuler tous",remove:"Supprimer",add:"Ajouter un fichier",abort:"Annuler",download:"Tlcharger",fileErrorTooBig:"Erreur : Le fichier est trop volumineux",fileErrorUnknown:"Erreur inconnue : Ce fichier ne peut pas tre envoy",progress:"Progression",estimated:"Temps restant",unit_b:"o",unit_kb:"Ko",unit_mb:"Mo",unit_gb:"Go"},handles:{placeholder:"Entrer un handle de la forme type/code"}}}};return window&&(window.VertigoUi=Gt),Gt});
//# sourceMappingURL=vertigo-ui.umd.js.map
